(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2313:(zt,rt,k)=>{"use strict";k.d(rt,{nm:()=>jr});var a=k(2122),ue=(k(4650),k(3692),k(259),k(5861)),ye=k(9681),le=k(4859),Ie=k(2090),Le=k(1877);const ce=new Map,ae={activated:!1,tokenObservers:[]},fe={initialized:!1,enabled:!1};function Ce(et){return ce.get(et)||Object.assign({},ae)}function qe(){return fe}class Xe{constructor(F,j,ie,me,Be){if(this.operation=F,this.retryPolicy=j,this.getWaitDuration=ie,this.lowerBound=me,this.upperBound=Be,this.pending=null,this.nextErrorWaitInterval=me,me>Be)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(F){var j=this;return(0,ue.Z)(function*(){j.stop();try{j.pending=new Ie.BH,yield function De(et){return new Promise(F=>{setTimeout(F,et)})}(j.getNextRun(F)),j.pending.resolve(),yield j.pending.promise,j.pending=new Ie.BH,yield j.operation(),j.pending.resolve(),yield j.pending.promise,j.process(!0).catch(()=>{})}catch(ie){j.retryPolicy(ie)?j.process(!1).catch(()=>{}):j.stop()}})()}getNextRun(F){if(F)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const j=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),j}}}const Q=new Ie.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function je(et){if(!Ce(et).activated)throw Q.create("use-before-activation",{appName:et.name})}function ze(et,F){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,ue.Z)(function*({url:et,body:F},j){const ie={"Content-Type":"application/json"},me=j.getImmediate({optional:!0});if(me){const Bt=yield me.getHeartbeatsHeader();Bt&&(ie["X-Firebase-Client"]=Bt)}const Be={method:"POST",body:JSON.stringify(F),headers:ie};let ee,ke;try{ee=yield fetch(et,Be)}catch(Bt){throw Q.create("fetch-network-error",{originalErrorMessage:null==Bt?void 0:Bt.message})}if(200!==ee.status)throw Q.create("fetch-status-error",{httpStatus:ee.status});try{ke=yield ee.json()}catch(Bt){throw Q.create("fetch-parse-error",{originalErrorMessage:null==Bt?void 0:Bt.message})}const Ke=ke.ttl.match(/^([\d.]+)(s)$/);if(!Ke||!Ke[2]||isNaN(Number(Ke[1])))throw Q.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ke.ttl}`});const pt=1e3*Number(Ke[1]),Dt=Date.now();return{token:ke.token,expireTimeMillis:Dt+pt,issuedAtTimeMillis:Dt}})).apply(this,arguments)}function at(et,F){const{projectId:j,appId:ie,apiKey:me}=et.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${j}/apps/${ie}:exchangeDebugToken?key=${me}`,body:{debug_token:F}}}const Se="firebase-app-check-store";let Ue=null;function st(){return Ue||(Ue=new Promise((et,F)=>{try{const j=indexedDB.open("firebase-app-check-database",1);j.onsuccess=ie=>{et(ie.target.result)},j.onerror=ie=>{var me;F(Q.create("storage-open",{originalErrorMessage:null===(me=ie.target.error)||void 0===me?void 0:me.message}))},j.onupgradeneeded=ie=>{0===ie.oldVersion&&ie.target.result.createObjectStore(Se,{keyPath:"compositeKey"})}}catch(j){F(Q.create("storage-open",{originalErrorMessage:null==j?void 0:j.message}))}}),Ue)}function wt(){return(wt=(0,ue.Z)(function*(et,F){const ie=(yield st()).transaction(Se,"readwrite"),Be=ie.objectStore(Se).put({compositeKey:et,value:F});return new Promise((ee,ke)=>{Be.onsuccess=Ke=>{ee()},ie.onerror=Ke=>{var pt;ke(Q.create("storage-set",{originalErrorMessage:null===(pt=Ke.target.error)||void 0===pt?void 0:pt.message}))}})})).apply(this,arguments)}const Ht=new Le.Yd("@firebase/app-check");function ur(et,F){return(0,Ie.hl)()?function _t(et,F){return function Gt(et,F){return wt.apply(this,arguments)}(function Sn(et){return`${et.options.appId}-${et.name}`}(et),F)}(et,F).catch(j=>{Ht.warn(`Failed to write token to IndexedDB. Error: ${j}`)}):Promise.resolve()}function Nt(){return qe().enabled}function Wn(){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,ue.Z)(function*(){const et=qe();if(et.enabled&&et.token)return et.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ir={error:"UNKNOWN_ERROR"};function Vn(et){return Ie.US.encodeString(JSON.stringify(et),!1)}function ln(et){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,ue.Z)(function*(et,F=!1){const j=et.app;je(j);const ie=Ce(j);let Be,me=ie.token;if(me&&!dr(me)&&(ie.token=void 0,me=void 0),!me){const Ke=yield ie.cachedTokenPromise;Ke&&(dr(Ke)?me=Ke:yield ur(j,void 0))}if(!F&&me&&dr(me))return{token:me.token};let ke,ee=!1;if(Nt()){ie.exchangeTokenPromise||(ie.exchangeTokenPromise=ze(at(j,yield Wn()),et.heartbeatServiceProvider).finally(()=>{ie.exchangeTokenPromise=void 0}),ee=!0);const Ke=yield ie.exchangeTokenPromise;return yield ur(j,Ke),ie.token=Ke,{token:Ke.token}}try{ie.exchangeTokenPromise||(ie.exchangeTokenPromise=ie.provider.getToken().finally(()=>{ie.exchangeTokenPromise=void 0}),ee=!0),me=yield Ce(j).exchangeTokenPromise}catch(Ke){"appCheck/throttled"===Ke.code?Ht.warn(Ke.message):Ht.error(Ke),Be=Ke}return me?Be?ke=dr(me)?{token:me.token,internalError:Be}:Rr(Be):(ke={token:me.token},ie.token=me,yield ur(j,me)):ke=Rr(Be),ee&&Rt(j,ke),ke})).apply(this,arguments)}function Hn(et,F){const j=Ce(et),ie=j.tokenObservers.filter(me=>me.next!==F);0===ie.length&&j.tokenRefresher&&j.tokenRefresher.isRunning()&&j.tokenRefresher.stop(),j.tokenObservers=ie}function rn(et){const{app:F}=et,j=Ce(F);let ie=j.tokenRefresher;ie||(ie=function cr(et){const{app:F}=et;return new Xe((0,ue.Z)(function*(){let ie;if(ie=Ce(F).token?yield ln(et,!0):yield ln(et),ie.error)throw ie.error;if(ie.internalError)throw ie.internalError}),()=>!0,()=>{const j=Ce(F);if(j.token){let ie=j.token.issuedAtTimeMillis+.5*(j.token.expireTimeMillis-j.token.issuedAtTimeMillis)+3e5;return ie=Math.min(ie,j.token.expireTimeMillis-3e5),Math.max(0,ie-Date.now())}return 0},3e4,96e4)}(et),j.tokenRefresher=ie),!ie.isRunning()&&j.isTokenAutoRefreshEnabled&&ie.start()}function Rt(et,F){const j=Ce(et).tokenObservers;for(const ie of j)try{"EXTERNAL"===ie.type&&null!=F.error?ie.error(F.error):ie.next(F)}catch(me){}}function dr(et){return et.expireTimeMillis-Date.now()>0}function Rr(et){return{token:Vn(Ir),error:et}}class kn{constructor(F,j){this.app=F,this.heartbeatServiceProvider=j}_delete(){const{tokenObservers:F}=Ce(this.app);for(const j of F)Hn(this.app,j.next);return Promise.resolve()}}const mr="app-check-internal";!function ui(){(0,ye._registerComponent)(new le.wA("app-check",et=>function Fr(et,F){return new kn(et,F)}(et.getProvider("app").getImmediate(),et.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((et,F,j)=>{et.getProvider(mr).initialize()})),(0,ye._registerComponent)(new le.wA(mr,et=>function xn(et){return{getToken:F=>ln(et,F),addTokenListener:F=>function gn(et,F,j,ie){const{app:me}=et,Be=Ce(me);if(Be.tokenObservers=[...Be.tokenObservers,{next:j,error:ie,type:F}],Be.token&&dr(Be.token)){const ke=Be.token;Promise.resolve().then(()=>{j({token:ke.token}),rn(et)}).catch(()=>{})}Be.cachedTokenPromise.then(()=>rn(et))}(et,"INTERNAL",F),removeTokenListener:F=>Hn(et.app,F)}}(et.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ye.registerVersion)("@firebase/app-check","0.6.3")}();class jr{constructor(){return(0,a.vb)("app-check")}}typeof window<"u"&&window},3692:(zt,rt,k)=>{"use strict";k.d(rt,{Ot:()=>pe,ZF:()=>be,hX:()=>Ce,z6:()=>ue});var a=k(259),B=k(4650),N=k(2122);class pe{constructor(Xe){return Xe}}class ue{constructor(){return(0,a.C6)()}}const Ie=new B.OlP("angularfire2._apps"),Le={provide:pe,useFactory:function le(We){return We&&1===We.length?We[0]:new pe((0,a.Mq)())},deps:[[new B.FiY,Ie]]},ce={provide:ue,deps:[[new B.FiY,Ie]]};function ae(We){return(Xe,De)=>{const we=Xe.runOutsideAngular(()=>We(De));return new pe(we)}}let fe=(()=>{class We{constructor(De){(0,a.KN)("angularfire",N.q4.full,"core"),(0,a.KN)("angularfire",N.q4.full,"app"),(0,a.KN)("angular",B.q4F.full,De.toString())}}return We.\u0275fac=function(De){return new(De||We)(B.LFG(B.Lbi))},We.\u0275mod=B.oAB({type:We}),We.\u0275inj=B.cJS({providers:[Le,ce]}),We})();function Ce(We,...Xe){return{ngModule:fe,providers:[{provide:Ie,useFactory:ae(We),multi:!0,deps:[B.R0b,B.zs3,N.HU,...Xe]}]}}const be=(0,N.u3)(a.ZF,!0)},7246:(zt,rt,k)=>{"use strict";k.d(rt,{gx:()=>fe,Xb:()=>ze,v0:()=>at,AR:()=>We,e5:()=>Vn});var a=k(2122),B=k(4650),N=k(3692),pe=k(259),ue=k(2313),ye=k(2722);k(2090),k(9681),k(1877),k(4859);class fe{constructor(Et){return Et}}const qe=new B.OlP("angularfire2.auth-instances");function be(xt){return(Et,qt)=>{const un=Et.runOutsideAngular(()=>xt(qt));return new fe(un)}}const de={provide:class Ce{constructor(){return(0,a.vb)("auth")}},deps:[[new B.FiY,qe]]},ne={provide:fe,useFactory:function dt(xt,Et){const qt=(0,a.JM)("auth",xt,Et);return qt&&new fe(qt)},deps:[[new B.FiY,qe],N.Ot]};let Ye=(()=>{class xt{constructor(){(0,pe.KN)("angularfire",a.q4.full,"auth")}}return xt.\u0275fac=function(qt){return new(qt||xt)},xt.\u0275mod=B.oAB({type:xt}),xt.\u0275inj=B.cJS({providers:[ne,de]}),xt})();function We(xt,...Et){return{ngModule:Ye,providers:[{provide:qe,useFactory:be(xt),multi:!0,deps:[B.R0b,B.zs3,a.HU,N.z6,[new B.FiY,ue.nm],...Et]}]}}const ze=(0,a.u3)(ye.a5,!0),at=(0,a.u3)(ye.n,!0),Vn=(0,a.u3)(ye.a6,!0)},2385:(zt,rt,k)=>{"use strict";k.d(rt,{ST:()=>By,yb:()=>Vy});var a=k(4650),B=k(4986),N=k(9751),pe=k(8996),ue=k(9646),ye=k(2122),le=k(8675),Ie=k(4482),Le=k(5403);function ce(){return(0,Ie.e)((i,e)=>{let t,o=!1;i.subscribe((0,Le.x)(e,u=>{const h=t;t=u,o&&e.next([h,u]),o=!0}))})}var te,ae=k(4004),fe=k(5026),Ce=k(1884),Fe=k(9300),qe=k(2011),dt=k(6895),de=(k(9568),k(3942)),ne=k(5861),Ye=k(9681),We=k(4859),Xe=k(1877),De=k(2090),we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q={},je=je||{},Pe=we||self;function Ve(){}function ze(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Qe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var it="closure_uid_"+(1e9*Math.random()>>>0),at=0;function xe(i,e,t){return i.call.apply(i.bind,arguments)}function Me(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Se(i,e,t){return(Se=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xe:Me).apply(null,arguments)}function Je(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ue(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,u,h){for(var y=Array(arguments.length-2),C=2;C<arguments.length;C++)y[C-2]=arguments[C];return e.prototype[u].apply(o,y)}}function st(){this.s=this.s,this.o=this.o}st.prototype.s=!1,st.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function He(i){Object.prototype.hasOwnProperty.call(i,it)&&i[it]||(i[it]=++at)}(this)},st.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _t=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function bt(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Ot(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(ze(o)){const u=i.length||0,h=o.length||0;i.length=u+h;for(let y=0;y<h;y++)i[u+y]=o[y]}else i.push(o)}}function Gt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Gt.prototype.h=function(){this.defaultPrevented=!0};var wt=function(){if(!Pe.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Pe.addEventListener("test",Ve,e),Pe.removeEventListener("test",Ve,e)}catch(t){}return i}();function nn(i){return/^[\s\xa0]*$/.test(i)}var wn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Sn(i,e){return i<e?-1:i>e?1:0}function Ht(){var i=Pe.navigator;return i&&(i=i.userAgent)?i:""}function Fn(i){return-1!=Ht().indexOf(i)}function Jn(i){return Jn[" "](i),i}Jn[" "]=Ve;var Vn,i,Ln=Fn("Opera"),qn=Fn("Trident")||Fn("MSIE"),Nt=Fn("Edge"),Wn=Nt||qn,Gn=Fn("Gecko")&&!(-1!=Ht().toLowerCase().indexOf("webkit")&&!Fn("Edge"))&&!(Fn("Trident")||Fn("MSIE"))&&!Fn("Edge"),gr=-1!=Ht().toLowerCase().indexOf("webkit")&&!Fn("Edge");function Ir(){var i=Pe.document;return i?i.documentMode:void 0}e:{var ln="",Qt=(i=Ht(),Gn?/rv:([^\);]+)(\)|;)/.exec(i):Nt?/Edge\/([\d\.]+)/.exec(i):qn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):gr?/WebKit\/(\S+)/.exec(i):Ln?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Qt&&(ln=Qt?Qt[1]:""),qn){var gn=Ir();if(null!=gn&&gn>parseFloat(ln)){Vn=String(gn);break e}}Vn=ln}var Hn={};var dr=Pe.document&&qn&&(Ir()||parseInt(Vn,10))||void 0;function Rr(i,e){if(Gt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Gn){e:{try{Jn(e.nodeName);var u=!0;break e}catch(h){}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:kn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Rr.X.h.call(this)}}Ue(Rr,Gt);var kn={2:"touch",3:"pen",4:"mouse"};Rr.prototype.h=function(){Rr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Fr="closure_listenable_"+(1e6*Math.random()|0),xn=0;function In(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++xn,this.ba=this.ea=!1}function or(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function xt(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Et(i){const e={};for(const t in i)e[t]=i[t];return e}const qt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function un(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let h=0;h<qt.length;h++)t=qt[h],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function dn(i){this.src=i,this.g={},this.h=0}function Rn(i,e){var t=e.type;if(t in i.g){var h,o=i.g[t],u=_t(o,e);(h=0<=u)&&Array.prototype.splice.call(o,u,1),h&&(or(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Ae(i,e,t,o){for(var u=0;u<i.length;++u){var h=i[u];if(!h.ba&&h.listener==e&&h.capture==!!t&&h.ha==o)return u}return-1}dn.prototype.add=function(i,e,t,o,u){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var y=Ae(i,e,o,u);return-1<y?(e=i[y],t||(e.ea=!1)):((e=new In(e,this.src,h,!!o,u)).ea=t,i.push(e)),e};var _e="closure_lm_"+(1e6*Math.random()|0),$e={};function he(i,e,t,o,u){if(o&&o.once)return ut(i,e,t,o,u);if(Array.isArray(e)){for(var h=0;h<e.length;h++)he(i,e[h],t,o,u);return null}return t=At(t),i&&i[Fr]?i.N(e,t,Qe(o)?!!o.capture:!!o,u):X(i,e,t,!1,o,u)}function X(i,e,t,o,u,h){if(!e)throw Error("Invalid event type");var y=Qe(u)?!!u.capture:!!u,C=oe(i);if(C||(i[_e]=C=new dn(i)),(t=C.add(e,t,o,y,h)).proxy)return t;if(o=function ge(){const e=Re;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)wt||(u=y),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Oe(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function ut(i,e,t,o,u){if(Array.isArray(e)){for(var h=0;h<e.length;h++)ut(i,e[h],t,o,u);return null}return t=At(t),i&&i[Fr]?i.O(e,t,Qe(o)?!!o.capture:!!o,u):X(i,e,t,!0,o,u)}function Tt(i,e,t,o,u){if(Array.isArray(e))for(var h=0;h<e.length;h++)Tt(i,e[h],t,o,u);else o=Qe(o)?!!o.capture:!!o,t=At(t),i&&i[Fr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Ae(h=i.g[e],t,o,u))&&(or(h[t]),Array.prototype.splice.call(h,t,1),0==h.length&&(delete i.g[e],i.h--))):i&&(i=oe(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Ae(e,t,o,u)),(t=-1<i?e[i]:null)&&en(t))}function en(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Fr])Rn(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Oe(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=oe(e))?(Rn(t,i),0==t.h&&(t.src=null,e[_e]=null)):or(i)}}}function Oe(i){return i in $e?$e[i]:$e[i]="on"+i}function Re(i,e){if(i.ba)i=!0;else{e=new Rr(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&en(i),i=t.call(o,e)}return i}function oe(i){return(i=i[_e])instanceof dn?i:null}var lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function At(i){return"function"==typeof i?i:(i[lt]||(i[lt]=function(e){return i.handleEvent(e)}),i[lt])}function Mt(){st.call(this),this.i=new dn(this),this.P=this,this.I=null}function sn(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Gt(e,i);else if(e instanceof Gt)e.target=e.target||i;else{var u=e;un(e=new Gt(o,i),u)}if(u=!0,t)for(var h=t.length-1;0<=h;h--){var y=e.g=t[h];u=hr(y,o,!0,e)&&u}if(u=hr(y=e.g=i,o,!0,e)&&u,u=hr(y,o,!1,e)&&u,t)for(h=0;h<t.length;h++)u=hr(y=e.g=t[h],o,!1,e)&&u}function hr(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,h=0;h<e.length;++h){var y=e[h];if(y&&!y.ba&&y.capture==t){var C=y.listener,V=y.ha||y.src;y.ea&&Rn(i.i,y),u=!1!==C.call(V,o)&&u}}return u&&!o.defaultPrevented}Ue(Mt,st),Mt.prototype[Fr]=!0,Mt.prototype.removeEventListener=function(i,e,t,o){Tt(this,i,e,t,o)},Mt.prototype.M=function(){if(Mt.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)or(t[o]);delete i.g[e],i.h--}}this.I=null},Mt.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Mt.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var mr=Pe.JSON.stringify;function ui(){var i=Zn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var qr,Kn=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new jr,i=>i.reset());class jr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function eo(i){Pe.setTimeout(()=>{throw i},0)}function oi(i,e){qr||function Si(){var i=Pe.Promise.resolve(void 0);qr=function(){i.then(Ar)}}(),Nn||(qr(),Nn=!0),Zn.add(i,e)}var Nn=!1,Zn=new class Tr{constructor(){this.h=this.g=null}add(e,t){const o=Kn.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Ar(){for(var i;i=ui();){try{i.h.call(i.g)}catch(t){eo(t)}var e=Kn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Nn=!1}function rr(i,e){Mt.call(this),this.h=i||1,this.g=e||Pe,this.j=Se(this.lb,this),this.l=Date.now()}function Lr(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Vr(i,e,t){if("function"==typeof i)t&&(i=Se(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Se(i.handleEvent,i)}return 2147483647<Number(e)?-1:Pe.setTimeout(i,e||0)}function Jt(i){i.g=Vr(()=>{i.g=null,i.i&&(i.i=!1,Jt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ue(rr,Mt),(te=rr.prototype).ca=!1,te.R=null,te.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),sn(this,"tick"),this.ca&&(Lr(this),this.start()))}},te.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},te.M=function(){rr.X.M.call(this),Lr(this),delete this.g};class _n extends st{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Jt(this)}M(){super.M(),this.g&&(Pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(i){st.call(this),this.h=i,this.g={}}Ue(fr,st);var Yr=[];function Qr(i,e,t,o){Array.isArray(t)||(t&&(Yr[0]=t.toString()),t=Yr);for(var u=0;u<t.length;u++){var h=he(e,t[u],o||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function et(i){xt(i.g,function(e,t){this.g.hasOwnProperty(t)&&en(e)},i),i.g={}}function F(){this.g=!0}function me(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ee(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var h=u[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var y=1;y<u.length;y++)u[y]=""}}}return mr(t)}catch(C){return e}}(i,t)+(o?" "+o:"")})}fr.prototype.M=function(){fr.X.M.call(this),et(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},F.prototype.Aa=function(){this.g=!1},F.prototype.info=function(){};var ke={},Ke=null;function pt(){return Ke=Ke||new Mt}function Dt(i){Gt.call(this,ke.Pa,i)}function Bt(i){const e=pt();sn(e,new Dt(e))}function on(i,e){Gt.call(this,ke.STAT_EVENT,i),this.stat=e}function an(i){const e=pt();sn(e,new on(e,i))}function er(i,e){Gt.call(this,ke.Qa,i),this.size=e}function ni(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Pe.setTimeout(function(){i()},e)}ke.Pa="serverreachability",Ue(Dt,Gt),ke.STAT_EVENT="statevent",Ue(on,Gt),ke.Qa="timingevent",Ue(er,Gt);var tr={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Dr={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Yi(){}function to(){}Yi.prototype.h=null;var ks,Ti={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function yi(){Gt.call(this,"d")}function Kr(){Gt.call(this,"c")}function ri(){}function ii(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new fr(this),this.O=ss,this.T=new rr(i=Wn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Vi}function Vi(){this.i=null,this.g="",this.h=!1}Ue(yi,Gt),Ue(Kr,Gt),Ue(ri,Yi),ri.prototype.g=function(){return new XMLHttpRequest},ri.prototype.i=function(){return{}},ks=new ri;var ss=45e3,as={},Jr={};function Ss(i,e,t){i.K=1,i.v=xi(bi(e)),i.s=t,i.P=!0,Eo(i,null)}function Eo(i,e){i.F=Date.now(),no(i),i.A=bi(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Ur(t.i,"t",o),i.C=0,t=i.l.H,i.h=new Vi,i.g=Bs(i.l,t?e:null,!i.s),0<i.N&&(i.L=new _n(Se(i.La,i,i.g),i.N)),Qr(i.S,i.g,"readystatechange",i.ib),e=i.H?Et(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Bt(),function j(i,e,t,o,u,h){i.info(function(){if(i.g)if(h)for(var y="",C=h.split("&"),V=0;V<C.length;V++){var z=C[V].split("=");if(1<z.length){var re=z[0];z=z[1];var Ne=re.split("_");y=2<=Ne.length&&"type"==Ne[1]?y+(re+"=")+z+"&":y+(re+"=redacted&")}}else y=null;else y=h;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+y})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Ai(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function ao(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=Mi(i,t),u==Jr){4==e&&(i.o=4,an(14),o=!1),me(i.j,i.m,null,"[Incomplete Response]");break}if(u==as){i.o=4,an(15),me(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}me(i.j,i.m,u,null),Yo(i,u)}Ai(i)&&u!=Jr&&u!=as&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,an(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ta(e),e.K=!0,an(11))):(me(i.j,i.m,t,"[Invalid Chunked Response]"),ci(i),Io(i))}function Mi(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Jr:(t=Number(e.substring(t,o)),isNaN(t)?as:(o+=1)+t>e.length?Jr:(e=e.substr(o,t),i.C=o+t,e))}function no(i){i.V=Date.now()+i.O,qo(i,i.O)}function qo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ni(Se(i.gb,i),e)}function ps(i){i.B&&(Pe.clearTimeout(i.B),i.B=null)}function Io(i){0==i.l.G||i.I||el(i.l,i)}function ci(i){ps(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Lr(i.T),et(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Yo(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||fo(t.h,i)))if(!i.J&&fo(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch(z){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Aa(t),Qs(t)}xs(t),an(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=ni(Se(t.cb,t),6e3));if(1>=si(t.h)&&t.ja){try{t.ja()}catch(z){}t.ja=void 0}}else us(t,11)}else if((i.J||t.g==i)&&Aa(t),!nn(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let z=u[e];if(t.T=z[0],z=z[1],2==t.G)if("c"==z[0]){t.I=z[1],t.ka=z[2];const re=z[3];null!=re&&(t.ma=re,t.j.info("VER="+t.ma));const Ne=z[4];null!=Ne&&(t.Ca=Ne,t.j.info("SVER="+t.Ca));const ht=z[5];null!=ht&&"number"==typeof ht&&0<ht&&(t.J=o=1.5*ht,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const kt=i.g;if(kt){const Ut=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ut){var h=o.h;h.g||-1==Ut.indexOf("spdy")&&-1==Ut.indexOf("quic")&&-1==Ut.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(ai(h,h.h),h.h=null))}if(o.D){const cn=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;cn&&(o.za=cn,ar(o.F,o.D,cn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var y=i;if((o=t).sa=Ma(o,o.H?o.ka:null,o.V),y.J){Xs(o.h,y);var C=y,V=o.J;V&&C.setTimeout(V),C.B&&(ps(C),no(C)),o.g=y}else $s(o);0<t.i.length&&Ls(t)}else"stop"!=z[0]&&"close"!=z[0]||us(t,7);else 3==t.G&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?us(t,7):Fi(t):"noop"!=z[0]&&t.l&&t.l.wa(z),t.A=0)}Bt()}catch(z){}}function Ts(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ze(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Ki(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ze(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function Ui(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ze(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,h=0;h<u;h++)e.call(void 0,o[h],t&&t[h],i)}(te=ii.prototype).setTimeout=function(i){this.O=i},te.ib=function(i){i=i.target;const e=this.L;e&&3==lr(i)?e.l():this.La(i)},te.La=function(i){try{if(i==this.g)e:{const re=lr(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>re)&&(3!=re||Wn||this.g&&(this.h.h||this.g.fa()||Cr(this.g)))){this.I||4!=re||7==e||Bt(),ps(this);var t=this.g.aa();this.Y=t;t:if(Ai(this)){var o=Cr(this.g);i="";var u=o.length,h=4==lr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ci(this),Io(this);var y="";break t}this.h.i=new Pe.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:h&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.fa();if(this.i=200==t,function ie(i,e,t,o,u,h,y){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+h+" "+y})}(this.j,this.u,this.A,this.m,this.U,re,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var C,V=this.g;if((C=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nn(C)){var z=C;break t}}z=null}if(!(t=z)){this.i=!1,this.o=3,an(12),ci(this),Io(this);break e}me(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Yo(this,t)}this.P?(ao(this,re,y),Wn&&this.i&&3==re&&(Qr(this.S,this.T,"tick",this.hb),this.T.start())):(me(this.j,this.m,y,null),Yo(this,y)),4==re&&ci(this),this.i&&!this.I&&(4==re?el(this.l,this):(this.i=!1,no(this)))}else 400==t&&0<y.indexOf("Unknown SID")?(this.o=3,an(12)):(this.o=0,an(13)),ci(this),Io(this)}}}catch(re){}},te.hb=function(){if(this.g){var i=lr(this.g),e=this.g.fa();this.C<e.length&&(ps(this),ao(this,i,e),this.i&&4!=i&&no(this))}},te.cancel=function(){this.I=!0,ci(this)},te.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function Be(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Bt(),an(17)),ci(this),this.o=2,Io(this)):qo(this,this.V-i)};var Po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pi(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Pi){this.h=void 0!==e?e:i.h,lo(this,i.j),this.s=i.s,this.g=i.g,uo(this,i.m),this.l=i.l,e=i.i;var t=new Ni;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),As(this,t),this.o=i.o}else i&&(t=String(i).match(Po))?(this.h=!!e,lo(this,t[1]||"",!0),this.s=ki(t[2]||""),this.g=ki(t[3]||"",!0),uo(this,t[4]),this.l=ki(t[5]||"",!0),As(this,t[6]||"",!0),this.o=ki(t[7]||"")):(this.h=!!e,this.i=new Ni(null,this.h))}function bi(i){return new Pi(i)}function lo(i,e,t){i.j=t?ki(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function uo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function As(i,e,t){e instanceof Ni?(i.i=e,function Co(i,e){e&&!i.j&&(Hr(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&($r(this,o),Ur(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=ji(e,Do)),i.i=new Ni(e,i.h))}function ar(i,e,t){i.i.set(e,t)}function xi(i){return ar(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ki(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ji(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,ko),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ko(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Pi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ji(e,Ri,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ji(e,Ri,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(ji(t,"/"==t.charAt(0)?co:Hi,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",ji(t,Ko)),i.join("")};var Ri=/[#\/\?@]/g,Hi=/[#\?:]/g,co=/[#\?]/g,Do=/[#\?@]/g,Ko=/#/g;function Ni(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Hr(i){i.g||(i.g=new Map,i.h=0,i.i&&function Di(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var h=i[t].substring(0,o);u=i[t].substring(o+1)}else h=i[t];e(h,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function $r(i,e){Hr(i),e=wo(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function bo(i,e){return Hr(i),e=wo(i,e),i.g.has(e)}function Ur(i,e,t){$r(i,e),0<t.length&&(i.i=null,i.g.set(wo(i,e),bt(t)),i.h+=t.length)}function wo(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function ho(i){this.l=i||No,i=Pe.PerformanceNavigationTiming?0<(i=Pe.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Pe.g&&Pe.g.Ga&&Pe.g.Ga()&&Pe.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(te=Ni.prototype).add=function(i,e){Hr(this),this.i=null,i=wo(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},te.forEach=function(i,e){Hr(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},te.oa=function(){Hr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let h=0;h<u.length;h++)t.push(e[o])}return t},te.W=function(i){Hr(this);let e=[];if("string"==typeof i)bo(this,i)&&(e=e.concat(this.g.get(wo(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},te.set=function(i,e){return Hr(this),this.i=null,bo(this,i=wo(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},te.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const h=encodeURIComponent(String(o)),y=this.W(o);for(o=0;o<y.length;o++){var u=h;""!==y[o]&&(u+="="+encodeURIComponent(String(y[o]))),i.push(u)}}return this.i=i.join("&")};var No=10;function ro(i){return!!i.h||!!i.g&&i.g.size>=i.j}function si(i){return i.h?1:i.g?i.g.size:0}function fo(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ai(i,e){i.g?i.g.add(e):i.h=e}function Xs(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function vi(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return bt(i.i)}function Zo(){}function Fo(){this.g=new Zo}function Un(i,e,t){const o=t||"";try{Ts(i,function(u,h){let y=u;Qe(u)&&(y=mr(u)),e.push(o+h+"="+encodeURIComponent(y))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Ns(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(h){}}function $o(i){this.l=i.ac||null,this.j=i.jb||!1}function Bo(i,e){Mt.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=io,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ho.prototype.cancel=function(){if(this.i=vi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Zo.prototype.stringify=function(i){return Pe.JSON.stringify(i,void 0)},Zo.prototype.parse=function(i){return Pe.JSON.parse(i,void 0)},Ue($o,Yi),$o.prototype.g=function(){return new Bo(this.l,this.j)},$o.prototype.i=function(i){return function(){return i}}({}),Ue(Bo,Mt);var io=0;function Fs(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function Xo(i){i.readyState=4,i.l=null,i.j=null,i.A=null,So(i)}function So(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(te=Bo.prototype).open=function(i,e){if(this.readyState!=io)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,So(this)},te.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Pe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xo(this)),this.readyState=io},te.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,So(this)),this.g&&(this.readyState=3,So(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Pe.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fs(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},te.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Xo(this):So(this),3==this.readyState&&Fs(this)}},te.Va=function(i){this.g&&(this.response=this.responseText=i,Xo(this))},te.Ua=function(i){this.g&&(this.response=i,Xo(this))},te.ga=function(){this.g&&Xo(this)},te.setRequestHeader=function(i,e){this.v.append(i,e)},te.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},te.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Bo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var x=Pe.JSON.parse;function c(i){Mt.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=m,this.K=this.L=!1}Ue(c,Mt);var m="",f=/^https?$/i,T=["POST","PUT"];function ot(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Lt(i),Tn(i)}function Lt(i){i.D||(i.D=!0,sn(i,"complete"),sn(i,"error"))}function Xt(i){if(i.h&&typeof je<"u"&&(!i.C[1]||4!=lr(i)||2!=i.aa()))if(i.v&&4==lr(i))Vr(i.Ha,0,i);else if(sn(i,"readystatechange"),4==lr(i)){i.h=!1;try{const C=i.aa();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===C){var u=String(i.H).match(Po)[1]||null;if(!u&&Pe.self&&Pe.self.location){var h=Pe.self.location.protocol;u=h.substr(0,h.length-1)}o=!f.test(u?u.toLowerCase():"")}t=o}if(t)sn(i,"complete"),sn(i,"success");else{i.m=6;try{var y=2<lr(i)?i.g.statusText:""}catch(V){y=""}i.j=y+" ["+i.aa()+"]",Lt(i)}}finally{Tn(i)}}}function Tn(i,e){if(i.g){Xn(i);const t=i.g,o=i.C[0]?Ve:null;i.g=null,i.C=null,e||sn(i,"ready");try{t.onreadystatechange=o}catch(u){}}}function Xn(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Pe.clearTimeout(i.A),i.A=null)}function lr(i){return i.g?i.g.readyState:0}function Cr(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case m:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Or(i){let e="";return xt(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Br(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Or(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):ar(i,e,t))}function hi(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Zi(i){this.Ca=0,this.i=[],this.j=new F,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=hi("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=hi("baseRetryDelayMs",5e3,i),this.bb=hi("retryDelaySeedMs",1e4,i),this.$a=hi("forwardChannelMaxRetries",2,i),this.ta=hi("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new ho(i&&i.concurrentRequestLimit),this.Fa=new Fo,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Fi(i){if(Ms(i),3==i.G){var e=i.U++,t=bi(i.F);ar(t,"SID",i.I),ar(t,"RID",e),ar(t,"TYPE","terminate"),Vo(i,t),(e=new ii(i,i.j,e,void 0)).K=2,e.v=xi(bi(t)),t=!1,Pe.navigator&&Pe.navigator.sendBeacon&&(t=Pe.navigator.sendBeacon(e.v.toString(),"")),!t&&Pe.Image&&((new Image).src=e.v,t=!0),t||(e.g=Bs(e.l,null),e.g.da(e.v)),e.F=Date.now(),no(e)}za(i)}function Qs(i){i.g&&(Ta(i),i.g.cancel(),i.g=null)}function Ms(i){Qs(i),i.u&&(Pe.clearTimeout(i.u),i.u=null),Aa(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Pe.clearTimeout(i.m),i.m=null)}function Ls(i){ro(i.h)||i.m||(i.m=!0,oi(i.Ja,i),i.C=0)}function ls(i,e){var t;t=e?e.m:i.U++;const o=bi(i.F);ar(o,"SID",i.I),ar(o,"RID",t),ar(o,"AID",i.T),Vo(i,o),i.o&&i.s&&Br(o,i.o,i.s),t=new ii(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Sa(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),ai(i.h,t),Ss(t,o,e)}function Vo(i,e){i.ia&&xt(i.ia,function(t,o){ar(e,o,t)}),i.l&&Ts({},function(t,o){ar(e,o,t)})}function Sa(i,e,t){t=Math.min(i.i.length,t);var o=i.l?Se(i.l.Ra,i.l,i):null;e:{var u=i.i;let h=-1;for(;;){const y=["count="+t];-1==h?0<t?(h=u[0].h,y.push("ofs="+h)):h=0:y.push("ofs="+h);let C=!0;for(let V=0;V<t;V++){let z=u[V].h;const re=u[V].g;if(z-=h,0>z)h=Math.max(0,u[V].h-100),C=!1;else try{Un(re,y,"req"+z+"_")}catch(Ne){o&&o(re)}}if(C){o=y.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function $s(i){i.g||i.u||(i.Z=1,oi(i.Ia,i),i.A=0)}function xs(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=ni(Se(i.Ia,i),da(i,i.A)),i.A++,0))}function Ta(i){null!=i.B&&(Pe.clearTimeout(i.B),i.B=null)}function Js(i){i.g=new ii(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=bi(i.sa);ar(e,"RID","rpc"),ar(e,"SID",i.I),ar(e,"CI",i.L?"0":"1"),ar(e,"AID",i.T),ar(e,"TYPE","xmlhttp"),Vo(i,e),i.o&&i.s&&Br(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=xi(bi(e)),t.s=null,t.P=!0,Eo(t,i)}function Aa(i){null!=i.v&&(Pe.clearTimeout(i.v),i.v=null)}function el(i,e){var t=null;if(i.g==e){Aa(i),Ta(i),i.g=null;var o=2}else{if(!fo(i.h,e))return;t=e.D,Xs(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;sn(o=pt(),new er(o,t)),Ls(i)}else $s(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function Ha(i,e){return!(si(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=ni(Se(i.Ja,i,e),da(i,i.C)),i.C++,0)))}(i,e)||2==o&&xs(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:us(i,5);break;case 4:us(i,10);break;case 3:us(i,6);break;default:us(i,2)}}function da(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function us(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=Se(i.kb,i);t||(t=new Pi("//www.google.com/images/cleardot.gif"),Pe.location&&"http"==Pe.location.protocol||lo(t,"https"),xi(t)),function Lo(i,e){const t=new F;if(Pe.Image){const o=new Image;o.onload=Je(Ns,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Je(Ns,t,o,"TestLoadImage: error",!1,e),o.onabort=Je(Ns,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Je(Ns,t,o,"TestLoadImage: timeout",!1,e),Pe.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else an(2);i.G=0,i.l&&i.l.va(e),za(i),Ms(i)}function za(i){if(i.G=0,i.la=[],i.l){const e=vi(i.h);(0!=e.length||0!=i.i.length)&&(Ot(i.la,e),Ot(i.la,i.i),i.h.i.length=0,bt(i.i),i.i.length=0),i.l.ua()}}function Ma(i,e,t){var o=t instanceof Pi?bi(t):new Pi(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),uo(o,o.m);else{var u=Pe.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var h=new Pi(null,void 0);o&&lo(h,o),e&&(h.g=e),u&&uo(h,u),t&&(h.l=t),o=h}return e=i.za,(t=i.D)&&e&&ar(o,t,e),ar(o,"VER",i.ma),Vo(i,o),o}function Bs(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new c(t&&i.Da&&!i.ra?new $o({jb:!0}):i.ra)).Ka(i.H),e}function zi(){}function Gi(){if(qn&&!(10<=Number(dr)))throw Error("Environmental error: no available transport.")}function ir(i,e){Mt.call(this),this.g=new Zi(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!nn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new fi(this)}function xa(i){yi.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ga(){Kr.call(this),this.status=1}function fi(i){this.g=i}(te=c.prototype).Ka=function(i){this.L=i},te.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ks.g(),this.C=function _o(i){return i.h||(i.h=i.i())}(this.u?this.u:ks),this.g.onreadystatechange=Se(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(h){return void ot(this,h)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const h of o.keys())t.set(h,o.get(h))}o=Array.from(t.keys()).find(h=>"content-type"==h.toLowerCase()),u=Pe.FormData&&i instanceof Pe.FormData,!(0<=_t(T,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[h,y]of t)this.g.setRequestHeader(h,y);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xn(this),0<this.B&&((this.K=function G(i){return qn&&function rn(){return function ur(i){var e=Hn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=wn(String(Vn)).split("."),t=wn("9").split("."),o=Math.max(e.length,t.length);for(let y=0;0==i&&y<o;y++){var u=e[y]||"",h=t[y]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==u[0].length&&0==h[0].length)break;i=Sn(0==u[1].length?0:parseInt(u[1],10),0==h[1].length?0:parseInt(h[1],10))||Sn(0==u[2].length,0==h[2].length)||Sn(u[2],h[2]),u=u[3],h=h[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Se(this.qa,this)):this.A=Vr(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){ot(this,h)}},te.qa=function(){typeof je<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sn(this,"timeout"),this.abort(8))},te.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,sn(this,"complete"),sn(this,"abort"),Tn(this))},te.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tn(this,!0)),c.X.M.call(this)},te.Ha=function(){this.s||(this.F||this.v||this.l?Xt(this):this.fb())},te.fb=function(){Xt(this)},te.aa=function(){try{return 2<lr(this)?this.g.status:-1}catch(i){return-1}},te.fa=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},te.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),x(e)}},te.Ea=function(){return this.m},te.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(te=Zi.prototype).ma=8,te.G=1,te.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new ii(this,this.j,i,void 0);let h=this.s;if(this.S&&(h?(h=Et(h),un(h,this.S)):h=this.S),null!==this.o||this.N||(u.H=h,h=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Sa(this,u,e),ar(t=bi(this.F),"RID",i),ar(t,"CVER",22),this.D&&ar(t,"X-HTTP-Session-Id",this.D),Vo(this,t),h&&(this.N?e="headers="+encodeURIComponent(String(Or(h)))+"&"+e:this.o&&Br(t,this.o,h)),ai(this.h,u),this.Ya&&ar(t,"TYPE","init"),this.O?(ar(t,"$req",e),ar(t,"SID","null"),u.Z=!0,Ss(u,t,null)):Ss(u,t,e),this.G=2}}else 3==this.G&&(i?ls(this,i):0==this.i.length||ro(this.h)||ls(this))},te.Ia=function(){if(this.u=null,Js(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=ni(Se(this.eb,this),i)}},te.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,an(10),Qs(this),Js(this))},te.cb=function(){null!=this.v&&(this.v=null,Qs(this),xs(this),an(19))},te.kb=function(i){i?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))},(te=zi.prototype).xa=function(){},te.wa=function(){},te.va=function(){},te.ua=function(){},te.Ra=function(){},Gi.prototype.g=function(i,e){return new ir(i,e)},Ue(ir,Mt),ir.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;an(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=Ma(i,null,i.V),Ls(i)},ir.prototype.close=function(){Fi(this.g)},ir.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=mr(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&Ls(e)},ir.prototype.M=function(){this.g.l=null,delete this.j,Fi(this.g),delete this.g,ir.X.M.call(this)},Ue(xa,yi),Ue(Ga,Kr),Ue(fi,zi),fi.prototype.xa=function(){sn(this.g,"a")},fi.prototype.wa=function(i){sn(this.g,new xa(i))},fi.prototype.va=function(i){sn(this.g,new Ga)},fi.prototype.ua=function(){sn(this.g,"b")},Gi.prototype.createWebChannel=Gi.prototype.g,ir.prototype.send=ir.prototype.u,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,Dr.COMPLETE="complete",to.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",Mt.prototype.listen=Mt.prototype.N,c.prototype.listenOnce=c.prototype.O,c.prototype.getLastError=c.prototype.Oa,c.prototype.getLastErrorCode=c.prototype.Ea,c.prototype.getStatus=c.prototype.aa,c.prototype.getResponseJson=c.prototype.Sa,c.prototype.getResponseText=c.prototype.fa,c.prototype.send=c.prototype.da,c.prototype.setWithCredentials=c.prototype.Ka;var tl=Q.createWebChannelTransport=function(){return new Gi},Ml=Q.getStatEventTarget=function(){return pt()},ea=Q.ErrorCode=tr,ta=Q.EventType=Dr,na=Q.Event=ke,M=Q.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},H=Q.FetchXmlHttpFactory=$o,P=Q.WebChannel=to,Z=Q.XhrIo=c;const Ee="@firebase/firestore";class ct{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");let Ct="9.17.1";const fn=new Xe.Yd("@firebase/firestore");function nr(){return fn.logLevel}function St(i,...e){if(fn.logLevel<=Xe.in.DEBUG){const t=e.map(zn);fn.debug(`Firestore (${Ct}): ${i}`,...t)}}function Dn(i,...e){if(fn.logLevel<=Xe.in.ERROR){const t=e.map(zn);fn.error(`Firestore (${Ct}): ${i}`,...t)}}function zr(i,...e){if(fn.logLevel<=Xe.in.WARN){const t=e.map(zn);fn.warn(`Firestore (${Ct}): ${i}`,...t)}}function zn(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function Zt(i="Unexpected state"){const e=`FIRESTORE (${Ct}) INTERNAL ASSERTION FAILED: `+i;throw Dn(e),new Error(e)}function hn(i,e){i||Zt()}function Yt(i,e){return i}const yt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pt extends De.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Vs{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ct.UNAUTHENTICATED))}shutdown(){}}class Us{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class js{constructor(e){this.t=e,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const h=z=>this.i!==u?(u=this.i,t(z)):Promise.resolve();let y=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new Zr,e.enqueueRetryable(()=>h(this.currentUser))};const C=()=>{const z=y;e.enqueueRetryable((0,ne.Z)(function*(){yield z.promise,yield h(o.currentUser)}))},V=z=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(z=>V(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?V(z):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new Zr)}},0),C()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(hn("string"==typeof o.accessToken),new Vs(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return hn(null===e||"string"==typeof e),new ct(e)}}class ha{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(hn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ra{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u}getToken(){return Promise.resolve(new ha(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nl{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=h=>{null!=h.error&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const y=h.token!==this.A;return this.A=h.token,St("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>o(h))};const u=h=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.T.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.T.getImmediate({optional:!0});h?u(h):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(hn("string"==typeof t.token),this.A=t.token,new gs(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function cu(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class ms{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=cu(40);for(let h=0;h<u.length;++h)o.length<20&&u[h]<t&&(o+=e.charAt(u[h]%e.length))}return o}}function jn(i,e){return i<e?-1:i>e?1:0}function Hs(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function Oa(i){return i+"\0"}class Gr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pt(yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pt(yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pt(yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pt(yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gr.fromMillis(Date.now())}static fromDate(e){return Gr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Gr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jn(this.nanoseconds,e.nanoseconds):jn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class On{constructor(e){this.timestamp=e}static fromTimestamp(e){return new On(e)}static min(){return new On(new Gr(0,0))}static max(){return new On(new Gr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fa{constructor(e,t,o){void 0===t?t=0:t>e.length&&Zt(),void 0===o?o=e.length-t:o>e.length-t&&Zt(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===fa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fa?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const h=e.get(u),y=t.get(u);if(h<y)return-1;if(h>y)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yr extends fa{construct(e,t,o){return new yr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Pt(yt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new yr(t)}static emptyPath(){return new yr([])}}const xl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends fa{construct(e,t,o){return new Pr(e,t,o)}static isValidIdentifier(e){return xl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pr(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const h=()=>{if(0===o.length)throw new Pt(yt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let y=!1;for(;u<e.length;){const C=e[u];if("\\"===C){if(u+1===e.length)throw new Pt(yt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[u+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new Pt(yt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=V,u+=2}else"`"===C?(y=!y,u++):"."!==C||y?(o+=C,u++):(h(),u++)}if(h(),y)throw new Pt(yt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pr(t)}static emptyPath(){return new Pr([])}}class tn{constructor(e){this.path=e}static fromPath(e){return new tn(yr.fromString(e))}static fromName(e){return new tn(yr.fromString(e).popFirst(5))}static empty(){return new tn(yr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tn(new yr(e.slice()))}}class Rs{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function ei(i){return i.fields.find(e=>2===e.kind)}function zs(i){return i.fields.filter(e=>2!==e.kind)}Rs.UNKNOWN_ID=-1;class Xi{constructor(e,t){this.fieldPath=e,this.kind=t}}class Pa{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Pa(0,Jo.min())}}function rl(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=On.fromTimestamp(1e9===o?new Gr(t+1,0):new Gr(t,o));return new Jo(u,tn.empty(),e)}function ka(i){return new Jo(i.readTime,i.key,-1)}class Jo{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Jo(On.min(),tn.empty(),-1)}static max(){return new Jo(On.max(),tn.empty(),-1)}}function ga(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=tn.comparator(i.documentKey,e.documentKey),0!==t?t:jn(i.largestBatchId,e.largestBatchId))}const Na="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function cs(i){return Os.apply(this,arguments)}function Os(){return Os=(0,ne.Z)(function*(i){if(i.code!==yt.FAILED_PRECONDITION||i.message!==Na)throw i;St("LocalStore","Unexpectedly lost primary lease")}),Os.apply(this,arguments)}class gt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Zt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new gt((o,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(o,u)},this.catchCallback=h=>{this.wrapFailure(t,h).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof gt?t:gt.resolve(t)}catch(t){return gt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):gt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):gt.reject(t)}static resolve(e){return new gt((t,o)=>{t(e)})}static reject(e){return new gt((t,o)=>{o(e)})}static waitFor(e){return new gt((t,o)=>{let u=0,h=0,y=!1;e.forEach(C=>{++u,C.next(()=>{++h,y&&h===u&&t()},V=>o(V))}),y=!0,h===u&&t()})}static or(e){let t=gt.resolve(!1);for(const o of e)t=t.next(u=>u?gt.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,h)=>{o.push(t.call(this,u,h))}),this.waitFor(o)}static mapArray(e,t){return new gt((o,u)=>{const h=e.length,y=new Array(h);let C=0;for(let V=0;V<h;V++){const z=V;t(e[z]).next(re=>{y[z]=re,++C,C===h&&o(y)},re=>u(re))}})}static doWhile(e,t){return new gt((o,u)=>{const h=()=>{!0===e()?t().next(()=>{h()},u):o()};h()})}}class ra{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Zr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new il(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const u=Wa(o.target.error);this.P.reject(new il(e,u))}}static open(e,t,o,u){try{return new ra(t,e.transaction(u,o))}catch(h){throw new il(t,h)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(St("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Rl(t)}}class po{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===po.D((0,De.z$)())&&Dn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return St("SimpleDb","Removing database:",e),ys(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,De.hl)())return!1;if(po.N())return!0;const e=(0,De.z$)(),t=po.D(e),o=0<t&&t<10,u=po.k(e),h=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||h)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,ne.Z)(function*(){return t.db||(St("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const h=indexedDB.open(t.name,t.version);h.onsuccess=y=>{o(y.target.result)},h.onblocked=()=>{u(new il(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=y=>{const C=y.target.error;u("VersionError"===C.name?new Pt(yt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new Pt(yt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new il(e,C))},h.onupgradeneeded=y=>{St("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',y.oldVersion),t.S.$(y.target.result,h.transaction,y.oldVersion,t.version).next(()=>{St("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var h=this;return(0,ne.Z)(function*(){const y="readonly"===t;let C=0;for(;;){++C;try{h.db=yield h.F(e);const V=ra.open(h.db,e,y?"readonly":"readwrite",o),z=u(V).next(re=>(V.V(),re)).catch(re=>(V.abort(re),gt.reject(re))).toPromise();return z.catch(()=>{}),yield V.v,z}catch(V){const z=V,re="FirebaseError"!==z.name&&C<3;if(St("SimpleDb","Transaction failed with error:",z.message,"Retrying:",re),h.close(),!re)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class du{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return ys(this.q.delete())}}class il extends Pt{constructor(e,t){super(yt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function br(i){return"IndexedDbTransactionError"===i.name}class Rl{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(St("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(St("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),ys(o)}add(e){return St("SimpleDb","ADD",this.store.name,e,e),ys(this.store.add(e))}get(e){return ys(this.store.get(e)).next(t=>(void 0===t&&(t=null),St("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return St("SimpleDb","DELETE",this.store.name,e),ys(this.store.delete(e))}count(){return St("SimpleDb","COUNT",this.store.name),ys(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),h=[];return this.H(u,(y,C)=>{h.push(C)}).next(()=>h)}{const u=this.store.getAll(o.range);return new gt((h,y)=>{u.onerror=C=>{y(C.target.error)},u.onsuccess=C=>{h(C.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new gt((u,h)=>{o.onerror=y=>{h(y.target.error)},o.onsuccess=y=>{u(y.target.result)}})}Y(e,t){St("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const u=this.cursor(o);return this.H(u,(h,y,C)=>C.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.H(u,t)}tt(e){const t=this.cursor({});return new gt((o,u)=>{t.onerror=h=>{const y=Wa(h.target.error);u(y)},t.onsuccess=h=>{const y=h.target.result;y?e(y.primaryKey,y.value).next(C=>{C?y.continue():o()}):o()}})}H(e,t){const o=[];return new gt((u,h)=>{e.onerror=y=>{h(y.target.error)},e.onsuccess=y=>{const C=y.target.result;if(!C)return void u();const V=new du(C),z=t(C.primaryKey,C.value,V);if(z instanceof gt){const re=z.catch(Ne=>(V.done(),gt.reject(Ne)));o.push(re)}V.isDone?u():null===V.G?C.continue():C.continue(V.G)}}).next(()=>gt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ys(i){return new gt((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=Wa(o.target.error);t(u)}})}let hu=!1;function Wa(i){const e=po.D((0,De.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new Pt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hu||(hu=!0,setTimeout(()=>{throw o},0)),o}}return i}class ol{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;St("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ne.Z)(function*(){t.task=null;try{St("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){br(o)?St("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield cs(o)}yield t.nt(6e4)}))}}class sl{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ne.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let u=t,h=!0;return gt.doWhile(()=>!0===h&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(y=>{if(null!==y&&!o.has(y))return St("IndexBackiller",`Processing collection: ${y}`),this.rt(e,y,u).next(C=>{u-=C,o.add(y)});h=!1})).next(()=>t-u)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,o).next(h=>{const y=h.changes;return this.localStore.indexManager.updateIndexEntries(e,y).next(()=>this.ot(u,h)).next(C=>(St("IndexBackiller",`Updating offset: ${C}`),this.localStore.indexManager.updateCollectionGroup(e,t,C))).next(()=>y.size)}))}ot(e,t){let o=e;return t.changes.forEach((u,h)=>{const y=ka(h);ga(y,o)>0&&(o=y)}),new Jo(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let es=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=u=>this.ut(u),this.ct=u=>o.writeSequenceNumber(u))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class Fa{constructor(e,t,o,u,h,y,C,V){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=h,this.forceLongPolling=y,this.autoDetectLongPolling=C,this.useFetchStreams=V}}class ma{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ma("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ma&&e.projectId===this.projectId&&e.database===this.database}}function ts(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ti(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function ya(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function vs(i){return null==i}function La(i){return 0===i&&1/i==-1/0}function Qi(i){return"number"==typeof i&&Number.isInteger(i)&&!La(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class _i{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new _i(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new _i(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_i.EMPTY_BYTE_STRING=new _i("");const va=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(i){if(hn(!!i),"string"==typeof i){let e=0;const t=va.exec(i);if(hn(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:li(i.seconds),nanos:li(i.nanos)}}function li(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ds(i){return"string"==typeof i?_i.fromBase64String(i):_i.fromUint8Array(i)}function Ol(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function fu(i){const e=i.mapValue.fields.__previous_value__;return Ol(e)?fu(e):e}function I(i){const e=oo(i.mapValue.fields.__local_write_time__.timestampValue);return new Gr(e.seconds,e.nanos)}const D={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_={nullValue:"NULL_VALUE"};function w(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ol(i)?4:$(i)?9007199254740991:10:Zt()}function L(i,e){if(i===e)return!0;const t=w(i);if(t!==w(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return I(i).isEqual(I(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=oo(o.timestampValue),y=oo(u.timestampValue);return h.seconds===y.seconds&&h.nanos===y.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,ds(i.bytesValue).isEqual(ds(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return li(o.geoPointValue.latitude)===li(u.geoPointValue.latitude)&&li(o.geoPointValue.longitude)===li(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return li(o.integerValue)===li(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=li(o.doubleValue),y=li(u.doubleValue);return h===y?La(h)===La(y):isNaN(h)&&isNaN(y)}return!1}(i,e);case 9:return Hs(i.arrayValue.values||[],e.arrayValue.values||[],L);case 10:return function(o,u){const h=o.mapValue.fields||{},y=u.mapValue.fields||{};if(ts(h)!==ts(y))return!1;for(const C in h)if(h.hasOwnProperty(C)&&(void 0===y[C]||!L(h[C],y[C])))return!1;return!0}(i,e);default:return Zt()}var u}function W(i,e){return void 0!==(i.values||[]).find(t=>L(t,e))}function K(i,e){if(i===e)return 0;const t=w(i),o=w(e);if(t!==o)return jn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return jn(i.booleanValue,e.booleanValue);case 2:return function(u,h){const y=li(u.integerValue||u.doubleValue),C=li(h.integerValue||h.doubleValue);return y<C?-1:y>C?1:y===C?0:isNaN(y)?isNaN(C)?0:-1:1}(i,e);case 3:return Ge(i.timestampValue,e.timestampValue);case 4:return Ge(I(i),I(e));case 5:return jn(i.stringValue,e.stringValue);case 6:return function(u,h){const y=ds(u),C=ds(h);return y.compareTo(C)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const y=u.split("/"),C=h.split("/");for(let V=0;V<y.length&&V<C.length;V++){const z=jn(y[V],C[V]);if(0!==z)return z}return jn(y.length,C.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const y=jn(li(u.latitude),li(h.latitude));return 0!==y?y:jn(li(u.longitude),li(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,h){const y=u.values||[],C=h.values||[];for(let V=0;V<y.length&&V<C.length;++V){const z=K(y[V],C[V]);if(z)return z}return jn(y.length,C.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,h){if(u===D.mapValue&&h===D.mapValue)return 0;if(u===D.mapValue)return 1;if(h===D.mapValue)return-1;const y=u.fields||{},C=Object.keys(y),V=h.fields||{},z=Object.keys(V);C.sort(),z.sort();for(let re=0;re<C.length&&re<z.length;++re){const Ne=jn(C[re],z[re]);if(0!==Ne)return Ne;const ht=K(y[C[re]],V[z[re]]);if(0!==ht)return ht}return jn(C.length,z.length)}(i.mapValue,e.mapValue);default:throw Zt()}}function Ge(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return jn(i,e);const t=oo(i),o=oo(e),u=jn(t.seconds,o.seconds);return 0!==u?u:jn(t.nanos,o.nanos)}function It(i){return Wt(i)}function Wt(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=oo(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ds(i.bytesValue).toBase64():"referenceValue"in i?tn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",h=!0;for(const y of o.values||[])h?h=!1:u+=",",u+=Wt(y);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let h="{",y=!0;for(const C of u)y?y=!1:h+=",",h+=`${C}:${Wt(o.fields[C])}`;return h+"}"}(i.mapValue):Zt();var e}function mn(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function pn(i){return!!i&&"integerValue"in i}function wr(i){return!!i&&"arrayValue"in i}function pi(i){return!!i&&"nullValue"in i}function gi(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Uo(i){return!!i&&"mapValue"in i}function R(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ti(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=R(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=R(i.arrayValue.values[t]);return e}return Object.assign({},i)}function $(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Y(i){return"nullValue"in i?_:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?mn(ma.empty(),tn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Zt()}function Te(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?mn(ma.empty(),tn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?D:Zt()}function nt(i,e){const t=K(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function vt(i,e){const t=K(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class $t{constructor(e,t){this.position=e,this.inclusive=t}}function Cn(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const h=e[u],y=i.position[u];if(o=h.field.isKeyField()?tn.comparator(tn.fromName(y.referenceValue),t.key):K(y,t.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return o}function An(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!L(i.position[t],e.position[t]))return!1;return!0}class $n{}class yn extends $n{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new wf(e,t,o):"array-contains"===t?new Cf(e,o):"in"===t?new Vd(e,o):"not-in"===t?new Yu(e,o):"array-contains-any"===t?new kc(e,o):new yn(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new qu(e,o):new wg(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(K(t,this.value)):null!==t&&w(this.value)===w(t)&&this.matchesComparison(K(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vn extends $n{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new vn(e,t)}matches(e){return Ji(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ji(i){return"and"===i.op}function Wi(i){return"or"===i.op}function qa(i){return Pl(i)&&Ji(i)}function Pl(i){for(const e of i.filters)if(e instanceof vn)return!1;return!0}function _a(i){if(i instanceof yn)return i.field.canonicalString()+i.op.toString()+It(i.value);if(qa(i))return i.filters.map(e=>_a(e)).join(",");{const e=i.filters.map(t=>_a(t)).join(",");return`${i.op}(${e})`}}function ns(i,e){return i instanceof yn?(t=i,(o=e)instanceof yn&&t.op===o.op&&t.field.isEqual(o.field)&&L(t.value,o.value)):i instanceof vn?function(t,o){return o instanceof vn&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((u,h,y)=>u&&ns(h,o.filters[y]),!0)}(i,e):void Zt();var t,o}function Es(i,e){const t=i.filters.concat(e);return vn.create(t,i.op)}function kl(i){return i instanceof yn?`${(e=i).field.canonicalString()} ${e.op} ${It(e.value)}`:i instanceof vn?function(e){return e.op.toString()+" {"+e.getFilters().map(kl).join(" ,")+"}"}(i):"Filter";var e}class wf extends yn{constructor(e,t,o){super(e,t,o),this.key=tn.fromName(o.referenceValue)}matches(e){const t=tn.comparator(e.key,this.key);return this.matchesComparison(t)}}class qu extends yn{constructor(e,t){super(e,"in",t),this.keys=Pc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wg extends yn{constructor(e,t){super(e,"not-in",t),this.keys=Pc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Pc(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>tn.fromName(o.referenceValue))}class Cf extends yn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wr(t)&&W(t.arrayValue,this.value)}}class Vd extends yn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&W(this.value.arrayValue,t)}}class Yu extends yn{constructor(e,t){super(e,"not-in",t)}matches(e){if(W(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!W(this.value.arrayValue,t)}}class kc extends yn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wr(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>W(this.value.arrayValue,o))}}class pu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Cg(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Oi{constructor(e,t){this.comparator=e,this.root=t||rs.EMPTY}insert(e,t){return new Oi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rs.BLACK,null,null))}remove(e){return new Oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?o(e.key,t):1,t&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rs{constructor(e,t,o,u,h){this.key=e,this.value=t,this.color=null!=o?o:rs.RED,this.left=null!=u?u:rs.EMPTY,this.right=null!=h?h:rs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,h){return new rs(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const h=o(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===h?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return rs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return rs.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Zt();const e=this.left.check();if(e!==this.right.check())throw Zt();return e+(this.isRed()?0:1)}}rs.EMPTY=null,rs.RED=!0,rs.BLACK=!1,rs.EMPTY=new class{constructor(){this.size=0}get key(){throw Zt()}get value(){throw Zt()}get color(){throw Zt()}get left(){throw Zt()}get right(){throw Zt()}copy(i,e,t,o,u){return this}insert(i,e,t){return new rs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mi{constructor(e){this.comparator=e,this.data=new Oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sf(this.data.getIterator())}getIteratorFrom(e){return new Sf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof mi)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,h=o.getNext().key;if(0!==this.comparator(u,h))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mi(this.comparator);return t.data=e,t}}class Sf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function al(i){return i.hasNext()?i.getNext():void 0}class Is{constructor(e){this.fields=e,e.sort(Pr.comparator)}static empty(){return new Is([])}unionWith(e){let t=new mi(Pr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Is(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class xo{constructor(e){this.value=e}static empty(){return new xo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Uo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=R(t)}setAll(e){let t=Pr.emptyPath(),o={},u=[];e.forEach((y,C)=>{if(!t.isImmediateParentOf(C)){const V=this.getFieldsMap(t);this.applyChanges(V,o,u),o={},u=[],t=C.popLast()}y?o[C.lastSegment()]=R(y):u.push(C.lastSegment())});const h=this.getFieldsMap(t);this.applyChanges(h,o,u)}delete(e){const t=this.field(e.popLast());Uo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return L(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];Uo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){ti(t,(u,h)=>e[u]=h);for(const u of o)delete e[u]}clone(){return new xo(R(this.value))}}function Ku(i){const e=[];return ti(i.fields,(t,o)=>{const u=new Pr([t]);if(Uo(o)){const h=Ku(o.mapValue).fields;if(0===h.length)e.push(u);else for(const y of h)e.push(u.child(y))}else e.push(u)}),new Is(e)}class Ei{constructor(e,t,o,u,h,y,C){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.createTime=h,this.data=y,this.documentState=C}static newInvalidDocument(e){return new Ei(e,0,On.min(),On.min(),On.min(),xo.empty(),0)}static newFoundDocument(e,t,o,u){return new Ei(e,1,t,On.min(),o,u,0)}static newNoDocument(e,t){return new Ei(e,2,t,On.min(),On.min(),xo.empty(),0)}static newUnknownDocument(e,t){return new Ei(e,3,t,On.min(),On.min(),xo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(On.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=On.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ei(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ud{constructor(e,t=null,o=[],u=[],h=null,y=null,C=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=h,this.startAt=y,this.endAt=C,this.ft=null}}function gu(i,e=null,t=[],o=[],u=null,h=null,y=null){return new Ud(i,e,t,o,u,h,y)}function is(i){const e=Yt(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>_a(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),vs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>It(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>It(o)).join(",")),e.ft=t}return e.ft}function mu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Cg(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!ns(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!An(i.startAt,e.startAt)&&An(i.endAt,e.endAt)}function Zu(i){return tn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Xu(i,e){return i.filters.filter(t=>t instanceof yn&&t.field.isEqual(e))}function yu(i,e,t){let o=_,u=!0;for(const h of Xu(i,e)){let y=_,C=!0;switch(h.op){case"<":case"<=":y=Y(h.value);break;case"==":case"in":case">=":y=h.value;break;case">":y=h.value,C=!1;break;case"!=":case"not-in":y=_}nt({value:o,inclusive:u},{value:y,inclusive:C})<0&&(o=y,u=C)}if(null!==t)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const y=t.position[h];nt({value:o,inclusive:u},{value:y,inclusive:t.inclusive})<0&&(o=y,u=t.inclusive);break}return{value:o,inclusive:u}}function Qu(i,e,t){let o=D,u=!0;for(const h of Xu(i,e)){let y=D,C=!0;switch(h.op){case">=":case">":y=Te(h.value),C=!1;break;case"==":case"in":case"<=":y=h.value;break;case"<":y=h.value,C=!1;break;case"!=":case"not-in":y=D}vt({value:o,inclusive:u},{value:y,inclusive:C})>0&&(o=y,u=C)}if(null!==t)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const y=t.position[h];vt({value:o,inclusive:u},{value:y,inclusive:t.inclusive})>0&&(o=y,u=t.inclusive);break}return{value:o,inclusive:u}}class ia{constructor(e,t=null,o=[],u=[],h=null,y="F",C=null,V=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=h,this.limitType=y,this.startAt=C,this.endAt=V,this.dt=null,this._t=null}}function jd(i,e,t,o,u,h,y,C){return new ia(i,e,t,o,u,h,y,C)}function ll(i){return new ia(i)}function Fc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function vu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Ju(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function jo(i){return null!==i.collectionGroup}function Ea(i){const e=Yt(i);if(null===e.dt){e.dt=[];const t=Ju(e),o=vu(e);if(null!==t&&null===o)t.isKeyField()||e.dt.push(new pu(t)),e.dt.push(new pu(Pr.keyField(),"asc"));else{let u=!1;for(const h of e.explicitOrderBy)e.dt.push(h),h.field.isKeyField()&&(u=!0);if(!u){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new pu(Pr.keyField(),h))}}}return e.dt}function os(i){const e=Yt(i);if(!e._t)if("F"===e.limitType)e._t=gu(e.path,e.collectionGroup,Ea(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const h of Ea(e))t.push(new pu(h.field,"desc"===h.dir?"asc":"desc"));const o=e.endAt?new $t(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new $t(e.startAt.position,e.startAt.inclusive):null;e._t=gu(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e._t}function _u(i,e){e.getFirstInequalityField(),Ju(i);const t=i.filters.concat([e]);return new ia(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function go(i,e,t){return new ia(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function $a(i,e){return mu(os(i),os(e))&&i.limitType===e.limitType}function Lc(i){return`${is(os(i))}|lt:${i.limitType}`}function Eu(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>kl(o)).join(", ")}]`),vs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>It(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>It(o)).join(",")),`Target(${t})`}(os(i))}; limitType=${i.limitType})`}function Iu(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):tn.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of Ea(t))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,h,y){const C=Cn(u,h,y);return u.inclusive?C<=0:C<0}(t.startAt,Ea(t),o)||t.endAt&&!function(u,h,y){const C=Cn(u,h,y);return u.inclusive?C>=0:C>0}(t.endAt,Ea(t),o)));var t,o}function $c(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function b(i){return(e,t)=>{let o=!1;for(const u of Ea(i)){const h=g(u,e,t);if(0!==h)return h;o=o||u.field.isKeyField()}return 0}}function g(i,e,t){const o=i.field.isKeyField()?tn.comparator(e.key,t.key):function(u,h,y){const C=h.data.field(u),V=y.data.field(u);return null!==C&&null!==V?K(C,V):Zt()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Zt()}}function v(i,e){if(i.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:La(e)?"-0":e}}function A(i){return{integerValue:""+i}}function q(i,e){return Qi(e)?A(e):v(i,e)}class se{constructor(){this._=void 0}}function ft(i,e,t){return i instanceof Mn?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(h.fields.__previous_value__=u),{mapValue:h}}(t,e):i instanceof sr?wi(i,e):i instanceof Ro?oa(i,e):function(o,u){const h=bn(o,u),y=Ya(h)+Ya(o.gt);return pn(h)&&pn(o.gt)?A(y):v(o.yt,y)}(i,e)}function Vt(i,e,t){return i instanceof sr?wi(i,e):i instanceof Ro?oa(i,e):t}function bn(i,e){return i instanceof Ia?pn(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Mn extends se{}class sr extends se{constructor(e){super(),this.elements=e}}function wi(i,e){const t=Nl(e);for(const o of i.elements)t.some(u=>L(u,o))||t.push(o);return{arrayValue:{values:t}}}class Ro extends se{constructor(e){super(),this.elements=e}}function oa(i,e){let t=Nl(e);for(const o of i.elements)t=t.filter(u=>!L(u,o));return{arrayValue:{values:t}}}class Ia extends se{constructor(e,t){super(),this.yt=e,this.gt=t}}function Ya(i){return li(i.integerValue||i.doubleValue)}function Nl(i){return wr(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ul{constructor(e,t){this.field=e,this.transform=t}}class Du{constructor(e,t){this.version=e,this.transformResults=t}}class Ci{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bu(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Fl{}function Bc(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Cu(i.key,Ci.none()):new wu(i.key,i.data,Ci.none());{const t=i.data,o=xo.empty();let u=new mi(Pr.comparator);for(let h of e.fields)if(!u.has(h)){let y=t.field(h);null===y&&h.length>1&&(h=h.popLast(),y=t.field(h)),null===y?o.delete(h):o.set(h,y),u=u.add(h)}return new Ba(i.key,o,new Is(u.toArray()),Ci.none())}}function Tf(i,e,t){i instanceof wu?function(o,u,h){const y=o.value.clone(),C=Tg(o.fieldTransforms,u,h.transformResults);y.setAll(C),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()}(i,e,t):i instanceof Ba?function(o,u,h){if(!bu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const y=Tg(o.fieldTransforms,u,h.transformResults),C=u.data;C.setAll(Sg(o)),C.setAll(y),u.convertToFoundDocument(h.version,C).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function cl(i,e,t,o){return i instanceof wu?function(u,h,y,C){if(!bu(u.precondition,h))return y;const V=u.value.clone(),z=Af(u.fieldTransforms,C,h);return V.setAll(z),h.convertToFoundDocument(h.version,V).setHasLocalMutations(),null}(i,e,t,o):i instanceof Ba?function(u,h,y,C){if(!bu(u.precondition,h))return y;const V=Af(u.fieldTransforms,C,h),z=h.data;return z.setAll(Sg(u)),z.setAll(V),h.convertToFoundDocument(h.version,z).setHasLocalMutations(),null===y?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(re=>re.field))}(i,e,t,o):(y=t,bu(i.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):y);var h,y}function zd(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),h=bn(o.transform,u||null);null!=h&&(null===t&&(t=xo.empty()),t.set(o.field,h))}return t||null}function Gd(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Hs(t,o,(u,h)=>function Hd(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof sr&&o instanceof sr||t instanceof Ro&&o instanceof Ro?Hs(t.elements,o.elements,L):t instanceof Ia&&o instanceof Ia?L(t.gt,o.gt):t instanceof Mn&&o instanceof Mn);var t,o}(u,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class wu extends Fl{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ba extends Fl{constructor(e,t,o,u,h=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Sg(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Tg(i,e,t){const o=new Map;hn(i.length===t.length);for(let u=0;u<t.length;u++){const h=i[u],y=h.transform,C=e.data.field(h.field);o.set(h.field,Vt(y,C,t[u]))}return o}function Af(i,e,t){const o=new Map;for(const u of i){const h=u.transform,y=t.data.field(u.field);o.set(u.field,ft(h,y,e))}return o}class Cu extends Fl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dl extends Fl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ag{constructor(e){this.count=e}}var mo,Wr;function Xy(i){switch(i){default:return Zt();case yt.CANCELLED:case yt.UNKNOWN:case yt.DEADLINE_EXCEEDED:case yt.RESOURCE_EXHAUSTED:case yt.INTERNAL:case yt.UNAVAILABLE:case yt.UNAUTHENTICATED:return!1;case yt.INVALID_ARGUMENT:case yt.NOT_FOUND:case yt.ALREADY_EXISTS:case yt.PERMISSION_DENIED:case yt.FAILED_PRECONDITION:case yt.ABORTED:case yt.OUT_OF_RANGE:case yt.UNIMPLEMENTED:case yt.DATA_LOSS:return!0}}function Vc(i){if(void 0===i)return Dn("GRPC error has no .code"),yt.UNKNOWN;switch(i){case mo.OK:return yt.OK;case mo.CANCELLED:return yt.CANCELLED;case mo.UNKNOWN:return yt.UNKNOWN;case mo.DEADLINE_EXCEEDED:return yt.DEADLINE_EXCEEDED;case mo.RESOURCE_EXHAUSTED:return yt.RESOURCE_EXHAUSTED;case mo.INTERNAL:return yt.INTERNAL;case mo.UNAVAILABLE:return yt.UNAVAILABLE;case mo.UNAUTHENTICATED:return yt.UNAUTHENTICATED;case mo.INVALID_ARGUMENT:return yt.INVALID_ARGUMENT;case mo.NOT_FOUND:return yt.NOT_FOUND;case mo.ALREADY_EXISTS:return yt.ALREADY_EXISTS;case mo.PERMISSION_DENIED:return yt.PERMISSION_DENIED;case mo.FAILED_PRECONDITION:return yt.FAILED_PRECONDITION;case mo.ABORTED:return yt.ABORTED;case mo.OUT_OF_RANGE:return yt.OUT_OF_RANGE;case mo.UNIMPLEMENTED:return yt.UNIMPLEMENTED;case mo.DATA_LOSS:return yt.DATA_LOSS;default:return Zt()}}(Wr=mo||(mo={}))[Wr.OK=0]="OK",Wr[Wr.CANCELLED=1]="CANCELLED",Wr[Wr.UNKNOWN=2]="UNKNOWN",Wr[Wr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wr[Wr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wr[Wr.NOT_FOUND=5]="NOT_FOUND",Wr[Wr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wr[Wr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wr[Wr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wr[Wr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wr[Wr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wr[Wr.ABORTED=10]="ABORTED",Wr[Wr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wr[Wr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wr[Wr.INTERNAL=13]="INTERNAL",Wr[Wr.UNAVAILABLE=14]="UNAVAILABLE",Wr[Wr.DATA_LOSS=15]="DATA_LOSS";class Ll{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,h]of o)if(this.equalsFn(u,e))return h}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ti(this.inner,(t,o)=>{for(const[u,h]of o)e(u,h)})}isEmpty(){return ya(this.inner)}size(){return this.innerSize}}const Mg=new Oi(tn.comparator);function Ps(){return Mg}const Mf=new Oi(tn.comparator);function Su(...i){let e=Mf;for(const t of i)e=e.insert(t.key,t);return e}function xf(i){let e=Mf;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function sa(){return ec()}function Uc(){return ec()}function ec(){return new Ll(i=>i.toString(),(i,e)=>i.isEqual(e))}const Rf=new Oi(tn.comparator),Of=new mi(tn.comparator);function vr(...i){let e=Of;for(const t of i)e=e.add(t);return e}const jc=new mi(jn);function Wd(){return jc}class tc{constructor(e,t,o,u,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,Hc.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new tc(On.min(),u,Wd(),Ps(),vr())}}class Hc{constructor(e,t,o,u,h){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Hc(o,t,vr(),vr(),vr())}}class qd{constructor(e,t,o,u){this.It=e,this.removedTargetIds=t,this.key=o,this.Tt=u}}class xg{constructor(e,t){this.targetId=e,this.Et=t}}class Pf{constructor(e,t,o=_i.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class kf{constructor(){this.At=0,this.Rt=$l(),this.bt=_i.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=vr(),t=vr(),o=vr();return this.Rt.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:Zt()}}),new Hc(this.bt,this.Pt,e,t,o)}xt(){this.vt=!1,this.Rt=$l()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Yd{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Ps(),this.qt=Kd(),this.Ut=new mi(jn)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const o=this.Wt(t);switch(e.state){case 0:this.zt(t)&&o.Dt(e.resumeToken);break;case 1:o.Mt(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.Mt(),o.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(o.Ft(),o.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),o.Dt(e.resumeToken));break;default:Zt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((o,u)=>{this.zt(u)&&t(u)})}Jt(e){const t=e.targetId,o=e.Et.count,u=this.Yt(t);if(u){const h=u.target;if(Zu(h))if(0===o){const y=new tn(h.path);this.Qt(t,y,Ei.newNoDocument(y,On.min()))}else hn(1===o);else this.Xt(t)!==o&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((h,y)=>{const C=this.Yt(y);if(C){if(h.current&&Zu(C.target)){const V=new tn(C.target.path);null!==this.Lt.get(V)||this.te(y,V)||this.Qt(y,V,Ei.newNoDocument(V,e))}h.St&&(t.set(y,h.Ct()),h.xt())}});let o=vr();this.qt.forEach((h,y)=>{let C=!0;y.forEachWhile(V=>{const z=this.Yt(V);return!z||2===z.purpose||(C=!1,!1)}),C&&(o=o.add(h))}),this.Lt.forEach((h,y)=>y.setReadTime(e));const u=new tc(e,t,this.Ut,this.Lt,o);return this.Lt=Ps(),this.qt=Kd(),this.Ut=new mi(jn),u}Gt(e,t){if(!this.zt(e))return;const o=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,o),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,o){if(!this.zt(e))return;const u=this.Wt(e);this.te(e,t)?u.Nt(t,1):u.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),o&&(this.Lt=this.Lt.insert(t,o))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new kf,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new mi(jn),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||St("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new kf),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Kd(){return new Oi(tn.comparator)}function $l(){return new Oi(tn.comparator)}const Qy={asc:"ASCENDING",desc:"DESCENDING"},Jy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g0={and:"AND",or:"OR"};class ev{constructor(e,t){this.databaseId=e,this.wt=t}}function Bl(i,e){return i.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rg(i,e){return i.wt?e.toBase64():e.toUint8Array()}function Og(i,e){return Bl(i,e.toTimestamp())}function qi(i){return hn(!!i),On.fromTimestamp(function(e){const t=oo(e);return new Gr(t.seconds,t.nanos)}(i))}function zc(i,e){return(t=i,new yr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Nf(i){const e=yr.fromString(i);return hn(Ff(e)),e}function nc(i,e){return zc(i.databaseId,e.path)}function Va(i,e){const t=Nf(e);if(t.get(1)!==i.databaseId.projectId)throw new Pt(yt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Pt(yt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new tn(kg(t))}function Zd(i,e){return zc(i.databaseId,e)}function Pg(i){const e=Nf(i);return 4===e.length?yr.emptyPath():kg(e)}function Gc(i){return new yr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function kg(i){return hn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Ng(i,e,t){return{name:nc(i,e),fields:t.value.mapValue.fields}}function Fg(i,e,t){const o=Va(i,e.name),u=qi(e.updateTime),h=e.createTime?qi(e.createTime):On.min(),y=new xo({mapValue:{fields:e.fields}}),C=Ei.newFoundDocument(o,u,h,y);return t&&C.setHasCommittedMutations(),t?C.setHasCommittedMutations():C}function qc(i,e){let t;if(e instanceof wu)t={update:Ng(i,e.key,e.value)};else if(e instanceof Cu)t={delete:nc(i,e.key)};else if(e instanceof Ba)t={update:Ng(i,e.key,e.data),updateMask:Ug(e.fieldMask)};else{if(!(e instanceof dl))return Zt();t={verify:nc(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,h){const y=h.transform;if(y instanceof Mn)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof sr)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ro)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Ia)return{fieldPath:h.field.canonicalString(),increment:y.gt};throw Zt()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Og(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Zt()),t;var u}function Lg(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Ci.updateTime(qi(u.updateTime)):void 0!==u.exists?Ci.exists(u.exists):Ci.none():Ci.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(h,y){let C=null;"setToServerValue"in y?(hn("REQUEST_TIME"===y.setToServerValue),C=new Mn):"appendMissingElements"in y?C=new sr(y.appendMissingElements.values||[]):"removeAllFromArray"in y?C=new Ro(y.removeAllFromArray.values||[]):"increment"in y?C=new Ia(h,y.increment):Zt();const V=Pr.fromServerFormat(y.fieldPath);return new ul(V,C)}(i,u)):[];var u;if(e.update){const u=Va(i,e.update.name),h=new xo({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new Is((e.updateMask.fieldPaths||[]).map(z=>Pr.fromServerFormat(z)));return new Ba(u,h,y,t,o)}return new wu(u,h,t,o)}if(e.delete){const u=Va(i,e.delete);return new Cu(u,t)}if(e.verify){const u=Va(i,e.verify);return new dl(u,t)}return Zt()}function tv(i,e){return{documents:[Zd(i,e.path)]}}function $g(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Zd(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Zd(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(V){if(0!==V.length)return rc(vn.create(V,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(V){if(0!==V.length)return V.map(z=>{return{field:Ul((re=z).field),direction:rv(re.dir)};var re})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const y=(z=e.limit,i.wt||vs(z)?z:{value:z});var z,C,V;return null!==y&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt={before:(C=e.startAt).inclusive,values:C.position}),e.endAt&&(t.structuredQuery.endAt={before:!(V=e.endAt).inclusive,values:V.position}),t}function nv(i){let e=Pg(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){hn(1===o);const re=t.from[0];re.allDescendants?u=re.collectionId:e=e.child(re.collectionId)}let h=[];t.where&&(h=function(re){const Ne=Vg(re);return Ne instanceof vn&&qa(Ne)?Ne.getFilters():[Ne]}(t.where));let y=[];t.orderBy&&(y=t.orderBy.map(re=>{return new pu(Ws((Ne=re).field),function(ht){switch(ht){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ne.direction));var Ne}));let C=null;t.limit&&(C=function(re){let Ne;return Ne="object"==typeof re?re.value:re,vs(Ne)?null:Ne}(t.limit));let V=null;var re;t.startAt&&(V=new $t((re=t.startAt).values||[],!!re.before));let z=null;return t.endAt&&(z=function(re){return new $t(re.values||[],!re.before)}(t.endAt)),jd(e,u,y,h,C,"F",V,z)}function Vg(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ws(e.unaryFilter.field);return yn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Ws(e.unaryFilter.field);return yn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ws(e.unaryFilter.field);return yn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ws(e.unaryFilter.field);return yn.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Zt()}}(i):void 0!==i.fieldFilter?yn.create(Ws((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return vn.create(e.compositeFilter.filters.map(t=>Vg(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Zt()}}(e.compositeFilter.op))}(i):Zt();var e}function rv(i){return Qy[i]}function iv(i){return Jy[i]}function ov(i){return g0[i]}function Ul(i){return{fieldPath:i.canonicalString()}}function Ws(i){return Pr.fromServerFormat(i.fieldPath)}function rc(i){return i instanceof yn?function(e){if("=="===e.op){if(gi(e.value))return{unaryFilter:{field:Ul(e.field),op:"IS_NAN"}};if(pi(e.value))return{unaryFilter:{field:Ul(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(gi(e.value))return{unaryFilter:{field:Ul(e.field),op:"IS_NOT_NAN"}};if(pi(e.value))return{unaryFilter:{field:Ul(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ul(e.field),op:iv(e.op),value:e.value}}}(i):i instanceof vn?function(e){const t=e.getFilters().map(o=>rc(o));return 1===t.length?t[0]:{compositeFilter:{op:ov(e.op),filters:t}}}(i):Zt()}function Ug(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ff(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Ds(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=sv(e)),e=y0(i.get(t),e);return sv(e)}function y0(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const h=i.charAt(u);switch(h){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=h}}return t}function sv(i){return i+"\x01\x01"}function hl(i){const e=i.length;if(hn(e>=2),2===e)return hn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),yr.emptyPath();const t=e-2,o=[];let u="";for(let h=0;h<e;){const y=i.indexOf("\x01",h);switch((y<0||y>t)&&Zt(),i.charAt(y+1)){case"\x01":const C=i.substring(h,y);let V;0===u.length?V=C:(u+=C,V=u,u=""),o.push(V);break;case"\x10":u+=i.substring(h,y),u+="\0";break;case"\x11":u+=i.substring(h,y+1);break;default:Zt()}h=y+2}return new yr(o)}const Xd=["userId","batchId"];function ic(i,e){return[i,Ds(e)]}function av(i,e,t){return[i,Ds(e),t]}const v0={},jg=["prefixPath","collectionGroup","readTime","documentId"],lv=["prefixPath","collectionGroup","documentId"],uv=["collectionGroup","readTime","prefixPath","documentId"],cv=["canonicalId","targetId"],dv=["targetId","path"],Hg=["path","targetId"],Qd=["collectionId","parent"],hv=["indexId","uid"],Lf=["uid","sequenceNumber"],fv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Oo=["indexId","uid","orderedDocumentKey"],pv=["userId","collectionPath","documentId"],gv=["userId","collectionPath","largestBatchId"],zg=["userId","collectionGroup","largestBatchId"],$f=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],mv=[...$f,"documentOverlays"],Gg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wg=Gg,yv=[...Wg,"indexConfiguration","indexState","indexEntries"];class Jd extends Mo{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function hs(i,e){const t=Yt(i);return po.M(t.se,e)}class qg{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&Tf(h,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=cl(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=cl(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Uc();return this.mutations.forEach(u=>{const h=e.get(u.key),y=h.overlayedDocument;let C=this.applyToLocalView(y,h.mutatedFields);C=t.has(u.key)?null:C;const V=Bc(y,C);null!==V&&o.set(u.key,V),y.isValidDocument()||y.convertToNoDocument(On.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),vr())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,(t,o)=>Gd(t,o))&&Hs(this.baseMutations,e.baseMutations,(t,o)=>Gd(t,o))}}class Tu{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){hn(e.mutations.length===o.length);let u=Rf;const h=e.mutations;for(let y=0;y<h.length;y++)u=u.insert(h[y].key,o[y].version);return new Tu(e,t,o,u)}}class Yc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fl{constructor(e,t,o,u,h=On.min(),y=On.min(),C=_i.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=C}withSequenceNumber(e){return new fl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Bf{constructor(e){this.ie=e}}function vv(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:eh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:nc(u=i.ie,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:Bl(u,h.version.toTimestamp()),createTime:Bl(u,h.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:jl(e.version)};else{if(!e.isUnknownDocument())return Zt();o.unknownDocument={path:t.path.toArray(),version:jl(e.version)}}var u,h;return o}function eh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function jl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Hl(i){const e=new Gr(i.seconds,i.nanoseconds);return On.fromTimestamp(e)}function pl(i,e){const t=(e.baseMutations||[]).map(h=>Lg(i.ie,h));for(let h=0;h<e.mutations.length-1;++h)h+1<e.mutations.length&&void 0!==e.mutations[h+1].transform&&(e.mutations[h].updateTransforms=e.mutations[h+1].transform.fieldTransforms,e.mutations.splice(h+1,1),++h);const o=e.mutations.map(h=>Lg(i.ie,h)),u=Gr.fromMillis(e.localWriteTimeMs);return new qg(e.batchId,u,t,o)}function th(i){const e=Hl(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Hl(i.lastLimboFreeSnapshotVersion):On.min();let o;var u;return void 0!==i.query.documents?(hn(1===(u=i.query).documents.length),o=os(ll(Pg(u.documents[0])))):o=os(nv(i.query)),new fl(o,i.targetId,0,i.lastListenSequenceNumber,e,t,_i.fromBase64String(i.resumeToken))}function nh(i,e){const t=jl(e.snapshotVersion),o=jl(e.lastLimboFreeSnapshotVersion);let u;u=Zu(e.target)?tv(i.ie,e.target):$g(i.ie,e.target);const h=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:is(e.target),readTime:t,resumeToken:h,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function Vf(i){const e=nv({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?go(e,e.limit,"L"):e}function Kc(i,e){return new Yc(e.largestBatchId,Lg(i.ie,e.overlayMutation))}function Uf(i,e){const t=e.path.lastSegment();return[i,Ds(e.path.popLast()),t]}function jf(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:jl(o.readTime),documentKey:Ds(o.documentKey.path),largestBatchId:o.largestBatchId}}class Au{getBundleMetadata(e,t){return Kg(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Hl(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Kg(e).put({bundleId:(o=t).id,createTime:jl(qi(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return rh(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:Vf(u.bundledQuery),readTime:Hl(u.readTime)};var u})}saveNamedQuery(e,t){return rh(e).put({name:(o=t).name,readTime:jl(qi(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Kg(i){return hs(i,"bundles")}function rh(i){return hs(i,"namedQueries")}class Mu{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new Mu(e,t.uid||"")}getOverlay(e,t){return Zc(e).get(Uf(this.userId,t)).next(o=>o?Kc(this.yt,o):null)}getOverlays(e,t){const o=sa();return gt.forEach(t,u=>this.getOverlay(e,u).next(h=>{null!==h&&o.set(u,h)})).next(()=>o)}saveOverlays(e,t,o){const u=[];return o.forEach((h,y)=>{const C=new Yc(t,y);u.push(this.oe(e,C))}),gt.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(y=>u.add(Ds(y.getCollectionPath())));const h=[];return u.forEach(y=>{const C=IDBKeyRange.bound([this.userId,y,o],[this.userId,y,o+1],!1,!0);h.push(Zc(e).Y("collectionPathOverlayIndex",C))}),gt.waitFor(h)}getOverlaysForCollection(e,t,o){const u=sa(),h=Ds(t),y=IDBKeyRange.bound([this.userId,h,o],[this.userId,h,Number.POSITIVE_INFINITY],!0);return Zc(e).W("collectionPathOverlayIndex",y).next(C=>{for(const V of C){const z=Kc(this.yt,V);u.set(z.getKey(),z)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const h=sa();let y;const C=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Zc(e).Z({index:"collectionGroupOverlayIndex",range:C},(V,z,re)=>{const Ne=Kc(this.yt,z);h.size()<u||Ne.largestBatchId===y?(h.set(Ne.getKey(),Ne),y=Ne.largestBatchId):re.done()}).next(()=>h)}oe(e,t){return Zc(e).put(function(o,u,h){const[y,C,V]=Uf(u,h.mutation.key);return{userId:u,collectionPath:C,documentId:V,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:qc(o.ie,h.mutation)}}(this.yt,this.userId,t))}}function Zc(i){return hs(i,"documentOverlays")}class gl{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(li(e.integerValue));else if("doubleValue"in e){const o=li(e.doubleValue);isNaN(o)?this.he(t,13):(this.he(t,15),La(o)?t.le(0):t.le(o))}else if("timestampValue"in e){const o=e.timestampValue;this.he(t,20),"string"==typeof o?t.fe(o):(t.fe(`${o.seconds||""}`),t.le(o.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(ds(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.he(t,45),t.le(o.latitude||0),t.le(o.longitude||0)}else"mapValue"in e?$(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Zt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const o=e.fields||{};this.he(t,55);for(const u of Object.keys(o))this.de(u,t),this.ce(o[u],t)}ye(e,t){const o=e.values||[];this.he(t,50);for(const u of o)this.ce(u,t)}me(e,t){this.he(t,37),tn.fromName(e).path.forEach(o=>{this.he(t,60),this.pe(o,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function ih(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function zl(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const h=ih(255&t[u]);if(o+=h,8!==h)break}return o}(i);return Math.ceil(e/8)}gl.Ie=new gl;class Zg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ee(o.value),o=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.be(o.value),o=t.next();this.Pe()}ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ee(o);else if(o<2048)this.Ee(960|o>>>6),this.Ee(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|o>>>12),this.Ee(128|63&o>>>6),this.Ee(128|63&o);else{const u=t.codePointAt(0);this.Ee(240|u>>>18),this.Ee(128|63&u>>>12),this.Ee(128|63&u>>>6),this.Ee(128|63&u)}}this.Ae()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.be(o);else if(o<2048)this.be(960|o>>>6),this.be(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.be(480|o>>>12),this.be(128|63&o>>>6),this.be(128|63&o);else{const u=t.codePointAt(0);this.be(240|u>>>18),this.be(128|63&u>>>12),this.be(128|63&u>>>6),this.be(128|63&u)}}this.Pe()}Se(e){const t=this.De(e),o=zl(t);this.Ce(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}xe(e){const t=this.De(e),o=zl(t);this.Ce(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(u){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,u,!1),new Uint8Array(h.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Hf{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class _v{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Xc{constructor(){this.$e=new Zg,this.Be=new Hf(this.$e),this.Le=new _v(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Gl{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Gl(this.indexId,this.documentKey,this.arrayValue,o)}}function aa(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Xg(i.arrayValue,e.arrayValue),0!==t?t:(t=Xg(i.directionalValue,e.directionalValue),0!==t?t:tn.comparator(i.documentKey,e.documentKey)))}function Xg(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Ev{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const o=t;o.isInequality()?this.Qe=o:this.Ge.push(o)}}je(e){hn(e.collectionGroup===this.collectionId);const t=ei(e);if(void 0!==t&&!this.We(t))return!1;const o=zs(e);let u=0,h=0;for(;u<o.length&&this.We(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.Qe){const y=o[u];if(!this.ze(this.Qe,y)||!this.He(this.Ke[h++],y))return!1;++u}for(;u<o.length;++u)if(h>=this.Ke.length||!this.He(this.Ke[h++],o[u]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Qg(i){var e,t;if(hn(i instanceof yn||i instanceof vn),i instanceof yn){if(i instanceof Vd){const u=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(h=>yn.create(i.field,"==",h)))||[];return vn.create(u,"or")}return i}const o=i.filters.map(u=>Qg(u));return vn.create(o,i.op)}function zf(i){if(0===i.getFilters().length)return[];const e=sh(Qg(i));return hn(Jg(e)),Gf(e)||oh(e)?[e]:e.getFilters()}function Gf(i){return i instanceof yn}function oh(i){return i instanceof vn&&qa(i)}function Jg(i){return Gf(i)||oh(i)||function(e){if(e instanceof vn&&Wi(e)){for(const t of e.getFilters())if(!Gf(t)&&!oh(t))return!1;return!0}return!1}(i)}function sh(i){if(hn(i instanceof yn||i instanceof vn),i instanceof yn)return i;if(1===i.filters.length)return sh(i.filters[0]);const e=i.filters.map(o=>sh(o));let t=vn.create(e,i.op);return t=Wl(t),Jg(t)?t:(hn(t instanceof vn),hn(Ji(t)),hn(t.filters.length>1),t.filters.reduce((o,u)=>em(o,u)))}function em(i,e){let t;return hn(i instanceof yn||i instanceof vn),hn(e instanceof yn||e instanceof vn),t=i instanceof yn?e instanceof yn?vn.create([i,e],"and"):tm(i,e):e instanceof yn?tm(e,i):function(o,u){if(hn(o.filters.length>0&&u.filters.length>0),Ji(o)&&Ji(u))return Es(o,u.getFilters());const h=Wi(o)?o:u,y=Wi(o)?u:o,C=h.filters.map(V=>em(V,y));return vn.create(C,"or")}(i,e),Wl(t)}function tm(i,e){if(Ji(e))return Es(e,i.getFilters());{const t=e.filters.map(o=>em(i,o));return vn.create(t,"or")}}function Wl(i){if(hn(i instanceof yn||i instanceof vn),i instanceof yn)return i;const e=i.getFilters();if(1===e.length)return Wl(e[0]);if(Pl(i))return i;const t=e.map(u=>Wl(u)),o=[];return t.forEach(u=>{u instanceof yn?o.push(u):u instanceof vn&&(u.op===i.op?o.push(...u.filters):o.push(u))}),1===o.length?o[0]:vn.create(o,i.op)}class Iv{constructor(){this.Je=new ql}addToCollectionParentIndex(e,t){return this.Je.add(t),gt.resolve()}getCollectionParents(e,t){return gt.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return gt.resolve()}deleteFieldIndex(e,t){return gt.resolve()}getDocumentsMatchingTarget(e,t){return gt.resolve(null)}getIndexType(e,t){return gt.resolve(0)}getFieldIndexes(e,t){return gt.resolve([])}getNextCollectionGroupToUpdate(e){return gt.resolve(null)}getMinOffset(e,t){return gt.resolve(Jo.min())}getMinOffsetFromCollectionGroup(e,t){return gt.resolve(Jo.min())}updateCollectionGroup(e,t,o){return gt.resolve()}updateIndexEntries(e,t){return gt.resolve()}}class ql{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new mi(yr.comparator),h=!u.has(o);return this.index[t]=u.add(o),h}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new mi(yr.comparator)).toArray()}}const Yl=new Uint8Array(0);class Dv{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new ql,this.Xe=new Ll(o=>is(o),(o,u)=>mu(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const h={collectionId:o,parent:Ds(u)};return Wf(e).put(h)}return gt.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[Oa(t),""],!1,!0);return Wf(e).W(u).next(h=>{for(const y of h){if(y.collectionId!==t)break;o.push(hl(y.parent))}return o})}addFieldIndex(e,t){const o=ah(e),u={indexId:(y=t).indexId,collectionGroup:y.collectionGroup,fields:y.fields.map(C=>[C.fieldPath.canonicalString(),C.kind])};var y;delete u.indexId;const h=o.add(u);if(t.indexState){const y=Jc(e);return h.next(C=>{y.put(jf(C,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return h.next()}deleteFieldIndex(e,t){const o=ah(e),u=Jc(e),h=Qc(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Qc(e);let u=!0;const h=new Map;return gt.forEach(this.Ze(t),y=>this.tn(e,y).next(C=>{u&&(u=!!C),h.set(y,C)})).next(()=>{if(u){let y=vr();const C=[];return gt.forEach(h,(V,z)=>{var re;St("IndexedDbIndexManager",`Using index ${re=V,`id=${re.indexId}|cg=${re.collectionGroup}|f=${re.fields.map(kr=>`${kr.fieldPath}:${kr.kind}`).join(",")}`} to execute ${is(t)}`);const Ne=function(kr,Mr){const Er=ei(Mr);if(void 0===Er)return null;for(const xr of Xu(kr,Er.fieldPath))switch(xr.op){case"array-contains-any":return xr.value.arrayValue.values||[];case"array-contains":return[xr.value]}return null}(z,V),ht=function(kr,Mr){const Er=new Map;for(const xr of zs(Mr))for(const Wo of Xu(kr,xr.fieldPath))switch(Wo.op){case"==":case"in":Er.set(xr.fieldPath.canonicalString(),Wo.value);break;case"not-in":case"!=":return Er.set(xr.fieldPath.canonicalString(),Wo.value),Array.from(Er.values())}return null}(z,V),kt=function(kr,Mr){const Er=[];let xr=!0;for(const Wo of zs(Mr)){const If=0===Wo.kind?yu(kr,Wo.fieldPath,kr.startAt):Qu(kr,Wo.fieldPath,kr.startAt);Er.push(If.value),xr&&(xr=If.inclusive)}return new $t(Er,xr)}(z,V),Ut=function(kr,Mr){const Er=[];let xr=!0;for(const Wo of zs(Mr)){const If=0===Wo.kind?Qu(kr,Wo.fieldPath,kr.endAt):yu(kr,Wo.fieldPath,kr.endAt);Er.push(If.value),xr&&(xr=If.inclusive)}return new $t(Er,xr)}(z,V),cn=this.en(V,z,kt),Pn=this.en(V,z,Ut),Xr=this.nn(V,z,ht),Ii=this.sn(V.indexId,Ne,cn,kt.inclusive,Pn,Ut.inclusive,Xr);return gt.forEach(Ii,kr=>o.J(kr,t.limit).next(Mr=>{Mr.forEach(Er=>{const xr=tn.fromSegments(Er.documentKey);y.has(xr)||(y=y.add(xr),C.push(xr))})}))}).next(()=>C)}return gt.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:zf(vn.create(e.filters,"and")).map(o=>gu(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,o,u,h,y,C){const V=(null!=t?t.length:1)*Math.max(o.length,h.length),z=V/(null!=t?t.length:1),re=[];for(let Ne=0;Ne<V;++Ne){const ht=t?this.rn(t[Ne/z]):Yl,kt=this.on(e,ht,o[Ne%z],u),Ut=this.un(e,ht,h[Ne%z],y),cn=C.map(Pn=>this.on(e,ht,Pn,!0));re.push(...this.createRange(kt,Ut,cn))}return re}on(e,t,o,u){const h=new Gl(e,tn.empty(),t,o);return u?h:h.Ue()}un(e,t,o,u){const h=new Gl(e,tn.empty(),t,o);return u?h.Ue():h}tn(e,t){const o=new Ev(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(h=>{let y=null;for(const C of h)o.je(C)&&(!y||C.fields.length>y.fields.length)&&(y=C);return y})}getIndexType(e,t){let o=2;const u=this.Ze(t);return gt.forEach(u,h=>this.tn(e,h).next(y=>{y?0!==o&&y.fields.length<function(C){let V=new mi(Pr.comparator),z=!1;for(const re of C.filters)for(const Ne of re.getFlattenedFilters())Ne.field.isKeyField()||("array-contains"===Ne.op||"array-contains-any"===Ne.op?z=!0:V=V.add(Ne.field));for(const re of C.orderBy)re.field.isKeyField()||(V=V.add(re.field));return V.size+(z?1:0)}(h)&&(o=1):o=0})).next(()=>null!==t.limit&&u.length>1&&2===o?1:o)}cn(e,t){const o=new Xc;for(const u of zs(e)){const h=t.data.field(u.fieldPath);if(null==h)return null;const y=o.qe(u.kind);gl.Ie.ue(h,y)}return o.Fe()}rn(e){const t=new Xc;return gl.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const o=new Xc;return gl.Ie.ue(mn(this.databaseId,t),o.qe(function(u){const h=zs(u);return 0===h.length?0:h[h.length-1].kind}(e))),o.Fe()}nn(e,t,o){if(null===o)return[];let u=[];u.push(new Xc);let h=0;for(const y of zs(e)){const C=o[h++];for(const V of u)if(this.hn(t,y.fieldPath)&&wr(C))u=this.ln(u,y,C);else{const z=V.qe(y.kind);gl.Ie.ue(C,z)}}return this.fn(u)}en(e,t,o){return this.nn(e,t,o.position)}fn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Fe();return t}ln(e,t,o){const u=[...e],h=[];for(const y of o.arrayValue.values||[])for(const C of u){const V=new Xc;V.seed(C.Fe()),gl.Ie.ue(y,V.qe(t.kind)),h.push(V)}return h}hn(e,t){return!!e.filters.find(o=>o instanceof yn&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=ah(e),u=Jc(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(h=>{const y=[];return gt.forEach(h,C=>u.get([C.indexId,this.uid]).next(V=>{y.push(function(z,re){const Ne=re?new Pa(re.sequenceNumber,new Jo(Hl(re.readTime),new tn(hl(re.documentKey)),re.largestBatchId)):Pa.empty(),ht=z.fields.map(([kt,Ut])=>new Xi(Pr.fromServerFormat(kt),Ut));return new Rs(z.indexId,z.collectionGroup,ht,Ne)}(C,V))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const h=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==h?h:jn(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=ah(e),h=Jc(e);return this.dn(e).next(y=>u.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(C=>gt.forEach(C,V=>h.put(jf(V.indexId,this.user,y,o)))))}updateIndexEntries(e,t){const o=new Map;return gt.forEach(t,(u,h)=>{const y=o.get(u.collectionGroup);return(y?gt.resolve(y):this.getFieldIndexes(e,u.collectionGroup)).next(C=>(o.set(u.collectionGroup,C),gt.forEach(C,V=>this._n(e,u,V).next(z=>{const re=this.wn(h,V);return z.isEqual(re)?gt.resolve():this.mn(e,h,V,z,re)}))))})}gn(e,t,o,u){return Qc(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.an(o,t.key),documentKey:t.key.path.toArray()})}yn(e,t,o,u){return Qc(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.an(o,t.key),t.key.path.toArray()])}_n(e,t,o){const u=Qc(e);let h=new mi(aa);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.an(o,t)])},(y,C)=>{h=h.add(new Gl(o.indexId,t,C.arrayValue,C.directionalValue))}).next(()=>h)}wn(e,t){let o=new mi(aa);const u=this.cn(t,e);if(null==u)return o;const h=ei(t);if(null!=h){const y=e.data.field(h.fieldPath);if(wr(y))for(const C of y.arrayValue.values||[])o=o.add(new Gl(t.indexId,e.key,this.rn(C),u))}else o=o.add(new Gl(t.indexId,e.key,Yl,u));return o}mn(e,t,o,u,h){St("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const y=[];return function(C,V,z,re,Ne){const ht=C.getIterator(),kt=V.getIterator();let Ut=al(ht),cn=al(kt);for(;Ut||cn;){let Pn=!1,Xr=!1;if(Ut&&cn){const Ii=z(Ut,cn);Ii<0?Xr=!0:Ii>0&&(Pn=!0)}else null!=Ut?Xr=!0:Pn=!0;Pn?(re(cn),cn=al(kt)):Xr?(Ne(Ut),Ut=al(ht)):(Ut=al(ht),cn=al(kt))}}(u,h,aa,C=>{y.push(this.gn(e,t,o,C))},C=>{y.push(this.yn(e,t,o,C))}),gt.waitFor(y)}dn(e){let t=1;return Jc(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,h)=>{h.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((y,C)=>aa(y,C)).filter((y,C,V)=>!C||0!==aa(y,V[C-1]));const u=[];u.push(e);for(const y of o){const C=aa(y,e),V=aa(y,t);if(0===C)u[0]=e.Ue();else if(C>0&&V<0)u.push(y),u.push(y.Ue());else if(V>0)break}u.push(t);const h=[];for(let y=0;y<u.length;y+=2){if(this.pn(u[y],u[y+1]))return[];h.push(IDBKeyRange.bound([u[y].indexId,this.uid,u[y].arrayValue,u[y].directionalValue,Yl,[]],[u[y+1].indexId,this.uid,u[y+1].arrayValue,u[y+1].directionalValue,Yl,[]]))}return h}pn(e,t){return aa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(qf)}getMinOffset(e,t){return gt.mapArray(this.Ze(t),o=>this.tn(e,o).next(u=>u||Zt())).next(qf)}}function Wf(i){return hs(i,"collectionParents")}function Qc(i){return hs(i,"indexEntries")}function ah(i){return hs(i,"indexConfiguration")}function Jc(i){return hs(i,"indexState")}function qf(i){hn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;ga(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new Jo(e.readTime,e.documentKey,t)}const Yf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bs{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new bs(e,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lh(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),h=[],y=IDBKeyRange.only(t.batchId);let C=0;const V=o.Z({range:y},(re,Ne,ht)=>(C++,ht.delete()));h.push(V.next(()=>{hn(1===C)}));const z=[];for(const re of t.mutations){const Ne=av(e,re.key.path,t.batchId);h.push(u.delete(Ne)),z.push(re.key)}return gt.waitFor(h).next(()=>z)}function uh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Zt();e=i.noDocument}return JSON.stringify(e).length}bs.DEFAULT_COLLECTION_PERCENTILE=10,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bs.DEFAULT=new bs(41943040,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bs.DISABLED=new bs(-1,0,0);class oc{constructor(e,t,o,u){this.userId=e,this.yt=t,this.indexManager=o,this.referenceDelegate=u,this.In={}}static re(e,t,o,u){hn(""!==e.uid);const h=e.isAuthenticated()?e.uid:"";return new oc(h,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kl(e).Z({index:"userMutationsIndex",range:o},(u,h,y)=>{t=!1,y.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const h=ac(e),y=Kl(e);return y.add({}).next(C=>{hn("number"==typeof C);const V=new qg(C,t,o,u),z=function(ht,kt,Ut){const cn=Ut.baseMutations.map(Xr=>qc(ht.ie,Xr)),Pn=Ut.mutations.map(Xr=>qc(ht.ie,Xr));return{userId:kt,batchId:Ut.batchId,localWriteTimeMs:Ut.localWriteTime.toMillis(),baseMutations:cn,mutations:Pn}}(this.yt,this.userId,V),re=[];let Ne=new mi((ht,kt)=>jn(ht.canonicalString(),kt.canonicalString()));for(const ht of u){const kt=av(this.userId,ht.key.path,C);Ne=Ne.add(ht.key.path.popLast()),re.push(y.put(z)),re.push(h.put(kt,v0))}return Ne.forEach(ht=>{re.push(this.indexManager.addToCollectionParentIndex(e,ht))}),e.addOnCommittedListener(()=>{this.In[C]=V.keys()}),gt.waitFor(re).next(()=>V)})}lookupMutationBatch(e,t){return Kl(e).get(t).next(o=>o?(hn(o.userId===this.userId),pl(this.yt,o)):null)}Tn(e,t){return this.In[t]?gt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.In[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let h=null;return Kl(e).Z({index:"userMutationsIndex",range:u},(y,C,V)=>{C.userId===this.userId&&(hn(C.batchId>=o),h=pl(this.yt,C)),V.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Kl(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(u,h,y)=>{o=h.batchId,y.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kl(e).W("userMutationsIndex",t).next(o=>o.map(u=>pl(this.yt,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=ic(this.userId,t.path),u=IDBKeyRange.lowerBound(o),h=[];return ac(e).Z({range:u},(y,C,V)=>{const[z,re,Ne]=y,ht=hl(re);if(z===this.userId&&t.path.isEqual(ht))return Kl(e).get(Ne).next(kt=>{if(!kt)throw Zt();hn(kt.userId===this.userId),h.push(pl(this.yt,kt))});V.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new mi(jn);const u=[];return t.forEach(h=>{const y=ic(this.userId,h.path),C=IDBKeyRange.lowerBound(y),V=ac(e).Z({range:C},(z,re,Ne)=>{const[ht,kt,Ut]=z,cn=hl(kt);ht===this.userId&&h.path.isEqual(cn)?o=o.add(Ut):Ne.done()});u.push(V)}),gt.waitFor(u).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,h=ic(this.userId,o),y=IDBKeyRange.lowerBound(h);let C=new mi(jn);return ac(e).Z({range:y},(V,z,re)=>{const[Ne,ht,kt]=V,Ut=hl(ht);Ne===this.userId&&o.isPrefixOf(Ut)?Ut.length===u&&(C=C.add(kt)):re.done()}).next(()=>this.En(e,C))}En(e,t){const o=[],u=[];return t.forEach(h=>{u.push(Kl(e).get(h).next(y=>{if(null===y)throw Zt();hn(y.userId===this.userId),o.push(pl(this.yt,y))}))}),gt.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return lh(e.se,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),gt.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return gt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return ac(e).Z({range:o},(h,y,C)=>{if(h[0]===this.userId){const V=hl(h[1]);u.push(V)}else C.done()}).next(()=>{hn(0===u.length)})})}containsKey(e,t){return sc(e,this.userId,t)}Rn(e){return nm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function sc(i,e,t){const o=ic(e,t.path),u=o[1],h=IDBKeyRange.lowerBound(o);let y=!1;return ac(i).Z({range:h,X:!0},(C,V,z)=>{const[re,Ne,ht]=C;re===e&&Ne===u&&(y=!0),z.done()}).next(()=>y)}function Kl(i){return hs(i,"mutations")}function ac(i){return hs(i,"documentMutations")}function nm(i){return hs(i,"mutationQueues")}class xu{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new xu(0)}static vn(){return new xu(-1)}}class bv{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new xu(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>On.fromTimestamp(new Gr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Sn(e,u)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>lc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(hn(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let u=0;const h=[];return lc(e).Z((y,C)=>{const V=th(C);V.sequenceNumber<=t&&null===o.get(V.targetId)&&(u++,h.push(this.removeTargetData(e,V)))}).next(()=>gt.waitFor(h)).next(()=>u)}forEachTarget(e,t){return lc(e).Z((o,u)=>{const h=th(u);t(h)})}Vn(e){return rm(e).get("targetGlobalKey").next(t=>(hn(null!==t),t))}Sn(e,t){return rm(e).put("targetGlobalKey",t)}Dn(e,t){return lc(e).put(nh(this.yt,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=is(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let h=null;return lc(e).Z({range:u,index:"queryTargetsIndex"},(y,C,V)=>{const z=th(C);mu(t,z.target)&&(h=z,V.done())}).next(()=>h)}addMatchingKeys(e,t,o){const u=[],h=la(e);return t.forEach(y=>{const C=Ds(y.path);u.push(h.put({targetId:o,path:C})),u.push(this.referenceDelegate.addReference(e,o,y))}),gt.waitFor(u)}removeMatchingKeys(e,t,o){const u=la(e);return gt.forEach(t,h=>{const y=Ds(h.path);return gt.waitFor([u.delete([o,y]),this.referenceDelegate.removeReference(e,o,h)])})}removeMatchingKeysForTargetId(e,t){const o=la(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=la(e);let h=vr();return u.Z({range:o,X:!0},(y,C,V)=>{const z=hl(y[1]),re=new tn(z);h=h.add(re)}).next(()=>h)}containsKey(e,t){const o=Ds(t.path),u=IDBKeyRange.bound([o],[Oa(o)],!1,!0);let h=0;return la(e).Z({index:"documentTargetsIndex",X:!0,range:u},([y,C],V,z)=>{0!==y&&(h++,z.done())}).next(()=>h>0)}ne(e,t){return lc(e).get(t).next(o=>o?th(o):null)}}function lc(i){return hs(i,"targets")}function rm(i){return hs(i,"targetGlobal")}function la(i){return hs(i,"targetDocuments")}function Ka([i,e],[t,o]){const u=jn(i,t);return 0===u?jn(e,o):u}class wv{constructor(e){this.xn=e,this.buffer=new mi(Ka),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Ka(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Cv{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;St("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ne.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){br(o)?St("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield cs(o)}yield t.Fn(3e5)}))}}class _0{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return gt.resolve(es.at);const o=new wv(t);return this.$n.forEachTarget(e,u=>o.On(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>o.On(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector","Garbage collection skipped; disabled"),gt.resolve(Yf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yf):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let o,u,h,y,C,V,z;const re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ne=>(Ne>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ne}`),u=this.params.maximumSequenceNumbersToCollect):u=Ne,y=Date.now(),this.nthSequenceNumber(e,u))).next(Ne=>(o=Ne,C=Date.now(),this.removeTargets(e,o,t))).next(Ne=>(h=Ne,V=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ne=>(z=Date.now(),nr()<=Xe.in.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-re}ms\n\tDetermined least recently used ${u} in `+(C-y)+`ms\n\tRemoved ${h} targets in `+(V-C)+`ms\n\tRemoved ${Ne} documents in `+(z-V)+`ms\nTotal Duration: ${z-re}ms`),gt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:Ne})))}}class E0{constructor(e,t){this.db=e,this.garbageCollector=new _0(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}Un(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,u)=>t(u))}addReference(e,t,o){return ed(e,o)}removeReference(e,t,o){return ed(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return ed(e,t)}Gn(e,t){return function(o,u){let h=!1;return nm(o).tt(y=>sc(o,y,u).next(C=>(C&&(h=!0),gt.resolve(!C)))).next(()=>h)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let h=0;return this.Kn(e,(y,C)=>{if(C<=t){const V=this.Gn(e,y).next(z=>{if(!z)return h++,o.getEntry(e,y).next(()=>(o.removeEntry(y,On.min()),la(e).delete([0,Ds(y.path)])))});u.push(V)}}).next(()=>gt.waitFor(u)).next(()=>o.apply(e)).next(()=>h)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return ed(e,t)}Kn(e,t){const o=la(e);let u,h=es.at;return o.Z({index:"documentTargetsIndex"},([y,C],{path:V,sequenceNumber:z})=>{0===y?(h!==es.at&&t(new tn(hl(u)),h),h=z,u=V):h=es.at}).next(()=>{h!==es.at&&t(new tn(hl(u)),h)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ed(i,e){return la(i).put((o=i.currentSequenceNumber,{targetId:0,path:Ds(e.path),sequenceNumber:o}));var o}class Sv{constructor(){this.changes=new Ll(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ei.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?gt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class im{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Ru(e).put(o)}removeEntry(e,t,o){return Ru(e).delete(function(u,h){const y=u.path.toArray();return[y.slice(0,y.length-2),y[y.length-2],eh(h),y[y.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=Ei.newInvalidDocument(t);return Ru(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(td(t))},(u,h)=>{o=this.jn(t,h)}).next(()=>o)}Wn(e,t){let o={size:0,document:Ei.newInvalidDocument(t)};return Ru(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(td(t))},(u,h)=>{o={document:this.jn(t,h),size:uh(h)}}).next(()=>o)}getEntries(e,t){let o=Ps();return this.zn(e,t,(u,h)=>{const y=this.jn(u,h);o=o.insert(u,y)}).next(()=>o)}Hn(e,t){let o=Ps(),u=new Oi(tn.comparator);return this.zn(e,t,(h,y)=>{const C=this.jn(h,y);o=o.insert(h,C),u=u.insert(h,uh(y))}).next(()=>({documents:o,Jn:u}))}zn(e,t,o){if(t.isEmpty())return gt.resolve();let u=new mi(om);t.forEach(V=>u=u.add(V));const h=IDBKeyRange.bound(td(u.first()),td(u.last())),y=u.getIterator();let C=y.getNext();return Ru(e).Z({index:"documentKeyIndex",range:h},(V,z,re)=>{const Ne=tn.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;C&&om(C,Ne)<0;)o(C,null),C=y.getNext();C&&C.isEqual(Ne)&&(o(C,z),C=y.hasNext()?y.getNext():null),C?re.j(td(C)):re.done()}).next(()=>{for(;C;)o(C,null),C=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(e,t,o,u){const h=t.path,y=[h.popLast().toArray(),h.lastSegment(),eh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],C=[h.popLast().toArray(),h.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ru(e).W(IDBKeyRange.bound(y,C,!0)).next(V=>{let z=Ps();for(const re of V){const Ne=this.jn(tn.fromSegments(re.prefixPath.concat(re.collectionGroup,re.documentId)),re);Ne.isFoundDocument()&&(Iu(t,Ne)||u.has(Ne.key))&&(z=z.insert(Ne.key,Ne))}return z})}getAllFromCollectionGroup(e,t,o,u){let h=Ps();const y=Da(t,o),C=Da(t,Jo.max());return Ru(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,C,!0)},(V,z,re)=>{const Ne=this.jn(tn.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);h=h.insert(Ne.key,Ne),h.size===u&&re.done()}).next(()=>h)}newChangeBuffer(e){return new Tv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Zf(e).get("remoteDocumentGlobalKey").next(t=>(hn(!!t),t))}Qn(e,t){return Zf(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function Yg(i,e){let t;if(e.document)t=Fg(i.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=tn.fromSegments(e.noDocument.path),u=Hl(e.noDocument.readTime);t=Ei.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Zt();{const o=tn.fromSegments(e.unknownDocument.path),u=Hl(e.unknownDocument.version);t=Ei.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new Gr(o[0],o[1]);return On.fromTimestamp(u)}(e.readTime)),t}(this.yt,t);if(!o.isNoDocument()||!o.version.isEqual(On.min()))return o}return Ei.newInvalidDocument(e)}}function Kf(i){return new im(i)}class Tv extends Sv{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ll(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new mi((h,y)=>jn(h.canonicalString(),y.canonicalString()));return this.changes.forEach((h,y)=>{const C=this.Xn.get(h);if(t.push(this.Yn.removeEntry(e,h,C.readTime)),y.isValidDocument()){const V=vv(this.Yn.yt,y);u=u.add(h.path.popLast());const z=uh(V);o+=z-C.size,t.push(this.Yn.addEntry(e,h,V))}else if(o-=C.size,this.trackRemovals){const V=vv(this.Yn.yt,y.convertToNoDocument(On.min()));t.push(this.Yn.addEntry(e,h,V))}}),u.forEach(h=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,h))}),t.push(this.Yn.updateMetadata(e,o)),gt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:u})=>(u.forEach((h,y)=>{this.Xn.set(h,{size:y,readTime:o.get(h).readTime})}),o))}}function Zf(i){return hs(i,"remoteDocumentGlobal")}function Ru(i){return hs(i,"remoteDocumentsV14")}function td(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Da(i,e){const t=e.documentKey.path.toArray();return[i,eh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function om(i,e){const t=i.path.toArray(),o=e.path.toArray();let u=0;for(let h=0;h<t.length-2&&h<o.length-2;++h)if(u=jn(t[h],o[h]),u)return u;return u=jn(t.length,o.length),u||(u=jn(t[t.length-2],o[o.length-2]),u||jn(t[t.length-1],o[o.length-1]))}class sm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class am{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==o&&cl(o.mutation,u,Is.empty(),Gr.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,vr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=vr()){const u=sa();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(h=>{let y=Su();return h.forEach((C,V)=>{y=y.insert(C,V.overlayedDocument)}),y}))}getOverlayedDocuments(e,t){const o=sa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,vr()))}populateOverlays(e,t,o){const u=[];return o.forEach(h=>{t.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((y,C)=>{t.set(y,C)})})}computeViews(e,t,o,u){let h=Ps();const y=ec(),C=ec();return t.forEach((V,z)=>{const re=o.get(z.key);u.has(z.key)&&(void 0===re||re.mutation instanceof Ba)?h=h.insert(z.key,z):void 0!==re?(y.set(z.key,re.mutation.getFieldMask()),cl(re.mutation,z,re.mutation.getFieldMask(),Gr.now())):y.set(z.key,Is.empty())}),this.recalculateAndSaveOverlays(e,h).next(V=>(V.forEach((z,re)=>y.set(z,re)),t.forEach((z,re)=>{var Ne;return C.set(z,new sm(re,null!==(Ne=y.get(z))&&void 0!==Ne?Ne:null))}),C))}recalculateAndSaveOverlays(e,t){const o=ec();let u=new Oi((y,C)=>y-C),h=vr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(y=>{for(const C of y)C.keys().forEach(V=>{const z=t.get(V);if(null===z)return;let re=o.get(V)||Is.empty();re=C.applyToLocalView(z,re),o.set(V,re);const Ne=(u.get(C.batchId)||vr()).add(V);u=u.insert(C.batchId,Ne)})}).next(()=>{const y=[],C=u.getReverseIterator();for(;C.hasNext();){const V=C.getNext(),z=V.key,re=V.value,Ne=Uc();re.forEach(ht=>{if(!h.has(ht)){const kt=Bc(t.get(ht),o.get(ht));null!==kt&&Ne.set(ht,kt),h=h.add(ht)}}),y.push(this.documentOverlayCache.saveOverlays(e,z,Ne))}return gt.waitFor(y)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return tn.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):jo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(h=>{const y=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-h.size):gt.resolve(sa());let C=-1,V=h;return y.next(z=>gt.forEach(z,(re,Ne)=>(C<Ne.largestBatchId&&(C=Ne.largestBatchId),h.get(re)?gt.resolve():this.remoteDocumentCache.getEntry(e,re).next(ht=>{V=V.insert(re,ht)}))).next(()=>this.populateOverlays(e,z,h)).next(()=>this.computeViews(e,V,z,vr())).next(re=>({batchId:C,changes:xf(re)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tn(t)).next(o=>{let u=Su();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let h=Su();return this.indexManager.getCollectionParents(e,u).next(y=>gt.forEach(y,C=>{const V=(z=t,re=C.child(u),new ia(re,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,re;return this.getDocumentsMatchingCollectionQuery(e,V,o).next(z=>{z.forEach((re,Ne)=>{h=h.insert(re,Ne)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,u))).next(h=>{u.forEach((C,V)=>{const z=V.getKey();null===h.get(z)&&(h=h.insert(z,Ei.newInvalidDocument(z)))});let y=Su();return h.forEach((C,V)=>{const z=u.get(C);void 0!==z&&cl(z.mutation,V,Is.empty(),Gr.now()),Iu(t,V)&&(y=y.insert(C,V))}),y})}}class Av{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return gt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:qi(o.createTime)}),gt.resolve()}getNamedQuery(e,t){return gt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:Vf(o.bundledQuery),readTime:qi(o.readTime)}),gt.resolve();var o}}class Mv{constructor(){this.overlays=new Oi(tn.comparator),this.es=new Map}getOverlay(e,t){return gt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=sa();return gt.forEach(t,u=>this.getOverlay(e,u).next(h=>{null!==h&&o.set(u,h)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,h)=>{this.oe(e,t,h)}),gt.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.es.delete(o)),gt.resolve()}getOverlaysForCollection(e,t,o){const u=sa(),h=t.length+1,y=new tn(t.child("")),C=this.overlays.getIteratorFrom(y);for(;C.hasNext();){const V=C.getNext().value,z=V.getKey();if(!t.isPrefixOf(z.path))break;z.path.length===h&&V.largestBatchId>o&&u.set(V.getKey(),V)}return gt.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let h=new Oi((z,re)=>z-re);const y=this.overlays.getIterator();for(;y.hasNext();){const z=y.getNext().value;if(z.getKey().getCollectionGroup()===t&&z.largestBatchId>o){let re=h.get(z.largestBatchId);null===re&&(re=sa(),h=h.insert(z.largestBatchId,re)),re.set(z.getKey(),z)}}const C=sa(),V=h.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((z,re)=>C.set(z,re)),!(C.size()>=u)););return gt.resolve(C)}oe(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const y=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,y)}this.overlays=this.overlays.insert(o.key,new Yc(t,o));let h=this.es.get(t);void 0===h&&(h=vr(),this.es.set(t,h)),this.es.set(t,h.add(o.key))}}class Xf{constructor(){this.ns=new mi(Ho.ss),this.rs=new mi(Ho.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new Ho(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new Ho(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new tn(new yr([])),o=new Ho(t,e),u=new Ho(t,e+1),h=[];return this.rs.forEachInRange([o,u],y=>{this.cs(y),h.push(y.key)}),h}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new tn(new yr([])),o=new Ho(t,e),u=new Ho(t,e+1);let h=vr();return this.rs.forEachInRange([o,u],y=>{h=h.add(y.key)}),h}containsKey(e){const t=new Ho(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Ho{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return tn.comparator(e.key,t.key)||jn(e._s,t._s)}static os(e,t){return jn(e._s,t._s)||tn.comparator(e.key,t.key)}}class xv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new mi(Ho.ss)}checkEmpty(e){return gt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const h=this.ws;this.ws++;const y=new qg(h,t,o,u);this.mutationQueue.push(y);for(const C of u)this.gs=this.gs.add(new Ho(C.key,h)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return gt.resolve(y)}lookupMutationBatch(e,t){return gt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),h=u<0?0:u;return gt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return gt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Ho(t,0),u=new Ho(t,Number.POSITIVE_INFINITY),h=[];return this.gs.forEachInRange([o,u],y=>{const C=this.ys(y._s);h.push(C)}),gt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new mi(jn);return t.forEach(u=>{const h=new Ho(u,0),y=new Ho(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([h,y],C=>{o=o.add(C._s)})}),gt.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let h=o;tn.isDocumentKey(h)||(h=h.child(""));const y=new Ho(new tn(h),0);let C=new mi(jn);return this.gs.forEachWhile(V=>{const z=V.key.path;return!!o.isPrefixOf(z)&&(z.length===u&&(C=C.add(V._s)),!0)},y),gt.resolve(this.Is(C))}Is(e){const t=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){hn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return gt.forEach(t.mutations,u=>{const h=new Ho(u.key,t.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new Ho(t,0),u=this.gs.firstAfterOrEqual(o);return gt.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return gt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Rv{constructor(e){this.Es=e,this.docs=new Oi(tn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),h=u?u.size:0,y=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:y}),this.size+=y-h,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return gt.resolve(o?o.document.mutableCopy():Ei.newInvalidDocument(t))}getEntries(e,t){let o=Ps();return t.forEach(u=>{const h=this.docs.get(u);o=o.insert(u,h?h.document.mutableCopy():Ei.newInvalidDocument(u))}),gt.resolve(o)}getDocumentsMatchingQuery(e,t,o,u){let h=Ps();const y=t.path,C=new tn(y.child("")),V=this.docs.getIteratorFrom(C);for(;V.hasNext();){const{key:z,value:{document:re}}=V.getNext();if(!y.isPrefixOf(z.path))break;z.path.length>y.length+1||ga(ka(re),o)<=0||(u.has(re.key)||Iu(t,re))&&(h=h.insert(re.key,re.mutableCopy()))}return gt.resolve(h)}getAllFromCollectionGroup(e,t,o,u){Zt()}As(e,t){return gt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Ov(this)}getSize(e){return gt.resolve(this.size)}}class Ov extends Sv{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),gt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class _r{constructor(e){this.persistence=e,this.Rs=new Ll(t=>is(t),mu),this.lastRemoteSnapshotVersion=On.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Xf,this.targetCount=0,this.vs=xu.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,u)=>t(u)),gt.resolve()}getLastRemoteSnapshotVersion(e){return gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return gt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),gt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),gt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new xu(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,gt.resolve()}updateTargetData(e,t){return this.Dn(t),gt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,gt.resolve()}removeTargets(e,t,o){let u=0;const h=[];return this.Rs.forEach((y,C)=>{C.sequenceNumber<=t&&null===o.get(C.targetId)&&(this.Rs.delete(y),h.push(this.removeMatchingKeysForTargetId(e,C.targetId)),u++)}),gt.waitFor(h).next(()=>u)}getTargetCount(e){return gt.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return gt.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),gt.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const u=this.persistence.referenceDelegate,h=[];return u&&t.forEach(y=>{h.push(u.markPotentiallyOrphaned(e,y))}),gt.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),gt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return gt.resolve(o)}containsKey(e,t){return gt.resolve(this.Ps.containsKey(t))}}class Qf{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new es(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new _r(this),this.indexManager=new Iv,this.remoteDocumentCache=new Rv(o=>this.referenceDelegate.xs(o)),this.yt=new Bf(t),this.Ns=new Av(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new xv(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){St("MemoryPersistence","Starting transaction:",e);const u=new lm(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(h=>this.referenceDelegate.Os(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ms(e,t){return gt.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class lm extends Mo{constructor(e){super(),this.currentSequenceNumber=e}}class nd{constructor(e){this.persistence=e,this.Fs=new Xf,this.$s=null}static Bs(e){return new nd(e)}get Ls(){if(this.$s)return this.$s;throw Zt()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),gt.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),gt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),gt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(h=>this.Ls.add(h.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gt.forEach(this.Ls,o=>{const u=tn.fromPath(o);return this.qs(e,u).next(h=>{h||t.removeEntry(u,On.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return gt.or([()=>gt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Pv{constructor(e){this.yt=e}$(e,t,o,u){const h=new ra("createOrUpgrade",t);var C;o<1&&u>=1&&(e.createObjectStore("owner"),(C=e).createObjectStore("mutationQueues",{keyPath:"userId"}),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xd,{unique:!0}),C.createObjectStore("documentMutations"),um(e),function(C){C.createObjectStore("remoteDocuments")}(e));let y=gt.resolve();return o<3&&u>=3&&(0!==o&&(function(C){C.deleteObjectStore("targetDocuments"),C.deleteObjectStore("targets"),C.deleteObjectStore("targetGlobal")}(e),um(e)),y=y.next(()=>function(C){const V=C.store("targetGlobal"),z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:On.min().toTimestamp(),targetCount:0};return V.put("targetGlobalKey",z)}(h))),o<4&&u>=4&&(0!==o&&(y=y.next(()=>function(C,V){return V.store("mutations").W().next(z=>{C.deleteObjectStore("mutations"),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xd,{unique:!0});const re=V.store("mutations"),Ne=z.map(ht=>re.put(ht));return gt.waitFor(Ne)})}(e,h))),y=y.next(()=>{!function(C){C.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(y=y.next(()=>this.Us(h))),o<6&&u>=6&&(y=y.next(()=>(function(C){C.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(h)))),o<7&&u>=7&&(y=y.next(()=>this.Gs(h))),o<8&&u>=8&&(y=y.next(()=>this.Qs(e,h))),o<9&&u>=9&&(y=y.next(()=>{!function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(y=y.next(()=>this.js(h))),o<11&&u>=11&&(y=y.next(()=>{(function(C){C.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(C){C.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(y=y.next(()=>{!function(C){const V=C.createObjectStore("documentOverlays",{keyPath:pv});V.createIndex("collectionPathOverlayIndex",gv,{unique:!1}),V.createIndex("collectionGroupOverlayIndex",zg,{unique:!1})}(e)})),o<13&&u>=13&&(y=y.next(()=>function(C){const V=C.createObjectStore("remoteDocumentsV14",{keyPath:jg});V.createIndex("documentKeyIndex",lv),V.createIndex("collectionGroupIndex",uv)}(e)).next(()=>this.Ws(e,h)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(y=y.next(()=>this.zs(e,h))),o<15&&u>=15&&(y=y.next(()=>function(C){C.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),C.createObjectStore("indexState",{keyPath:hv}).createIndex("sequenceNumberIndex",Lf,{unique:!1}),C.createObjectStore("indexEntries",{keyPath:fv}).createIndex("documentKeyIndex",Oo,{unique:!1})}(e))),y}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,u)=>{t+=uh(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Us(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(u=>gt.forEach(u,h=>{const y=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",y).next(C=>gt.forEach(C,V=>{hn(V.userId===h.userId);const z=pl(this.yt,V);return lh(e,h.userId,z).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const h=[];return o.Z((y,C)=>{const V=new yr(y),z=[0,Ds(V)];h.push(t.get(z).next(re=>re?gt.resolve():t.put({targetId:0,path:Ds(V),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>gt.waitFor(h))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Qd});const o=t.store("collectionParents"),u=new ql,h=y=>{if(u.add(y)){const C=y.lastSegment(),V=y.popLast();return o.put({collectionId:C,parent:Ds(V)})}};return t.store("remoteDocuments").Z({X:!0},(y,C)=>{const V=new yr(y);return h(V.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([y,C,V],z)=>{const re=hl(C);return h(re.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,u)=>{const h=th(u),y=nh(this.yt,h);return t.put(y)})}Ws(e,t){const o=t.store("remoteDocuments"),u=[];return o.Z((h,y)=>{const C=t.store("remoteDocumentsV14"),V=(z=y,z.document?new tn(yr.fromString(z.document.name).popFirst(5)):z.noDocument?tn.fromSegments(z.noDocument.path):z.unknownDocument?tn.fromSegments(z.unknownDocument.path):Zt()).path.toArray();var z;const re={prefixPath:V.slice(0,V.length-2),collectionGroup:V[V.length-2],documentId:V[V.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};u.push(C.put(re))}).next(()=>gt.waitFor(u))}zs(e,t){const o=t.store("mutations"),u=Kf(this.yt),h=new Qf(nd.Bs,this.yt.ie);return o.W().next(y=>{const C=new Map;return y.forEach(V=>{var z;let re=null!==(z=C.get(V.userId))&&void 0!==z?z:vr();pl(this.yt,V).keys().forEach(Ne=>re=re.add(Ne)),C.set(V.userId,re)}),gt.forEach(C,(V,z)=>{const re=new ct(z),Ne=Mu.re(this.yt,re),ht=h.getIndexManager(re),kt=oc.re(re,this.yt,ht,h.referenceDelegate);return new am(u,kt,Ne,ht).recalculateAndSaveOverlaysForDocumentKeys(new Jd(t,es.at),V).next()})})}}function um(i){i.createObjectStore("targetDocuments",{keyPath:dv}).createIndex("documentTargetsIndex",Hg,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cv,{unique:!0}),i.createObjectStore("targetGlobal")}const ch="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Jf{constructor(e,t,o,u,h,y,C,V,z,re,Ne=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=h,this.window=y,this.document=C,this.Js=z,this.Ys=re,this.Xs=Ne,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=ht=>Promise.resolve(),!Jf.C())throw new Pt(yt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new E0(this,u),this.ii=t+"main",this.yt=new Bf(V),this.ri=new po(this.ii,this.Xs,new Pv(this.yt)),this.Cs=new bv(this.referenceDelegate,this.yt),this.remoteDocumentCache=Kf(this.yt),this.Ns=new Au,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===re&&Dn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pt(yt.FAILED_PRECONDITION,ch);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new es(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,ne.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ne.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ne.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(br(e))return St("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return St("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return uc(e).get("owner").next(t=>gt.resolve(this.mi(t)))}gi(e){return dh(e).delete(this.clientId)}yi(){var e=this;return(0,ne.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=hs(o,"clientMetadata");return u.W().next(h=>{const y=e.Ii(h,18e5),C=h.filter(V=>-1===y.indexOf(V));return gt.forEach(C,V=>u.delete(V.clientId)).next(()=>C)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?gt.resolve(!0):uc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Pt(yt.FAILED_PRECONDITION,ch);return!1}}return!(!this.networkEnabled||!this.inForeground)||dh(e).W().next(o=>void 0===this.Ii(o,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(t=>(this.isPrimary!==t&&St("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ne.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Jd(t,es.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>dh(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return oc.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Dv(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Mu.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){St("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",h=15===(y=this.Xs)?yv:14===y?Wg:13===y?Gg:12===y?mv:11===y?$f:void Zt();var y;let C;return this.ri.runTransaction(e,u,h,V=>(C=new Jd(V,this.Ss?this.Ss.next():es.at),"readwrite-primary"===t?this.fi(C).next(z=>!!z||this.di(C)).next(z=>{if(!z)throw Dn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Pt(yt.FAILED_PRECONDITION,Na);return o(C)}).next(z=>this.wi(C).next(()=>z)):this.Vi(C).next(()=>o(C)))).then(V=>(C.raiseOnCommittedEvent(),V))}Vi(e){return uc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Pt(yt.FAILED_PRECONDITION,ch)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uc(e).put("owner",t)}static C(){return po.C()}_i(e){const t=uc(e);return t.get("owner").next(o=>this.mi(o)?(St("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):gt.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Dn(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,De.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return St("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Dn("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Dn("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function uc(i){return hs(i,"owner")}function dh(i){return hs(i,"clientMetadata")}function ep(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class cm{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=u}static Ci(e,t){let o=vr(),u=vr();for(const h of t.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new cm(e,t.fromCache,o,u)}}class tp{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,u){return this.ki(e,t).next(h=>h||this.Oi(e,t,u,o)).next(h=>h||this.Mi(e,t))}ki(e,t){if(Fc(t))return gt.resolve(null);let o=os(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=go(t,null,"F"),o=os(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(h=>{const y=vr(...h);return this.Ni.getDocuments(e,y).next(C=>this.indexManager.getMinOffset(e,o).next(V=>{const z=this.Fi(t,C);return this.$i(t,z,y,V.readTime)?this.ki(e,go(t,null,"F")):this.Bi(e,z,t,V)}))})))}Oi(e,t,o,u){return Fc(t)||u.isEqual(On.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(h=>{const y=this.Fi(t,h);return this.$i(t,y,o,u)?this.Mi(e,t):(nr()<=Xe.in.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Eu(t)),this.Bi(e,y,t,rl(u,-1)))})}Fi(e,t){let o=new mi(b(e));return t.forEach((u,h)=>{Iu(e,h)&&(o=o.add(h))}),o}$i(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const h="F"===e.limitType?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Mi(e,t){return nr()<=Xe.in.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",Eu(t)),this.Ni.getDocumentsMatchingQuery(e,t,Jo.min())}Bi(e,t,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(h=>(t.forEach(y=>{h=h.insert(y.key,y)}),h))}}class dm{constructor(e,t,o,u){this.persistence=e,this.Li=t,this.yt=u,this.qi=new Oi(jn),this.Ui=new Ll(h=>is(h),mu),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new am(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Zl(i,e,t,o){return new dm(i,e,t,o)}function hm(i,e){return rd.apply(this,arguments)}function rd(){return rd=(0,ne.Z)(function*(i,e){const t=Yt(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(h=>(u=h,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(h=>{const y=[],C=[];let V=vr();for(const z of u){y.push(z.batchId);for(const re of z.mutations)V=V.add(re.key)}for(const z of h){C.push(z.batchId);for(const re of z.mutations)V=V.add(re.key)}return t.localDocuments.getDocuments(o,V).next(z=>({ji:z,removedBatchIds:y,addedBatchIds:C}))})})}),rd.apply(this,arguments)}function np(i,e){const t=Yt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),h=t.Gi.newChangeBuffer({trackRemovals:!0});return function(y,C,V,z){const re=V.batch,Ne=re.keys();let ht=gt.resolve();return Ne.forEach(kt=>{ht=ht.next(()=>z.getEntry(C,kt)).next(Ut=>{const cn=V.docVersions.get(kt);hn(null!==cn),Ut.version.compareTo(cn)<0&&(re.applyToRemoteDocument(Ut,V),Ut.isValidDocument()&&(Ut.setReadTime(V.commitVersion),z.addEntry(Ut)))})}),ht.next(()=>y.mutationQueue.removeMutationBatch(C,re))}(t,o,e,h).next(()=>h.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(y){let C=vr();for(let V=0;V<y.mutationResults.length;++V)y.mutationResults[V].transformResults.length>0&&(C=C.add(y.batch.mutations[V].key));return C}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function fm(i){const e=Yt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function I0(i,e){const t=Yt(i),o=e.snapshotVersion;let u=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const y=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.qi;const C=[];e.targetChanges.forEach((re,Ne)=>{const ht=u.get(Ne);if(!ht)return;C.push(t.Cs.removeMatchingKeys(h,re.removedDocuments,Ne).next(()=>t.Cs.addMatchingKeys(h,re.addedDocuments,Ne)));let kt=ht.withSequenceNumber(h.currentSequenceNumber);var Ut,cn,Pn;e.targetMismatches.has(Ne)?kt=kt.withResumeToken(_i.EMPTY_BYTE_STRING,On.min()).withLastLimboFreeSnapshotVersion(On.min()):re.resumeToken.approximateByteSize()>0&&(kt=kt.withResumeToken(re.resumeToken,o)),u=u.insert(Ne,kt),cn=kt,Pn=re,(0===(Ut=ht).resumeToken.approximateByteSize()||cn.snapshotVersion.toMicroseconds()-Ut.snapshotVersion.toMicroseconds()>=3e8||Pn.addedDocuments.size+Pn.modifiedDocuments.size+Pn.removedDocuments.size>0)&&C.push(t.Cs.updateTargetData(h,kt))});let V=Ps(),z=vr();if(e.documentUpdates.forEach(re=>{e.resolvedLimboDocuments.has(re)&&C.push(t.persistence.referenceDelegate.updateLimboDocument(h,re))}),C.push(kv(h,y,e.documentUpdates).next(re=>{V=re.Wi,z=re.zi})),!o.isEqual(On.min())){const re=t.Cs.getLastRemoteSnapshotVersion(h).next(Ne=>t.Cs.setTargetsMetadata(h,h.currentSequenceNumber,o));C.push(re)}return gt.waitFor(C).next(()=>y.apply(h)).next(()=>t.localDocuments.getLocalViewOfDocuments(h,V,z)).next(()=>V)}).then(h=>(t.qi=u,h))}function kv(i,e,t){let o=vr(),u=vr();return t.forEach(h=>o=o.add(h)),e.getEntries(i,o).next(h=>{let y=Ps();return t.forEach((C,V)=>{const z=h.get(C);V.isFoundDocument()!==z.isFoundDocument()&&(u=u.add(C)),V.isNoDocument()&&V.version.isEqual(On.min())?(e.removeEntry(C,V.readTime),y=y.insert(C,V)):!z.isValidDocument()||V.version.compareTo(z.version)>0||0===V.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(V),y=y.insert(C,V)):St("LocalStore","Ignoring outdated watch update for ",C,". Current version:",z.version," Watch version:",V.version)}),{Wi:y,zi:u}})}function D0(i,e){const t=Yt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function cc(i,e){const t=Yt(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Cs.getTargetData(o,e).next(h=>h?(u=h,gt.resolve(u)):t.Cs.allocateTargetId(o).next(y=>(u=new fl(e,y,0,o.currentSequenceNumber),t.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.qi.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.qi=t.qi.insert(o.targetId,o),t.Ui.set(e,o.targetId)),o})}function Ou(i,e,t){return pm.apply(this,arguments)}function pm(){return pm=(0,ne.Z)(function*(i,e,t){const o=Yt(i),u=o.qi.get(e),h=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",h,y=>o.persistence.referenceDelegate.removeTarget(y,u)))}catch(y){if(!br(y))throw y;St("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}o.qi=o.qi.remove(e),o.Ui.delete(u.target)}),pm.apply(this,arguments)}function hh(i,e,t){const o=Yt(i);let u=On.min(),h=vr();return o.persistence.runTransaction("Execute query","readonly",y=>function(C,V,z){const re=Yt(C),Ne=re.Ui.get(z);return void 0!==Ne?gt.resolve(re.qi.get(Ne)):re.Cs.getTargetData(V,z)}(o,y,os(e)).next(C=>{if(C)return u=C.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(y,C.targetId).next(V=>{h=V})}).next(()=>o.Li.getDocumentsMatchingQuery(y,e,t?u:On.min(),t?h:vr())).next(C=>(rp(o,$c(e),C),{documents:C,Hi:h})))}function Pu(i,e){const t=Yt(i),o=Yt(t.Cs),u=t.qi.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",h=>o.ne(h,e).next(y=>y?y.target:null))}function gm(i,e){const t=Yt(i),o=t.Ki.get(e)||On.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Gi.getAllFromCollectionGroup(u,e,rl(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(rp(t,e,u),u))}function rp(i,e,t){let o=i.Ki.get(e)||On.min();t.forEach((u,h)=>{h.readTime.compareTo(o)>0&&(o=h.readTime)}),i.Ki.set(e,o)}function ip(){return ip=(0,ne.Z)(function*(i,e,t,o){const u=Yt(i);let h=vr(),y=Ps();for(const z of t){const re=e.Ji(z.metadata.name);z.document&&(h=h.add(re));const Ne=e.Yi(z);Ne.setReadTime(e.Xi(z.metadata.readTime)),y=y.insert(re,Ne)}const C=u.Gi.newChangeBuffer({trackRemovals:!0}),V=yield cc(u,(z=o,os(ll(yr.fromString(`__bundle__/docs/${z}`)))));var z;return u.persistence.runTransaction("Apply bundle documents","readwrite",z=>kv(z,C,y).next(re=>(C.apply(z),re)).next(re=>u.Cs.removeMatchingKeysForTargetId(z,V.targetId).next(()=>u.Cs.addMatchingKeys(z,h,V.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(z,re.Wi,re.zi)).next(()=>re.Wi)))}),ip.apply(this,arguments)}function mm(i,e){return op.apply(this,arguments)}function op(){return op=(0,ne.Z)(function*(i,e,t=vr()){const o=yield cc(i,os(Vf(e.bundledQuery))),u=Yt(i);return u.persistence.runTransaction("Save named query","readwrite",h=>{const y=qi(e.readTime);if(o.snapshotVersion.compareTo(y)>=0)return u.Ns.saveNamedQuery(h,e);const C=o.withResumeToken(_i.EMPTY_BYTE_STRING,y);return u.qi=u.qi.insert(C.targetId,C),u.Cs.updateTargetData(h,C).next(()=>u.Cs.removeMatchingKeysForTargetId(h,o.targetId)).next(()=>u.Cs.addMatchingKeys(h,t,o.targetId)).next(()=>u.Ns.saveNamedQuery(h,e))})}),op.apply(this,arguments)}function ym(i,e){return`firestore_clients_${i}_${e}`}function vm(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function sp(i,e){return`firestore_targets_${i}_${e}`}class ph{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static Zi(e,t,o){const u=JSON.parse(o);let h,y="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return y&&u.error&&(y="string"==typeof u.error.message&&"string"==typeof u.error.code,y&&(h=new Pt(u.error.code,u.error.message))),y?new ph(e,t,u.state,h):(Dn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dc{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let u,h="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(u=new Pt(o.error.code,o.error.message))),h?new dc(e,o.state,u):(Dn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,h=Wd();for(let y=0;u&&y<o.activeTargetIds.length;++y)u=Qi(o.activeTargetIds[y]),h=h.add(o.activeTargetIds[y]);return u?new gh(e,h):(Dn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class mh{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new mh(t.clientId,t.onlineState):(Dn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yh{constructor(){this.activeTargetIds=Wd()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class id{constructor(e,t,o,u,h){this.window=e,this.Hs=t,this.persistenceKey=o,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Oi(jn),this.started=!1,this.cr=[];const y=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.ar=ym(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new yh),this.lr=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(C){return`firestore_bundle_loaded_v2_${C}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ne.Z)(function*(){const t=yield e.syncEngine.vi();for(const u of t){if(u===e.sr)continue;const h=e.getItem(ym(e.persistenceKey,u));if(h){const y=gh.Zi(u,h);y&&(e.ur=e.ur.insert(y.clientId,y))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const u=e.yr(o);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,o){this.Tr(e,t,o),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(sp(this.persistenceKey,e));if(o){const u=dc.Zi(e,o);u&&(t=u.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sp(this.persistenceKey,e))}updateQueryState(e,t,o){this.Rr(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Er(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return St("SharedClientState","READ",e,t),t}setItem(e,t){St("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){St("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(St("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void Dn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ne.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const u=t.vr(o.key);return t.Vr(u,null)}{const u=t.Sr(o.key,o.newValue);if(u)return t.Vr(u.clientId,u)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const u=t.Dr(o.key,o.newValue);if(u)return t.Cr(u)}}else if(t._r.test(o.key)){if(null!==o.newValue){const u=t.Nr(o.key,o.newValue);if(u)return t.kr(u)}}else if(o.key===t.wr){if(null!==o.newValue){const u=t.yr(o.newValue);if(u)return t.pr(u)}}else if(o.key===t.hr){const u=function(h){let y=es.at;if(null!=h)try{const C=JSON.parse(h);hn("number"==typeof C),y=C}catch(C){Dn("SharedClientState","Failed to read sequence number from WebStorage",C)}return y}(o.newValue);u!==es.at&&t.sequenceNumberHandler(u)}else if(o.key===t.mr){const u=t.Or(o.newValue);yield Promise.all(u.map(h=>t.syncEngine.Mr(h)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,o){const u=new ph(this.currentUser,e,t,o),h=vm(this.persistenceKey,this.currentUser,e);this.setItem(h,u.tr())}Er(e){const t=vm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,o){const u=sp(this.persistenceKey,e),h=new dc(e,t,o);this.setItem(u,h.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const o=this.vr(e);return gh.Zi(o,t)}Dr(e,t){const o=this.dr.exec(e),u=Number(o[1]);return ph.Zi(new ct(void 0!==o[2]?o[2]:null),u,t)}Nr(e,t){const o=this._r.exec(e),u=Number(o[1]);return dc.Zi(u,t)}yr(e){return mh.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ne.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);St("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const o=t?this.ur.insert(e,t):this.ur.remove(e),u=this.Ir(this.ur),h=this.Ir(o),y=[],C=[];return h.forEach(V=>{u.has(V)||y.push(V)}),u.forEach(V=>{h.has(V)||C.push(V)}),this.syncEngine.Br(y,C).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Wd();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class Nv{constructor(){this.Lr=new yh,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,o){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new yh,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ap{Ur(e){}shutdown(){}}class _m{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){St("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){St("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const b0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hc{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Em extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,u,h){const y=this.ho(e,t);St("RestConnection","Sending: ",y,o);const C={};return this.lo(C,u,h),this.fo(e,y,C,o).then(V=>(St("RestConnection","Received: ",V),V),V=>{throw zr("RestConnection",`${e} failed with error: `,V,"url: ",y,"request:",o),V})}_o(e,t,o,u,h,y){return this.ao(e,t,o,u,h)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ct,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,h)=>e[h]=u),o&&o.headers.forEach((u,h)=>e[h]=u)}ho(e,t){return`${this.oo}/v1/${t}:${b0[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,u){return new Promise((h,y)=>{const C=new Z;C.setWithCredentials(!0),C.listenOnce(ta.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case ea.NO_ERROR:const z=C.getResponseJson();St("Connection","XHR received:",JSON.stringify(z)),h(z);break;case ea.TIMEOUT:St("Connection",'RPC "'+e+'" timed out'),y(new Pt(yt.DEADLINE_EXCEEDED,"Request time out"));break;case ea.HTTP_ERROR:const re=C.getStatus();if(St("Connection",'RPC "'+e+'" failed with status:',re,"response text:",C.getResponseText()),re>0){let Ne=C.getResponseJson();Array.isArray(Ne)&&(Ne=Ne[0]);const ht=null==Ne?void 0:Ne.error;if(ht&&ht.status&&ht.message){const kt=function(Ut){const cn=Ut.toLowerCase().replace(/_/g,"-");return Object.values(yt).indexOf(cn)>=0?cn:yt.UNKNOWN}(ht.status);y(new Pt(kt,ht.message))}else y(new Pt(yt.UNKNOWN,"Server responded with status "+C.getStatus()))}else y(new Pt(yt.UNAVAILABLE,"Connection failed."));break;default:Zt()}}finally{St("Connection",'RPC "'+e+'" completed.')}});const V=JSON.stringify(u);C.send(t,"POST",V,o,15)})}wo(e,t,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=tl(),y=Ml(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new H({})),this.lo(C.initMessageHeaders,t,o),C.encodeInitMessageHeaders=!0;const V=u.join("");St("Connection","Creating WebChannel: "+V,C);const z=h.createWebChannel(V,C);let re=!1,Ne=!1;const ht=new hc({Hr:Ut=>{Ne?St("Connection","Not sending because WebChannel is closed:",Ut):(re||(St("Connection","Opening WebChannel transport."),z.open(),re=!0),St("Connection","WebChannel sending:",Ut),z.send(Ut))},Jr:()=>z.close()}),kt=(Ut,cn,Pn)=>{Ut.listen(cn,Xr=>{try{Pn(Xr)}catch(Ii){setTimeout(()=>{throw Ii},0)}})};return kt(z,P.EventType.OPEN,()=>{Ne||St("Connection","WebChannel transport opened.")}),kt(z,P.EventType.CLOSE,()=>{Ne||(Ne=!0,St("Connection","WebChannel transport closed"),ht.io())}),kt(z,P.EventType.ERROR,Ut=>{Ne||(Ne=!0,zr("Connection","WebChannel transport errored:",Ut),ht.io(new Pt(yt.UNAVAILABLE,"The operation could not be completed")))}),kt(z,P.EventType.MESSAGE,Ut=>{var cn;if(!Ne){const Pn=Ut.data[0];hn(!!Pn);const Ii=Pn.error||(null===(cn=Pn[0])||void 0===cn?void 0:cn.error);if(Ii){St("Connection","WebChannel received error:",Ii);const kr=Ii.status;let Mr=function(xr){const Wo=mo[xr];if(void 0!==Wo)return Vc(Wo)}(kr),Er=Ii.message;void 0===Mr&&(Mr=yt.INTERNAL,Er="Unknown error status: "+kr+" with message "+Ii.message),Ne=!0,ht.io(new Pt(Mr,Er)),z.close()}else St("Connection","WebChannel received:",Pn),ht.ro(Pn)}}),kt(y,na.STAT_EVENT,Ut=>{Ut.stat===M.PROXY?St("Connection","Detected buffering proxy"):Ut.stat===M.NOPROXY&&St("Connection","Detected no buffering proxy")}),setTimeout(()=>{ht.so()},0),ht}}function Im(){return typeof window<"u"?window:null}function od(){return typeof document<"u"?document:null}function sd(i){return new ev(i,!0)}class lp{constructor(e,t,o=1e3,u=1.5,h=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=u,this.po=h,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,t-o);u>0&&St("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class ad{constructor(e,t,o,u,h,y,C,V){this.Hs=e,this.vo=o,this.Vo=u,this.connection=h,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=C,this.listener=V,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new lp(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ne.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ne.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,ne.Z)(function*(){o.Lo(),o.qo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===yt.RESOURCE_EXHAUSTED?(Dn(t.toString()),Dn("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===yt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Uo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.So===t&&this.Go(o,u)},o=>{e(()=>{const u=new Pt(yt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(u)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.Qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ne.Z)(function*(){e.state=0,e.start()}))}Qo(e){return St("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(St("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fc extends ad{constructor(e,t,o,u,h,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,y),this.yt=h}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Wc(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:Zt(),u=e.targetChange.targetIds||[],h=function(V,z){return V.wt?(hn(void 0===z||"string"==typeof z),_i.fromBase64String(z||"")):(hn(void 0===z||z instanceof Uint8Array),_i.fromUint8Array(z||new Uint8Array))}(i,e.targetChange.resumeToken),y=e.targetChange.cause,C=y&&function(V){const z=void 0===V.code?yt.UNKNOWN:Vc(V.code);return new Pt(z,V.message||"")}(y);t=new Pf(o,u,h,C||null)}else if("documentChange"in e){const o=e.documentChange,u=Va(i,o.document.name),h=qi(o.document.updateTime),y=o.document.createTime?qi(o.document.createTime):On.min(),C=new xo({mapValue:{fields:o.document.fields}}),V=Ei.newFoundDocument(u,h,y,C);t=new qd(o.targetIds||[],o.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const o=e.documentDelete,u=Va(i,o.document),h=o.readTime?qi(o.readTime):On.min(),y=Ei.newNoDocument(u,h);t=new qd([],o.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const o=e.documentRemove,u=Va(i,o.document);t=new qd([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Zt();{const o=e.filter,h=new Ag(o.count||0);t=new xg(o.targetId,h)}}var V;return t}(this.yt,e),o=function(u){if(!("targetChange"in u))return On.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?On.min():h.readTime?qi(h.readTime):On.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=Gc(this.yt),t.addTarget=function(u,h){let y;const C=h.target;return y=Zu(C)?{documents:tv(u,C)}:{query:$g(u,C)},y.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?y.resumeToken=Rg(u,h.resumeToken):h.snapshotVersion.compareTo(On.min())>0&&(y.readTime=Bl(u,h.snapshotVersion.toTimestamp())),y}(this.yt,e);const o=function Bg(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=Gc(this.yt),t.removeTarget=e,this.Bo(t)}}class up extends ad{constructor(e,t,o,u,h,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,y),this.yt=h,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(hn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function m0(i,e){return i&&i.length>0?(hn(void 0!==e),i.map(t=>function(o,u){let h=qi(o.updateTime?o.updateTime:u);return h.isEqual(On.min())&&(h=qi(u)),new Du(h,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=qi(e.commitTime);return this.listener.Zo(o,t)}return hn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Gc(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>qc(this.yt,o))};this.Bo(t)}}class ld extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.yt=u,this.nu=!1}su(){if(this.nu)throw new Pt(yt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.ao(e,t,o,u,h)).catch(u=>{throw"FirebaseError"===u.name?(u.code===yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Pt(yt.UNKNOWN,u.toString())})}_o(e,t,o,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,y])=>this.connection._o(e,t,o,h,y,u)).catch(h=>{throw"FirebaseError"===h.name?(h.code===yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Pt(yt.UNKNOWN,h.toString())})}terminate(){this.nu=!0}}class Dm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Dn(t),this.ou=!1):St("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class dp{constructor(e,t,o,u,h){var y=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=h,this.mu.Ur(C=>{o.enqueueAndForget((0,ne.Z)(function*(){var V;ml(y)&&(St("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,ne.Z)(function*(z){const re=Yt(z);re._u.add(4),yield Nu(re),re.gu.set("Unknown"),re._u.delete(4),yield ku(re)}),function(z){return V.apply(this,arguments)})(y))}))}),this.gu=new Dm(o,u)}}function ku(i){return ud.apply(this,arguments)}function ud(){return ud=(0,ne.Z)(function*(i){if(ml(i))for(const e of i.wu)yield e(!0)}),ud.apply(this,arguments)}function Nu(i){return cd.apply(this,arguments)}function cd(){return cd=(0,ne.Z)(function*(i){for(const e of i.wu)yield e(!1)}),cd.apply(this,arguments)}function vh(i,e){const t=Yt(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Ih(t)?Eh(t):gc(t).ko()&&_h(t,e))}function dd(i,e){const t=Yt(i),o=gc(t);t.du.delete(e),o.ko()&&bm(t,e),0===t.du.size&&(o.ko()?o.Fo():ml(t)&&t.gu.set("Unknown"))}function _h(i,e){i.yu.Ot(e.targetId),gc(i).zo(e)}function bm(i,e){i.yu.Ot(e),gc(i).Ho(e)}function Eh(i){i.yu=new Yd({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.du.get(e)||null}),gc(i).start(),i.gu.uu()}function Ih(i){return ml(i)&&!gc(i).No()&&i.du.size>0}function ml(i){return 0===Yt(i)._u.size}function wm(i){i.yu=void 0}function ua(i){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,ne.Z)(function*(i){i.du.forEach((e,t)=>{_h(i,e)})}),Dh.apply(this,arguments)}function Fv(i,e){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,ne.Z)(function*(i,e){wm(i),Ih(i)?(i.gu.hu(e),Eh(i)):i.gu.set("Unknown")}),Cm.apply(this,arguments)}function hp(i,e,t){return bh.apply(this,arguments)}function bh(){return bh=(0,ne.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof Pf&&2===e.state&&e.cause)try{yield(o=(0,ne.Z)(function*(u,h){const y=h.cause;for(const C of h.targetIds)u.du.has(C)&&(yield u.remoteSyncer.rejectListen(C,y),u.du.delete(C),u.yu.removeTarget(C))}),function(u,h){return o.apply(this,arguments)})(i,e)}catch(o){St("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield wh(i,o)}else if(e instanceof qd?i.yu.Kt(e):e instanceof xg?i.yu.Jt(e):i.yu.jt(e),!t.isEqual(On.min()))try{const o=yield fm(i.localStore);t.compareTo(o)>=0&&(yield function(u,h){const y=u.yu.Zt(h);return y.targetChanges.forEach((C,V)=>{if(C.resumeToken.approximateByteSize()>0){const z=u.du.get(V);z&&u.du.set(V,z.withResumeToken(C.resumeToken,h))}}),y.targetMismatches.forEach(C=>{const V=u.du.get(C);if(!V)return;u.du.set(C,V.withResumeToken(_i.EMPTY_BYTE_STRING,V.snapshotVersion)),bm(u,C);const z=new fl(V.target,C,1,V.sequenceNumber);_h(u,z)}),u.remoteSyncer.applyRemoteEvent(y)}(i,t))}catch(o){St("RemoteStore","Failed to raise snapshot:",o),yield wh(i,o)}var o}),bh.apply(this,arguments)}function wh(i,e,t){return fp.apply(this,arguments)}function fp(){return fp=(0,ne.Z)(function*(i,e,t){if(!br(e))throw e;i._u.add(1),yield Nu(i),i.gu.set("Offline"),t||(t=()=>fm(i.localStore)),i.asyncQueue.enqueueRetryable((0,ne.Z)(function*(){St("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield ku(i)}))}),fp.apply(this,arguments)}function Sm(i,e){return e().catch(t=>wh(i,t,e))}function Fu(i){return pp.apply(this,arguments)}function pp(){return pp=(0,ne.Z)(function*(i){const e=Yt(i),t=Xl(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Lv(e);)try{const u=yield D0(e.localStore,o);if(null===u){0===e.fu.length&&t.Fo();break}o=u.batchId,gp(e,u)}catch(u){yield wh(e,u)}Tm(e)&&Am(e)}),pp.apply(this,arguments)}function Lv(i){return ml(i)&&i.fu.length<10}function gp(i,e){i.fu.push(e);const t=Xl(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Tm(i){return ml(i)&&!Xl(i).No()&&i.fu.length>0}function Am(i){Xl(i).start()}function $v(i){return mp.apply(this,arguments)}function mp(){return mp=(0,ne.Z)(function*(i){Xl(i).eu()}),mp.apply(this,arguments)}function Bv(i){return ba.apply(this,arguments)}function ba(){return ba=(0,ne.Z)(function*(i){const e=Xl(i);for(const t of i.fu)e.Xo(t.mutations)}),ba.apply(this,arguments)}function yp(i,e,t){return vp.apply(this,arguments)}function vp(){return vp=(0,ne.Z)(function*(i,e,t){const o=i.fu.shift(),u=Tu.from(o,e,t);yield Sm(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Fu(i)}),vp.apply(this,arguments)}function Vv(i,e){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,ne.Z)(function*(i,e){var t;e&&Xl(i).Yo&&(yield(t=(0,ne.Z)(function*(o,u){if(Xy(h=u.code)&&h!==yt.ABORTED){const y=o.fu.shift();Xl(o).Mo(),yield Sm(o,()=>o.remoteSyncer.rejectFailedWrite(y.batchId,u)),yield Fu(o)}var h}),function(o,u){return t.apply(this,arguments)})(i,e)),Tm(i)&&Am(i)}),Ch.apply(this,arguments)}function Mm(i,e){return _p.apply(this,arguments)}function _p(){return _p=(0,ne.Z)(function*(i,e){const t=Yt(i);t.asyncQueue.verifyOperationInProgress(),St("RemoteStore","RemoteStore received new credentials");const o=ml(t);t._u.add(3),yield Nu(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield ku(t)}),_p.apply(this,arguments)}function Ep(i,e){return hd.apply(this,arguments)}function hd(){return hd=(0,ne.Z)(function*(i,e){const t=Yt(i);e?(t._u.delete(2),yield ku(t)):e||(t._u.add(2),yield Nu(t),t.gu.set("Unknown"))}),hd.apply(this,arguments)}function gc(i){return i.pu||(i.pu=function(e,t,o){const u=Yt(e);return u.su(),new fc(t,u.connection,u.authCredentials,u.appCheckCredentials,u.yt,o)}(i.datastore,i.asyncQueue,{Yr:ua.bind(null,i),Zr:Fv.bind(null,i),Wo:hp.bind(null,i)}),i.wu.push(function(){var e=(0,ne.Z)(function*(t){t?(i.pu.Mo(),Ih(i)?Eh(i):i.gu.set("Unknown")):(yield i.pu.stop(),wm(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function Xl(i){return i.Iu||(i.Iu=function(e,t,o){const u=Yt(e);return u.su(),new up(t,u.connection,u.authCredentials,u.appCheckCredentials,u.yt,o)}(i.datastore,i.asyncQueue,{Yr:$v.bind(null,i),Zr:Vv.bind(null,i),tu:Bv.bind(null,i),Zo:yp.bind(null,i)}),i.wu.push(function(){var e=(0,ne.Z)(function*(t){t?(i.Iu.Mo(),yield Fu(i)):(yield i.Iu.stop(),i.fu.length>0&&(St("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class mc{constructor(e,t,o,u,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=h,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(e,t,o,u,h){const y=Date.now()+o,C=new mc(e,t,y,u,h);return C.start(o),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pt(yt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ql(i,e){if(Dn("AsyncQueue",`${e}: ${i}`),br(i))return new Pt(yt.UNAVAILABLE,`${e}: ${i}`);throw i}class yl{constructor(e){this.comparator=e?(t,o)=>e(t,o)||tn.comparator(t.key,o.key):(t,o)=>tn.comparator(t.key,o.key),this.keyedMap=Su(),this.sortedSet=new Oi(this.comparator)}static emptySet(e){return new yl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,h=o.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new yl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Uv{constructor(){this.Tu=new Oi(tn.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Zt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Jl{constructor(e,t,o,u,h,y,C,V,z){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=h,this.fromCache=y,this.syncStateChanged=C,this.excludesMetadataChanges=V,this.hasCachedResults=z}static fromInitialDocuments(e,t,o,u,h){const y=[];return t.forEach(C=>{y.push({type:0,doc:C})}),new Jl(e,t,yl.emptySet(t),y,o,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$a(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class w0{constructor(){this.Au=void 0,this.listeners=[]}}class xm{constructor(){this.queries=new Ll(e=>Lc(e),$a),this.onlineState="Unknown",this.Ru=new Set}}function Sh(i,e){return Th.apply(this,arguments)}function Th(){return Th=(0,ne.Z)(function*(i,e){const t=Yt(i),o=e.query;let u=!1,h=t.queries.get(o);if(h||(u=!0,h=new w0),u)try{h.Au=yield t.onListen(o)}catch(y){const C=Ql(y,`Initialization of query '${Eu(e.query)}' failed`);return void e.onError(C)}t.queries.set(o,h),h.listeners.push(e),e.bu(t.onlineState),h.Au&&e.Pu(h.Au)&&yc(t)}),Th.apply(this,arguments)}function Ah(i,e){return fd.apply(this,arguments)}function fd(){return fd=(0,ne.Z)(function*(i,e){const t=Yt(i),o=e.query;let u=!1;const h=t.queries.get(o);if(h){const y=h.listeners.indexOf(e);y>=0&&(h.listeners.splice(y,1),u=0===h.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),fd.apply(this,arguments)}function vl(i,e){const t=Yt(i);let o=!1;for(const u of e){const y=t.queries.get(u.query);if(y){for(const C of y.listeners)C.Pu(u)&&(o=!0);y.Au=u}}o&&yc(t)}function Mh(i,e,t){const o=Yt(i),u=o.queries.get(e);if(u)for(const h of u.listeners)h.onError(t);o.queries.delete(e)}function yc(i){i.Ru.forEach(e=>{e.next()})}class Lu{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Jl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class jv{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class Ip{constructor(e){this.yt=e}Ji(e){return Va(this.yt,e)}Yi(e){return e.metadata.exists?Fg(this.yt,e.document,!1):Ei.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return qi(e)}}class Rm{constructor(e,t,o){this.Mu=e,this.localStore=t,this.yt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Om(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const o=yr.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,o=new Ip(this.yt);for(const u of e)if(u.metadata.queries){const h=o.Ji(u.metadata.name);for(const y of u.metadata.queries){const C=(t.get(y)||vr()).add(h);t.set(y,C)}}return t}complete(){var e=this;return(0,ne.Z)(function*(){const t=yield function fh(i,e,t,o){return ip.apply(this,arguments)}(e.localStore,new Ip(e.yt),e.documents,e.Mu.id),o=e.$u(e.documents);for(const u of e.queries)yield mm(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Om(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Pm{constructor(e){this.key=e}}class vc{constructor(e){this.key=e}}class km{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=vr(),this.mutatedKeys=vr(),this.Gu=b(e),this.Qu=new yl(this.Gu)}get ju(){return this.qu}Wu(e,t){const o=t?t.zu:new Uv,u=t?t.Qu:this.Qu;let h=t?t.mutatedKeys:this.mutatedKeys,y=u,C=!1;const V="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,z="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((re,Ne)=>{const ht=u.get(re),kt=Iu(this.query,Ne)?Ne:null,Ut=!!ht&&this.mutatedKeys.has(ht.key),cn=!!kt&&(kt.hasLocalMutations||this.mutatedKeys.has(kt.key)&&kt.hasCommittedMutations);let Pn=!1;ht&&kt?ht.data.isEqual(kt.data)?Ut!==cn&&(o.track({type:3,doc:kt}),Pn=!0):this.Hu(ht,kt)||(o.track({type:2,doc:kt}),Pn=!0,(V&&this.Gu(kt,V)>0||z&&this.Gu(kt,z)<0)&&(C=!0)):!ht&&kt?(o.track({type:0,doc:kt}),Pn=!0):ht&&!kt&&(o.track({type:1,doc:ht}),Pn=!0,(V||z)&&(C=!0)),Pn&&(kt?(y=y.add(kt),h=cn?h.add(re):h.delete(re)):(y=y.delete(re),h=h.delete(re)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const re="F"===this.query.limitType?y.last():y.first();y=y.delete(re.key),h=h.delete(re.key),o.track({type:1,doc:re})}return{Qu:y,zu:o,$i:C,mutatedKeys:h}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const h=e.zu.Eu();h.sort((z,re)=>function(Ne,ht){const kt=Ut=>{switch(Ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zt()}};return kt(Ne)-kt(ht)}(z.type,re.type)||this.Gu(z.doc,re.doc)),this.Ju(o);const y=t?this.Yu():[],C=0===this.Ku.size&&this.current?1:0,V=C!==this.Uu;return this.Uu=C,0!==h.length||V?{snapshot:new Jl(this.query,e.Qu,u,h,e.mutatedKeys,0===C,V,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:y}:{Xu:y}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Uv,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=vr(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new vc(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new Pm(o))}),t}tc(e){this.qu=e.Hi,this.Ku=vr();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Jl.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class C0{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Hv{constructor(e){this.key=e,this.nc=!1}}class zv{constructor(e,t,o,u,h,y){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=y,this.sc={},this.ic=new Ll(C=>Lc(C),$a),this.rc=new Map,this.oc=new Set,this.uc=new Oi(tn.comparator),this.cc=new Map,this.ac=new Xf,this.hc={},this.lc=new Map,this.fc=xu.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Gv(i,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,ne.Z)(function*(i,e){const t=Lh(i);let o,u;const h=t.ic.get(e);if(h)o=h.targetId,t.sharedClientState.addLocalQueryTarget(o),u=h.view.ec();else{const y=yield cc(t.localStore,os(e));t.isPrimaryClient&&vh(t.remoteStore,y);const C=t.sharedClientState.addLocalQueryTarget(y.targetId);o=y.targetId,u=yield bp(t,e,o,"current"===C,y.resumeToken)}return u}),Dp.apply(this,arguments)}function bp(i,e,t,o,u){return wp.apply(this,arguments)}function wp(){return wp=(0,ne.Z)(function*(i,e,t,o,u){i._c=(Ne,ht,kt)=>{return(Ut=(0,ne.Z)(function*(cn,Pn,Xr,Ii){let kr=Pn.view.Wu(Xr);kr.$i&&(kr=yield hh(cn.localStore,Pn.query,!1).then(({documents:xr})=>Pn.view.Wu(xr,kr)));const Mr=Ii&&Ii.targetChanges.get(Pn.targetId),Er=Pn.view.applyChanges(kr,cn.isPrimaryClient,Mr);return $m(cn,Pn.targetId,Er.Xu),Er.snapshot}),function(cn,Pn,Xr,Ii){return Ut.apply(this,arguments)})(i,Ne,ht,kt);var Ut};const h=yield hh(i.localStore,e,!0),y=new km(e,h.Hi),C=y.Wu(h.documents),V=Hc.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,u),z=y.applyChanges(C,i.isPrimaryClient,V);$m(i,t,z.Xu);const re=new C0(e,t,y);return i.ic.set(e,re),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),z.snapshot}),wp.apply(this,arguments)}function Wv(i,e){return xh.apply(this,arguments)}function xh(){return xh=(0,ne.Z)(function*(i,e){const t=Yt(i),o=t.ic.get(e),u=t.rc.get(o.targetId);if(u.length>1)return t.rc.set(o.targetId,u.filter(h=>!$a(h,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Ou(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),dd(t.remoteStore,o.targetId),_l(t,o.targetId)}).catch(cs))):(_l(t,o.targetId),yield Ou(t.localStore,o.targetId,!0))}),xh.apply(this,arguments)}function Sp(){return Sp=(0,ne.Z)(function*(i,e,t){const o=$h(i);try{const u=yield function(h,y){const C=Yt(h),V=Gr.now(),z=y.reduce((ht,kt)=>ht.add(kt.key),vr());let re,Ne;return C.persistence.runTransaction("Locally write mutations","readwrite",ht=>{let kt=Ps(),Ut=vr();return C.Gi.getEntries(ht,z).next(cn=>{kt=cn,kt.forEach((Pn,Xr)=>{Xr.isValidDocument()||(Ut=Ut.add(Pn))})}).next(()=>C.localDocuments.getOverlayedDocuments(ht,kt)).next(cn=>{re=cn;const Pn=[];for(const Xr of y){const Ii=zd(Xr,re.get(Xr.key).overlayedDocument);null!=Ii&&Pn.push(new Ba(Xr.key,Ii,Ku(Ii.value.mapValue),Ci.exists(!0)))}return C.mutationQueue.addMutationBatch(ht,V,Pn,y)}).next(cn=>{Ne=cn;const Pn=cn.applyToLocalDocumentSet(re,Ut);return C.documentOverlayCache.saveOverlays(ht,cn.batchId,Pn)})}).then(()=>({batchId:Ne.batchId,changes:xf(re)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(h,y,C){let V=h.hc[h.currentUser.toKey()];V||(V=new Oi(jn)),V=V.insert(y,C),h.hc[h.currentUser.toKey()]=V}(o,u.batchId,t),yield El(o,u.changes),yield Fu(o.remoteStore)}catch(u){const h=Ql(u,"Failed to persist write");t.reject(h)}}),Sp.apply(this,arguments)}function Rh(i,e){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,ne.Z)(function*(i,e){const t=Yt(i);try{const o=yield I0(t.localStore,e);e.targetChanges.forEach((u,h)=>{const y=t.cc.get(h);y&&(hn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?y.nc=!0:u.modifiedDocuments.size>0?hn(y.nc):u.removedDocuments.size>0&&(hn(y.nc),y.nc=!1))}),yield El(t,o,e)}catch(o){yield cs(o)}}),Tp.apply(this,arguments)}function Nm(i,e,t){const o=Yt(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.ic.forEach((h,y)=>{const C=y.view.bu(e);C.snapshot&&u.push(C.snapshot)}),function(h,y){const C=Yt(h);C.onlineState=y;let V=!1;C.queries.forEach((z,re)=>{for(const Ne of re.listeners)Ne.bu(y)&&(V=!0)}),V&&yc(C)}(o.eventManager,e),u.length&&o.sc.Wo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function qv(i,e,t){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,ne.Z)(function*(i,e,t){const o=Yt(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.cc.get(e),h=u&&u.key;if(h){let y=new Oi(tn.comparator);y=y.insert(h,Ei.newNoDocument(h,On.min()));const C=vr().add(h),V=new tc(On.min(),new Map,new mi(jn),y,C);yield Rh(o,V),o.uc=o.uc.remove(h),o.cc.delete(e),Rp(o)}else yield Ou(o.localStore,e,!1).then(()=>_l(o,e,t)).catch(cs)}),Ap.apply(this,arguments)}function Yv(i,e){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,ne.Z)(function*(i,e){const t=Yt(i),o=e.batch.batchId;try{const u=yield np(t.localStore,e);Ph(t,o,null),Lm(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield El(t,u)}catch(u){yield cs(u)}}),Mp.apply(this,arguments)}function Kv(i,e,t){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,ne.Z)(function*(i,e,t){const o=Yt(i);try{const u=yield function(h,y){const C=Yt(h);return C.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let z;return C.mutationQueue.lookupMutationBatch(V,y).next(re=>(hn(null!==re),z=re.keys(),C.mutationQueue.removeMutationBatch(V,re))).next(()=>C.mutationQueue.performConsistencyCheck(V)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId(V,z,y)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,z)).next(()=>C.localDocuments.getDocuments(V,z))})}(o.localStore,e);Ph(o,e,t),Lm(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield El(o,u)}catch(u){yield cs(u)}}),Oh.apply(this,arguments)}function xp(){return xp=(0,ne.Z)(function*(i,e){const t=Yt(i);ml(t.remoteStore)||St("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(h){const y=Yt(h);return y.persistence.runTransaction("Get highest unacknowledged batch id","readonly",C=>y.mutationQueue.getHighestUnacknowledgedBatchId(C))}(t.localStore);if(-1===o)return void e.resolve();const u=t.lc.get(o)||[];u.push(e),t.lc.set(o,u)}catch(o){const u=Ql(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),xp.apply(this,arguments)}function Lm(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function Ph(i,e,t){const o=Yt(i);let u=o.hc[o.currentUser.toKey()];if(u){const h=u.get(e);h&&(t?h.reject(t):h.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function _l(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||eu(i,o)})}function eu(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(dd(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),Rp(i))}function $m(i,e,t){for(const o of t)o instanceof Pm?(i.ac.addReference(o.key,e),kh(i,o)):o instanceof vc?(St("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||eu(i,o.key)):Zt()}function kh(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(St("SyncEngine","New document in limbo: "+t),i.oc.add(o),Rp(i))}function Rp(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new tn(yr.fromString(e)),o=i.fc.next();i.cc.set(o,new Hv(t)),i.uc=i.uc.insert(t,o),vh(i.remoteStore,new fl(os(ll(t.path)),o,2,es.at))}}function El(i,e,t){return pd.apply(this,arguments)}function pd(){return pd=(0,ne.Z)(function*(i,e,t){const o=Yt(i),u=[],h=[],y=[];var C;o.ic.isEmpty()||(o.ic.forEach((C,V)=>{y.push(o._c(V,e,t).then(z=>{if((z||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(V.targetId,null!=z&&z.fromCache?"not-current":"current"),z){u.push(z);const re=cm.Ci(V.targetId,z);h.push(re)}}))}),yield Promise.all(y),o.sc.Wo(u),yield(C=(0,ne.Z)(function*(V,z){const re=Yt(V);try{yield re.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ne=>gt.forEach(z,ht=>gt.forEach(ht.Si,kt=>re.persistence.referenceDelegate.addReference(Ne,ht.targetId,kt)).next(()=>gt.forEach(ht.Di,kt=>re.persistence.referenceDelegate.removeReference(Ne,ht.targetId,kt)))))}catch(Ne){if(!br(Ne))throw Ne;St("LocalStore","Failed to update sequence numbers: "+Ne)}for(const Ne of z){const ht=Ne.targetId;if(!Ne.fromCache){const kt=re.qi.get(ht),cn=kt.withLastLimboFreeSnapshotVersion(kt.snapshotVersion);re.qi=re.qi.insert(ht,cn)}}}),function(V,z){return C.apply(this,arguments)})(o.localStore,h))}),pd.apply(this,arguments)}function Zv(i,e){return wa.apply(this,arguments)}function wa(){return wa=(0,ne.Z)(function*(i,e){const t=Yt(i);if(!t.currentUser.isEqual(e)){St("SyncEngine","User change. New user:",e.toKey());const o=yield hm(t.localStore,e);t.currentUser=e,(u=t).lc.forEach(y=>{y.forEach(C=>{C.reject(new Pt(yt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield El(t,o.ji)}var u}),wa.apply(this,arguments)}function gd(i,e){const t=Yt(i),o=t.cc.get(e);if(o&&o.nc)return vr().add(o.key);{let u=vr();const h=t.rc.get(e);if(!h)return u;for(const y of h){const C=t.ic.get(y);u=u.unionWith(C.view.ju)}return u}}function ws(i,e){return Il.apply(this,arguments)}function Il(){return Il=(0,ne.Z)(function*(i,e){const t=Yt(i),o=yield hh(t.localStore,e.query,!0),u=e.view.tc(o);return t.isPrimaryClient&&$m(t,e.targetId,u.Xu),u}),Il.apply(this,arguments)}function Nh(i,e){return qs.apply(this,arguments)}function qs(){return qs=(0,ne.Z)(function*(i,e){const t=Yt(i);return gm(t.localStore,e).then(o=>El(t,o))}),qs.apply(this,arguments)}function Op(i,e,t,o){return tu.apply(this,arguments)}function tu(){return tu=(0,ne.Z)(function*(i,e,t,o){const u=Yt(i),h=yield function(y,C){const V=Yt(y),z=Yt(V.mutationQueue);return V.persistence.runTransaction("Lookup mutation documents","readonly",re=>z.Tn(re,C).next(Ne=>Ne?V.localDocuments.getDocuments(re,Ne):gt.resolve(null)))}(u.localStore,e);var C;null!==h?("pending"===t?yield Fu(u.remoteStore):"acknowledged"===t||"rejected"===t?(Ph(u,e,o||null),Lm(u,e),C=e,Yt(Yt(u.localStore).mutationQueue).An(C)):Zt(),yield El(u,h)):St("SyncEngine","Cannot apply mutation batch with id: "+e)}),tu.apply(this,arguments)}function nu(){return nu=(0,ne.Z)(function*(i,e){const t=Yt(i);if(Lh(t),$h(t),!0===e&&!0!==t.dc){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield $u(t,o.toArray());t.dc=!0,yield Ep(t.remoteStore,!0);for(const h of u)vh(t.remoteStore,h)}else if(!1===e&&!1!==t.dc){const o=[];let u=Promise.resolve();t.rc.forEach((h,y)=>{t.sharedClientState.isLocalQueryTarget(y)?o.push(y):u=u.then(()=>(_l(t,y),Ou(t.localStore,y,!0))),dd(t.remoteStore,y)}),yield u,yield $u(t,o),function(h){const y=Yt(h);y.cc.forEach((C,V)=>{dd(y.remoteStore,V)}),y.ac.fs(),y.cc=new Map,y.uc=new Oi(tn.comparator)}(t),t.dc=!1,yield Ep(t.remoteStore,!1)}}),nu.apply(this,arguments)}function $u(i,e,t){return ru.apply(this,arguments)}function ru(){return ru=(0,ne.Z)(function*(i,e,t){const o=Yt(i),u=[],h=[];for(const y of e){let C;const V=o.rc.get(y);if(V&&0!==V.length){C=yield cc(o.localStore,os(V[0]));for(const z of V){const re=o.ic.get(z),Ne=yield ws(o,re);Ne.snapshot&&h.push(Ne.snapshot)}}else{const z=yield Pu(o.localStore,y);C=yield cc(o.localStore,z),yield bp(o,Bu(z),y,!1,C.resumeToken)}u.push(C)}return o.sc.Wo(h),u}),ru.apply(this,arguments)}function Bu(i){return jd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Ec(i){const e=Yt(i);return Yt(Yt(e.localStore).persistence).vi()}function Ic(i,e,t,o){return iu.apply(this,arguments)}function iu(){return iu=(0,ne.Z)(function*(i,e,t,o){const u=Yt(i);if(u.dc)return void St("SyncEngine","Ignoring unexpected query state notification.");const h=u.rc.get(e);if(h&&h.length>0)switch(t){case"current":case"not-current":{const y=yield gm(u.localStore,$c(h[0])),C=tc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,_i.EMPTY_BYTE_STRING);yield El(u,y,C);break}case"rejected":yield Ou(u.localStore,e,!0),_l(u,e,o);break;default:Zt()}}),iu.apply(this,arguments)}function Bm(i,e,t){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,ne.Z)(function*(i,e,t){const o=Lh(i);if(o.dc){for(const u of e){if(o.rc.has(u)){St("SyncEngine","Adding an already active target "+u);continue}const h=yield Pu(o.localStore,u),y=yield cc(o.localStore,h);yield bp(o,Bu(h),y.targetId,!1,y.resumeToken),vh(o.remoteStore,y)}for(const u of t)o.rc.has(u)&&(yield Ou(o.localStore,u,!1).then(()=>{dd(o.remoteStore,u),_l(o,u)}).catch(cs))}}),Fh.apply(this,arguments)}function Lh(i){const e=Yt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qv.bind(null,e),e.sc.Wo=vl.bind(null,e.eventManager),e.sc.wc=Mh.bind(null,e.eventManager),e}function $h(i){const e=Yt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kv.bind(null,e),e}class Pp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ne.Z)(function*(){t.yt=sd(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Zl(this.persistence,new tp,e.initialUser,this.yt)}yc(e){return new Qf(nd.Bs,this.yt)}gc(e){return new Nv}terminate(){var e=this;return(0,ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class kp extends Pp{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,ne.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield $h(o.Ac.syncEngine),yield Fu(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Zl(this.persistence,new tp,e.initialUser,this.yt)}Tc(e,t){return new Cv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const o=new sl(t,this.persistence);return new ol(e.asyncQueue,o)}yc(e){const t=ep(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?bs.withCacheSize(this.cacheSizeBytes):bs.DEFAULT;return new Jf(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Im(),od(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Nv}}class Um extends kp{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,ne.Z)(function*(){yield t().call(o,e);const u=o.Ac.syncEngine;o.sharedClientState instanceof id&&(o.sharedClientState.syncEngine={Fr:Op.bind(null,u),$r:Ic.bind(null,u),Br:Bm.bind(null,u),vi:Ec.bind(null,u),Mr:Nh.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var h=(0,ne.Z)(function*(y){yield function _c(i,e){return nu.apply(this,arguments)}(o.Ac.syncEngine,y),o.gcScheduler&&(y&&!o.gcScheduler.started?o.gcScheduler.start():y||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(y&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():y||o.indexBackfillerScheduler.stop())});return function(y){return h.apply(this,arguments)}}())})()}gc(e){const t=Im();if(!id.C(t))throw new Pt(yt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=ep(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new id(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Bh{initialize(e,t){var o=this;return(0,ne.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Nm(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Zv.bind(null,o.syncEngine),yield Ep(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new xm}createDatastore(e){const t=sd(e.databaseInfo.databaseId),o=new Em(e.databaseInfo);return new ld(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,h=C=>Nm(this.syncEngine,C,0),y=_m.C()?new _m:new ap,new dp(t,o,u,h,y);var t,o,u,h,y}createSyncEngine(e,t){return function(o,u,h,y,C,V,z){const re=new zv(o,u,h,y,C,V);return z&&(re.dc=!0),re}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ne.Z)(function*(t){const o=Yt(t);St("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield Nu(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Np(i,e,t){if(!t)throw new Pt(yt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function jm(i,e,t,o){if(!0===e&&!0===o)throw new Pt(yt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Fp(i){if(!tn.isDocumentKey(i))throw new Pt(yt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Hm(i){if(tn.isDocumentKey(i))throw new Pt(yt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function md(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Zt()}function Nr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Pt(yt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=md(i);throw new Pt(yt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Vh(i,e){if(e<=0)throw new Pt(yt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}const zm=new Map;class yd{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Pt(yt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pt(yt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,jm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ou{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pt(yt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pt(yt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yd(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Qo;switch(t.type){case"gapi":return new Ra(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Pt(yt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zm.get(e);t&&(St("ComponentProvider","Removing Datastore"),zm.delete(e),t.terminate())}(this),Promise.resolve()}}class Li{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Li(this.firestore,e,this._key)}}class zo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new zo(this.firestore,e,this._query)}}class Ca extends zo{constructor(e,t,o){super(e,t,ll(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Li(this.firestore,null,new tn(e))}withConverter(e){return new Ca(this.firestore,e,this._path)}}function jh(i,e,...t){if(i=(0,De.m9)(i),Np("collection","path",e),i instanceof ou){const o=yr.fromString(e,...t);return Hm(o),new Ca(i,null,o)}{if(!(i instanceof Li||i instanceof Ca))throw new Pt(yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(yr.fromString(e,...t));return Hm(o),new Ca(i.firestore,null,o)}}function Dc(i,e,...t){if(i=(0,De.m9)(i),1===arguments.length&&(e=ms.R()),Np("doc","path",e),i instanceof ou){const o=yr.fromString(e,...t);return Fp(o),new Li(i,null,new tn(o))}{if(!(i instanceof Li||i instanceof Ca))throw new Pt(yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(yr.fromString(e,...t));return Fp(o),new Li(i.firestore,i instanceof Ca?i.converter:null,new tn(o))}}function Lp(i,e){return i=(0,De.m9)(i),e=(0,De.m9)(e),(i instanceof Li||i instanceof Ca)&&(e instanceof Li||e instanceof Ca)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Hh(i,e){return i=(0,De.m9)(i),e=(0,De.m9)(e),i instanceof zo&&e instanceof zo&&i.firestore===e.firestore&&$a(i._query,e._query)&&i.converter===e.converter}function zh(i,e=10240){let t=0;return{read:()=>(0,ne.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,ne.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class vd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Dn("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Xv{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Zr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.ku)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ne.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ne.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ne.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const o=e.vc.decode(t),u=Number(o);isNaN(u)&&e.Dc(`length string (${o}) is not valid number`);const h=yield e.Cc(u);return new jv(JSON.parse(h),t.length+u)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ne.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Cc(e){var t=this;return(0,ne.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const o=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ne.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Ym{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ne.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Pt(yt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,ne.Z)(function*(h,y){const C=Yt(h),V=Gc(C.yt)+"/documents",z={documents:y.map(kt=>nc(C.yt,kt))},re=yield C._o("BatchGetDocuments",V,z,y.length),Ne=new Map;re.forEach(kt=>{const Ut=function Vl(i,e){return"found"in e?function(t,o){hn(!!o.found);const u=Va(t,o.found.name),h=qi(o.found.updateTime),y=o.found.createTime?qi(o.found.createTime):On.min(),C=new xo({mapValue:{fields:o.found.fields}});return Ei.newFoundDocument(u,h,y,C)}(i,e):"missing"in e?function(t,o){hn(!!o.missing),hn(!!o.readTime);const u=Va(t,o.missing),h=qi(o.readTime);return Ei.newNoDocument(u,h)}(i,e):Zt()}(C.yt,kt);Ne.set(Ut.key.toString(),Ut)});const ht=[];return y.forEach(kt=>{const Ut=Ne.get(kt.toString());hn(!!Ut),ht.push(Ut)}),ht}),function(h,y){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ne.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const h=tn.fromPath(u);e.mutations.push(new dl(h,e.precondition(h)))}),yield(o=(0,ne.Z)(function*(u,h){const y=Yt(u),C=Gc(y.yt)+"/documents",V={writes:h.map(z=>qc(y.yt,z))};yield y.ao("Commit",C,V)}),function(u,h){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Zt();t=On.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Pt(yt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(On.min())?Ci.exists(!1):Ci.updateTime(t):Ci.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(On.min()))throw new Pt(yt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ci.updateTime(t)}return Ci.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Jv{constructor(e,t,o,u,h){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=h,this.kc=o.maxAttempts,this.xo=new lp(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ne.Z)(function*(){const t=new Ym(e.datastore),o=e.Mc(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(h=>{e.Fc(h)}))}).catch(u=>{e.Fc(u)})}))}Mc(e){try{const t=this.updateFunction(e);return!vs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Xy(t)}return!1}}class Km{constructor(e,t,o,u){var h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=ct.UNAUTHENTICATED,this.clientId=ms.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var y=(0,ne.Z)(function*(C){St("FirestoreClient","Received user=",C.uid),yield h.authCredentialListener(C),h.user=C});return function(C){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(o,y=>(St("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pt(yt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ne.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=Ql(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function $p(i,e){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,ne.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),St("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,ne.Z)(function*(h){o.isEqual(h)||(yield hm(e.localStore,h),o=h)});return function(h){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Gh.apply(this,arguments)}function Wh(i,e){return qh.apply(this,arguments)}function qh(){return qh=(0,ne.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Yh(i);St("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>Mm(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,h)=>Mm(e.remoteStore,h)),i.onlineComponents=e}),qh.apply(this,arguments)}function Yh(i){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,ne.Z)(function*(i){return i.offlineComponents||(St("FirestoreClient","Using default OfflineComponentProvider"),yield $p(i,new Pp)),i.offlineComponents}),Kh.apply(this,arguments)}function _d(i){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,ne.Z)(function*(i){return i.onlineComponents||(St("FirestoreClient","Using default OnlineComponentProvider"),yield Wh(i,new Bh)),i.onlineComponents}),Zh.apply(this,arguments)}function Bp(i){return Yh(i).then(e=>e.persistence)}function Ed(i){return Yh(i).then(e=>e.localStore)}function Xh(i){return _d(i).then(e=>e.remoteStore)}function bc(i){return _d(i).then(e=>e.syncEngine)}function wc(i){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,ne.Z)(function*(i){const e=yield _d(i),t=e.eventManager;return t.onListen=Gv.bind(null,e.syncEngine),t.onUnlisten=Wv.bind(null,e.syncEngine),t}),Vp.apply(this,arguments)}function Zm(i,e,t={}){const o=new Zr;return i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function(u,h,y,C,V){const z=new vd({next:Ne=>{h.enqueueAndForget(()=>Ah(u,re));const ht=Ne.docs.has(y);!ht&&Ne.fromCache?V.reject(new Pt(yt.UNAVAILABLE,"Failed to get document because the client is offline.")):ht&&Ne.fromCache&&C&&"server"===C.source?V.reject(new Pt(yt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):V.resolve(Ne)},error:Ne=>V.reject(Ne)}),re=new Lu(ll(y.path),z,{includeMetadataChanges:!0,Nu:!0});return Sh(u,re)}(yield wc(i),i.asyncQueue,e,t,o)})),o.promise}function e_(i,e,t={}){const o=new Zr;return i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function(u,h,y,C,V){const z=new vd({next:Ne=>{h.enqueueAndForget(()=>Ah(u,re)),Ne.fromCache&&"server"===C.source?V.reject(new Pt(yt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):V.resolve(Ne)},error:Ne=>V.reject(Ne)}),re=new Lu(y,z,{includeMetadataChanges:!0,Nu:!0});return Sh(u,re)}(yield wc(i),i.asyncQueue,e,t,o)})),o.promise}class Xm{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new lp(this,"async_queue_retry"),this.Wc=()=>{const t=od();t&&St("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=od();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=od();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Zr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ne.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!br(t))throw t;St("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,Dn("INTERNAL UNHANDLED ERROR: ",function(h){let y=h.message||"";return h.stack&&(y=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),y}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const u=mc.createAndSchedule(this,e,t,o,h=>this.Yc(h));return this.Uc.push(u),u}zc(){this.Kc&&Zt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ne.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function zp(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Go{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class $i extends ou{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new Xm,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gp(this),this._firestoreClient.terminate()}}function yo(i){return i._firestoreClient||Gp(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Gp(i){var e;const t=i._freezeSettings(),o=(h=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Fa(i._databaseId,h,i._persistenceKey,(C=t).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var h,C;i._firestoreClient=new Km(i._authCredentials,i._appCheckCredentials,i._queue,o)}function ey(i,e,t){const o=new Zr;return i.asyncQueue.enqueue((0,ne.Z)(function*(){try{yield $p(i,t),yield Wh(i,e),o.resolve()}catch(u){const h=u;if(!("FirebaseError"===(y=h).name?y.code===yt.FAILED_PRECONDITION||y.code===yt.UNIMPLEMENTED:!(typeof DOMException<"u"&&y instanceof DOMException)||22===y.code||20===y.code||11===y.code))throw h;zr("Error enabling offline persistence. Falling back to persistence disabled: "+h),o.reject(h)}var y})).then(()=>o.promise)}function Ua(i){if(i._initialized||i._terminated)throw new Pt(yt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Za{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Za(_i.fromBase64String(e))}catch(t){throw new Pt(yt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Za(_i.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Pt(yt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fs{constructor(e){this._methodName=e}}class Ys{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pt(yt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pt(yt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jn(this._lat,e._lat)||jn(this._long,e._long)}}const iy=/^__.*__$/;class oy{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new wu(e,this.data,t,this.fieldTransforms)}}class sy{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ay(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zt()}}class Qh{constructor(e,t,o,u,h,y){this.settings=e,this.databaseId=t,this.yt=o,this.ignoreUndefinedProperties=u,void 0===h&&this.na(),this.fieldTransforms=h||[],this.fieldMask=y||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Qh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return wd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(ay(this.sa)&&iy.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class s_{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=o||sd(e)}da(e,t,o,u=!1){return new Qh({sa:e,methodName:t,fa:o,path:Pr.emptyPath(),oa:!1,la:u},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Cl(i){const e=i._freezeSettings(),t=sd(i._databaseId);return new s_(i._databaseId,!!e.ignoreUndefinedProperties,t)}function su(i,e,t,o,u,h={}){const y=i.da(h.merge||h.mergeFields?2:0,e,t,u);tf("Data must be an object, but it was:",y,o);const C=Dd(o,y);let V,z;if(h.merge)V=new Is(y.fieldMask),z=y.fieldTransforms;else if(h.mergeFields){const re=[];for(const Ne of h.mergeFields){const ht=nf(e,Ne,t);if(!y.contains(ht))throw new Pt(yt.INVALID_ARGUMENT,`Field '${ht}' is specified in your field mask but missing from your input data.`);Qp(re,ht)||re.push(ht)}V=new Is(re),z=y.fieldTransforms.filter(Ne=>V.covers(Ne.field))}else V=null,z=y.fieldTransforms;return new oy(new xo(C),V,z)}class Id extends fs{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Id}}function qp(i,e,t){return new Qh({sa:3,fa:e.settings.fa,methodName:i._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class Yp extends fs{_toFieldTransform(e){return new ul(e.path,new Mn)}isEqual(e){return e instanceof Yp}}class ly extends fs{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=qp(this,e,!0),o=this._a.map(h=>Sl(h,t)),u=new sr(o);return new ul(e.path,u)}isEqual(e){return this===e}}class uy extends fs{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=qp(this,e,!0),o=this._a.map(h=>Sl(h,t)),u=new Ro(o);return new ul(e.path,u)}isEqual(e){return this===e}}class Jh extends fs{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Ia(e.yt,q(e.yt,this.wa));return new ul(e.path,t)}isEqual(e){return this===e}}function Kp(i,e,t,o){const u=i.da(1,e,t);tf("Data must be an object, but it was:",u,o);const h=[],y=xo.empty();ti(o,(V,z)=>{const re=bd(e,V,t);z=(0,De.m9)(z);const Ne=u.ca(re);if(z instanceof Id)h.push(re);else{const ht=Sl(z,Ne);null!=ht&&(h.push(re),y.set(re,ht))}});const C=new Is(h);return new sy(y,C,u.fieldTransforms)}function ef(i,e,t,o,u,h){const y=i.da(1,e,t),C=[nf(e,o,t)],V=[u];if(h.length%2!=0)throw new Pt(yt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ht=0;ht<h.length;ht+=2)C.push(nf(e,h[ht])),V.push(h[ht+1]);const z=[],re=xo.empty();for(let ht=C.length-1;ht>=0;--ht)if(!Qp(z,C[ht])){const kt=C[ht];let Ut=V[ht];Ut=(0,De.m9)(Ut);const cn=y.ca(kt);if(Ut instanceof Id)z.push(kt);else{const Pn=Sl(Ut,cn);null!=Pn&&(z.push(kt),re.set(kt,Pn))}}const Ne=new Is(z);return new sy(re,Ne,y.fieldTransforms)}function Zp(i,e,t,o=!1){return Sl(t,i.da(o?4:3,e))}function Sl(i,e){if(Xp(i=(0,De.m9)(i)))return tf("Unsupported field value:",e,i),Dd(i,e);if(i instanceof fs)return function(t,o){if(!ay(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const u=[];let h=0;for(const y of t){let C=Sl(y,o.aa(h));null==C&&(C={nullValue:"NULL_VALUE"}),u.push(C),h++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,De.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return q(o.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Gr.fromDate(t);return{timestampValue:Bl(o.yt,u)}}if(t instanceof Gr){const u=new Gr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Bl(o.yt,u)}}if(t instanceof Ys)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Za)return{bytesValue:Rg(o.yt,t._byteString)};if(t instanceof Li){const u=o.databaseId,h=t.firestore._databaseId;if(!h.isEqual(u))throw o.ha(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zc(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${md(t)}`)}(i,e)}function Dd(i,e){const t={};return ya(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ti(i,(o,u)=>{const h=Sl(u,e.ra(o));null!=h&&(t[o]=h)}),{mapValue:{fields:t}}}function Xp(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Gr||i instanceof Ys||i instanceof Za||i instanceof Li||i instanceof fs)}function tf(i,e,t){if(!Xp(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=md(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function nf(i,e,t){if((e=(0,De.m9)(e))instanceof bl)return e._internalPath;if("string"==typeof e)return bd(i,e);throw wd("Field path arguments must be of type string or ",i,!1,void 0,t)}const cy=new RegExp("[~\\*/\\[\\]]");function bd(i,e,t){if(e.search(cy)>=0)throw wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new bl(...e.split("."))._internalPath}catch(o){throw wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function wd(i,e,t,o,u){const h=o&&!o.isEmpty(),y=void 0!==u;let C=`Function ${e}() called with invalid data`;t&&(C+=" (via `toFirestore()`)"),C+=". ";let V="";return(h||y)&&(V+=" (found",h&&(V+=` in field ${o}`),y&&(V+=` in document ${u}`),V+=")"),new Pt(yt.INVALID_ARGUMENT,C+i+V)}function Qp(i,e){return i.some(t=>t.isEqual(e))}class Sc{constructor(e,t,o,u,h){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Li(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new a_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class a_ extends Sc{data(){return super.data()}}function rf(i,e){return"string"==typeof e?bd(i,e):e instanceof bl?e._internalPath:e._delegate._internalPath}function dy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Pt(yt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jp{}class Cd extends Jp{}function au(i,e,...t){let o=[];e instanceof Jp&&o.push(e),o=o.concat(t),function(u){const h=u.filter(C=>C instanceof Tc).length,y=u.filter(C=>C instanceof Sd).length;if(h>1||h>0&&y>0)throw new Pt(yt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Sd extends Cd{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Sd(e,t,o)}_apply(e){const t=this._parse(e);return ig(e._query,t),new zo(e.firestore,e.converter,_u(e._query,t))}_parse(e){const t=Cl(e.firestore);return function(u,h,y,C,V,z,re){let Ne;if(V.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new Pt(yt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){rg(re,z);const ht=[];for(const kt of re)ht.push(ng(C,u,kt));Ne={arrayValue:{values:ht}}}else Ne=ng(C,u,re)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||rg(re,z),Ne=Zp(y,"where",re,"in"===z||"not-in"===z);return yn.create(V,z,Ne)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Tc extends Jp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tc(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:vn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,u){let h=o;const y=u.getFlattenedFilters();for(const C of y)ig(h,C),h=_u(h,C)}(e._query,t),new zo(e.firestore,e.converter,_u(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class eg extends Cd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new eg(e,t)}_apply(e){const t=function(o,u,h){if(null!==o.startAt)throw new Pt(yt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Pt(yt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const y=new pu(u,h);return function(C,V){if(null===vu(C)){const z=Ju(C);null!==z&&og(0,z,V.field)}}(o,y),y}(e._query,this._field,this._direction);return new zo(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new ia(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class sf extends Cd{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new sf(e,t,o)}_apply(e){return new zo(e.firestore,e.converter,go(e._query,this._limit,this._limitType))}}class af extends Cd{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new af(e,t,o)}_apply(e){const t=tg(e,this.type,this._docOrFields,this._inclusive);return new zo(e.firestore,e.converter,(u=t,new ia((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class Td extends Cd{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Td(e,t,o)}_apply(e){const t=tg(e,this.type,this._docOrFields,this._inclusive);return new zo(e.firestore,e.converter,(u=t,new ia((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function tg(i,e,t,o){if(t[0]=(0,De.m9)(t[0]),t[0]instanceof Sc)return function(u,h,y,C,V){if(!C)throw new Pt(yt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${y}().`);const z=[];for(const re of Ea(u))if(re.field.isKeyField())z.push(mn(h,C.key));else{const Ne=C.data.field(re.field);if(Ol(Ne))throw new Pt(yt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ne){const ht=re.field.canonicalString();throw new Pt(yt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ht}' (used as the orderBy) does not exist.`)}z.push(Ne)}return new $t(z,V)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=Cl(i.firestore);return function(h,y,C,V,z,re){const Ne=h.explicitOrderBy;if(z.length>Ne.length)throw new Pt(yt.INVALID_ARGUMENT,`Too many arguments provided to ${V}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ht=[];for(let kt=0;kt<z.length;kt++){const Ut=z[kt];if(Ne[kt].field.isKeyField()){if("string"!=typeof Ut)throw new Pt(yt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${V}(), but got a ${typeof Ut}`);if(!jo(h)&&-1!==Ut.indexOf("/"))throw new Pt(yt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${V}() must be a plain document ID, but '${Ut}' contains a slash.`);const cn=h.path.child(yr.fromString(Ut));if(!tn.isDocumentKey(cn))throw new Pt(yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${V}() must result in a valid document path, but '${cn}' is not because it contains an odd number of segments.`);const Pn=new tn(cn);ht.push(mn(y,Pn))}else{const cn=Zp(C,V,Ut);ht.push(cn)}}return new $t(ht,re)}(i._query,i.firestore._databaseId,u,e,t,o)}}function ng(i,e,t){if("string"==typeof(t=(0,De.m9)(t))){if(""===t)throw new Pt(yt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jo(e)&&-1!==t.indexOf("/"))throw new Pt(yt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(yr.fromString(t));if(!tn.isDocumentKey(o))throw new Pt(yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return mn(i,new tn(o))}if(t instanceof Li)return mn(i,t._key);throw new Pt(yt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${md(t)}.`)}function rg(i,e){if(!Array.isArray(i)||0===i.length)throw new Pt(yt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Pt(yt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ig(i,e){if(e.isInequality()){const o=Ju(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new Pt(yt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const h=vu(i);null!==h&&og(0,u,h)}const t=function(o,u){for(const h of o)for(const y of h.getFlattenedFilters())if(u.indexOf(y.op)>=0)return y.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Pt(yt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function og(i,e,t){if(!t.isEqual(e))throw new Pt(yt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class lf{convertValue(e,t="none"){switch(w(e)){case 0:return null;case 1:return e.booleanValue;case 2:return li(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zt()}}convertObject(e,t){const o={};return ti(e.fields,(u,h)=>{o[u]=this.convertValue(h,t)}),o}convertGeoPoint(e){return new Ys(li(e.latitude),li(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=fu(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(I(e));default:return null}}convertTimestamp(e){const t=oo(e);return new Gr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=yr.fromString(e);hn(Ff(o));const u=new ma(o.get(1),o.get(3)),h=new tn(o.popFirst(5));return u.isEqual(t)||Dn(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}function Xa(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class f_ extends lf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Za(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Li(this.firestore,null,t)}}class Uu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ks extends Sc{constructor(e,t,o,u,h,y){super(e,t,o,u,y),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(rf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class uf extends Ks{data(e={}){return super.data(e)}}class Qa{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new Uu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new uf(this._firestore,this._userDataWriter,o.key,o,new Uu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pt(yt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(y=>({type:"added",doc:new uf(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Uu(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(y=>u||3!==y.type).map(y=>{const C=new uf(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Uu(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let V=-1,z=-1;return 0!==y.type&&(V=h.indexOf(y.doc.key),h=h.delete(y.doc.key)),1!==y.type&&(h=h.add(y.doc),z=h.indexOf(y.doc.key)),{type:x0(y.type),doc:C,oldIndex:V,newIndex:z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function x0(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zt()}}function ag(i,e){return i instanceof Ks&&e instanceof Ks?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Qa&&e instanceof Qa&&i._firestore===e._firestore&&Hh(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class ju extends lf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Za(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Li(this.firestore,null,t)}}function my(i,e,t){i=Nr(i,Li);const o=Nr(i.firestore,$i),u=Xa(i.converter,e,t);return Hu(o,[su(Cl(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,Ci.none())])}function Ad(i,e,t,...o){i=Nr(i,Li);const u=Nr(i.firestore,$i),h=Cl(u);let y;return y="string"==typeof(e=(0,De.m9)(e))||e instanceof bl?ef(h,"updateDoc",i._key,e,t,o):Kp(h,"updateDoc",i._key,e),Hu(u,[y.toMutation(i._key,Ci.exists(!0))])}function y_(i,...e){var t,o,u;i=(0,De.m9)(i);let h={includeMetadataChanges:!1},y=0;"object"!=typeof e[y]||zp(e[y])||(h=e[y],y++);const C={includeMetadataChanges:h.includeMetadataChanges};if(zp(e[y])){const Ne=e[y];e[y]=null===(t=Ne.next)||void 0===t?void 0:t.bind(Ne),e[y+1]=null===(o=Ne.error)||void 0===o?void 0:o.bind(Ne),e[y+2]=null===(u=Ne.complete)||void 0===u?void 0:u.bind(Ne)}let V,z,re;if(i instanceof Li)z=Nr(i.firestore,$i),re=ll(i._key.path),V={next:Ne=>{e[y]&&e[y](lg(z,i,Ne))},error:e[y+1],complete:e[y+2]};else{const Ne=Nr(i,zo);z=Nr(Ne.firestore,$i),re=Ne._query;const ht=new ju(z);V={next:kt=>{e[y]&&e[y](new Qa(z,ht,Ne,kt))},error:e[y+1],complete:e[y+2]},dy(i._query)}return function(Ne,ht,kt,Ut){const cn=new vd(Ut),Pn=new Lu(ht,cn,kt);return Ne.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return Sh(yield wc(Ne),Pn)})),()=>{cn.bc(),Ne.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return Ah(yield wc(Ne),Pn)}))}}(yo(z),re,C,V)}function Hu(i,e){return function(t,o){const u=new Zr;return t.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function Cp(i,e,t){return Sp.apply(this,arguments)}(yield bc(t),o,u)})),u.promise}(yo(i),e)}function lg(i,e,t){const o=t.docs.get(e._key),u=new ju(i);return new Ks(i,u,e._key,o,new Uu(t.hasPendingWrites,t.fromCache),e.converter)}const vy={maxAttempts:5};class ug{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Cl(e)}set(e,t,o){this._verifyNotCommitted();const u=lu(e,this._firestore),h=Xa(u.converter,t,o),y=su(this._dataReader,"WriteBatch.set",u._key,h,null!==u.converter,o);return this._mutations.push(y.toMutation(u._key,Ci.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const h=lu(e,this._firestore);let y;return y="string"==typeof(t=(0,De.m9)(t))||t instanceof bl?ef(this._dataReader,"WriteBatch.update",h._key,t,o,u):Kp(this._dataReader,"WriteBatch.update",h._key,t),this._mutations.push(y.toMutation(h._key,Ci.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=lu(e,this._firestore);return this._mutations=this._mutations.concat(new Cu(t._key,Ci.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pt(yt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lu(i,e){if((i=(0,De.m9)(i)).firestore!==e)throw new Pt(yt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class E_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Cl(e)}get(e){const t=lu(e,this._firestore),o=new f_(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return Zt();const h=u[0];if(h.isFoundDocument())return new Sc(this._firestore,o,h.key,h,t.converter);if(h.isNoDocument())return new Sc(this._firestore,o,t._key,null,t.converter);throw Zt()})}set(e,t,o){const u=lu(e,this._firestore),h=Xa(u.converter,t,o),y=su(this._dataReader,"Transaction.set",u._key,h,null!==u.converter,o);return this._transaction.set(u._key,y),this}update(e,t,o,...u){const h=lu(e,this._firestore);let y;return y="string"==typeof(t=(0,De.m9)(t))||t instanceof bl?ef(this._dataReader,"Transaction.update",h._key,t,o,u):Kp(this._dataReader,"Transaction.update",h._key,t),this._transaction.update(h._key,y),this}delete(e){const t=lu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=lu(e,this._firestore),o=new ju(this._firestore);return super.get(e).then(u=>new Ks(this._firestore,o,t._key,u._document,new Uu(!1,!1),t.converter))}}function zu(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function _y(){if(typeof Uint8Array>"u")throw new Pt("unimplemented","Uint8Arrays are not available in this environment.")}function Ey(){if(!function _s(){return typeof atob<"u"}())throw new Pt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Ct=Ye.SDK_VERSION,(0,Ye._registerComponent)(new We.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const h=t.getProvider("app").getImmediate(),y=new $i(new js(t.getProvider("auth-internal")),new nl(t.getProvider("app-check-internal")),function(C,V){if(!Object.prototype.hasOwnProperty.apply(C.options,["projectId"]))throw new Pt(yt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ma(C.options.projectId,V)}(h,o),h);return u=Object.assign({useFetchStreams:e},u),y._setSettings(u),y},"PUBLIC").setMultipleInstances(!0)),(0,Ye.registerVersion)(Ee,"3.8.3",i),(0,Ye.registerVersion)(Ee,"3.8.3","esm2017")}();class Rd{constructor(e){this._delegate=e}static fromBase64String(e){return Ey(),new Rd(Za.fromBase64String(e))}static fromUint8Array(e){return _y(),new Rd(Za.fromUint8Array(e))}toBase64(){return Ey(),this._delegate.toBase64()}toUint8Array(){return _y(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hf(i){return function Iy(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class Dy{enableIndexedDbPersistence(e,t){return function Jm(i,e){Ua(i=Nr(i,$i));const t=yo(i),o=i._freezeSettings(),u=new Bh;return ey(t,u,new kp(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Cc(i){Ua(i=Nr(i,$i));const e=yo(i),t=i._freezeSettings(),o=new Bh;return ey(e,o,new Um(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function i_(i){if(i._initialized&&!i._terminated)throw new Pt(yt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Zr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ne.Z)(function*(){try{yield(t=(0,ne.Z)(function*(o){if(!po.C())return Promise.resolve();const u=o+"main";yield po.delete(u)}),function(o){return t.apply(this,arguments)})(ep(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class by{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof ma||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&zr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Uh(i,e,t,o={}){var u;const h=(i=Nr(i,ou))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==e&&zr("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let y,C;if("string"==typeof o.mockUserToken)y=o.mockUserToken,C=ct.MOCK_USER;else{y=(0,De.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const V=o.mockUserToken.sub||o.mockUserToken.user_id;if(!V)throw new Pt(yt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new ct(V)}i._authCredentials=new Us(new Vs(y,C))}}(this._delegate,e,t,o)}enableNetwork(){return function o_(i){return function Up(i){return i.asyncQueue.enqueue((0,ne.Z)(function*(){const e=yield Bp(i),t=yield Xh(i);return e.setNetworkEnabled(!0),function(o){const u=Yt(o);return u._u.delete(0),ku(u)}(t)}))}(yo(i=Nr(i,$i)))}(this._delegate)}disableNetwork(){return function ny(i){return function Vu(i){return i.asyncQueue.enqueue((0,ne.Z)(function*(){const e=yield Bp(i),t=yield Xh(i);return e.setNetworkEnabled(!1),(o=(0,ne.Z)(function*(u){const h=Yt(u);h._u.add(0),yield Nu(h),h.gu.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(yo(i=Nr(i,$i)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,jm("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ty(i){return function(e){const t=new Zr;return e.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function Fm(i,e){return xp.apply(this,arguments)}(yield bc(e),t)})),t.promise}(yo(i=Nr(i,$i)))}(this._delegate)}onSnapshotsInSync(e){return function yy(i,e){return function S0(i,e){const t=new vd(e);return i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return o=yield wc(i),u=t,Yt(o).Ru.add(u),void u.next();var o,u})),()=>{t.bc(),i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return o=yield wc(i),u=t,void Yt(o).Ru.delete(u);var o,u}))}}(yo(i=Nr(i,$i)),zp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Pt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new xc(this,jh(this._delegate,e))}catch(t){throw Zs(t,"collection()","Firestore.collection()")}}doc(e){try{return new ja(this,Dc(this._delegate,e))}catch(t){throw Zs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Cs(this,function Gm(i,e){if(i=Nr(i,ou),Np("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pt(yt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zo(i,null,(t=e,new ia(yr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Zs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function I_(i,e,t){i=Nr(i,$i);const o=Object.assign(Object.assign({},vy),t);return function(u){if(u.maxAttempts<1)throw new Pt(yt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(u,h,y){const C=new Zr;return u.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){const V=yield function Dl(i){return _d(i).then(e=>e.datastore)}(u);new Jv(u.asyncQueue,V,y,h,C).run()})),C.promise}(yo(i),u=>e(new E_(i,u)),o)}(this._delegate,t=>e(new wy(this,t)))}batch(){return yo(this._delegate),new M_(new ug(this._delegate,e=>Hu(this._delegate,e)))}loadBundle(e){return function ry(i,e){const t=yo(i=Nr(i,$i)),o=new Go;return function t_(i,e,t,o){const u=function(h,y){let C;return C="string"==typeof h?(new TextEncoder).encode(h):h,V=function(V,z){if(V instanceof Uint8Array)return zh(V,z);if(V instanceof ArrayBuffer)return zh(new Uint8Array(V),z);if(V instanceof ReadableStream)return V.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(C),new Xv(V,y);var V}(t,sd(e));i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){!function Vm(i,e,t){const o=Yt(i);var u;(u=(0,ne.Z)(function*(h,y,C){try{const V=yield y.getMetadata();if(yield function(ht,kt){const Ut=Yt(ht),cn=qi(kt.createTime);return Ut.persistence.runTransaction("hasNewerBundle","readonly",Pn=>Ut.Ns.getBundleMetadata(Pn,kt.id)).then(Pn=>!!Pn&&Pn.createTime.compareTo(cn)>=0)}(h.localStore,V))return yield y.close(),C._completeWith({taskState:"Success",documentsLoaded:(ht=V).totalDocuments,bytesLoaded:ht.totalBytes,totalDocuments:ht.totalDocuments,totalBytes:ht.totalBytes}),Promise.resolve(new Set);C._updateProgress(Om(V));const z=new Rm(V,h.localStore,y.yt);let re=yield y.mc();for(;re;){const ht=yield z.Fu(re);ht&&C._updateProgress(ht),re=yield y.mc()}const Ne=yield z.complete();return yield El(h,Ne.Lu,void 0),yield function(ht,kt){const Ut=Yt(ht);return Ut.persistence.runTransaction("Save bundle","readwrite",cn=>Ut.Ns.saveBundleMetadata(cn,kt))}(h.localStore,V),C._completeWith(Ne.progress),Promise.resolve(Ne.Bu)}catch(V){return zr("SyncEngine",`Loading bundle failed with ${V}`),C._failWith(V),Promise.resolve(new Set)}var ht}),function(h,y,C){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield bc(i),u,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Wp(i,e){return function n_(i,e){return i.asyncQueue.enqueue((0,ne.Z)(function*(){return function(t,o){const u=Yt(t);return u.persistence.runTransaction("Get named query","readonly",h=>u.Ns.getNamedQuery(h,o))}(yield Ed(i),e)}))}(yo(i=Nr(i,$i)),e).then(t=>t?new zo(i,null,t.query):null)}(this._delegate,e).then(t=>t?new Cs(this,t):null)}}class Od extends lf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rd(new Za(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ja.forKey(t,this.firestore,null)}}class wy{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Od(e)}get(e){const t=Gu(e);return this._delegate.get(t).then(o=>new kd(this._firestore,new Ks(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const u=Gu(e);return o?(zu("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const h=Gu(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,o,...u),this}delete(e){const t=Gu(e);return this._delegate.delete(t),this}}class M_{constructor(e){this._delegate=e}set(e,t,o){const u=Gu(e);return o?(zu("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const h=Gu(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,o,...u),this}delete(e){const t=Gu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Mc{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new uf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Nd(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Mc.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let h=u.get(t);return h||(h=new Mc(e,new Od(e),t),u.set(t,h)),h}}Mc.INSTANCES=new WeakMap;class ja{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Od(e)}static forPath(e,t,o){if(e.length%2!=0)throw new Pt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ja(t,new Li(t._delegate,o,new tn(e)))}static forKey(e,t,o){return new ja(t,new Li(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new xc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new xc(this.firestore,jh(this._delegate,e))}catch(t){throw Zs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,De.m9)(e))instanceof Li&&Lp(this._delegate,e)}set(e,t){t=zu("DocumentReference.set",t);try{return t?my(this._delegate,e,t):my(this._delegate,e)}catch(o){throw Zs(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Ad(this._delegate,e):Ad(this._delegate,e,t,...o)}catch(u){throw Zs(u,"updateDoc()","DocumentReference.update()")}}delete(){return function cf(i){return Hu(Nr(i.firestore,$i),[new Cu(i._key,Ci.none())])}(this._delegate)}onSnapshot(...e){const t=dg(e),o=Pd(e,u=>new kd(this.firestore,new Ks(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return y_(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Yn(i){i=Nr(i,Li);const e=Nr(i.firestore,$i),t=yo(e),o=new ju(e);return function jp(i,e){const t=new Zr;return i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return(o=(0,ne.Z)(function*(u,h,y){try{const C=yield function(V,z){const re=Yt(V);return re.persistence.runTransaction("read document","readonly",Ne=>re.localDocuments.getDocument(Ne,z))}(u,h);C.isFoundDocument()?y.resolve(C):C.isNoDocument()?y.resolve(null):y.reject(new Pt(yt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(C){const V=Ql(C,`Failed to get document '${h} from cache`);y.reject(V)}}),function(u,h,y){return o.apply(this,arguments)})(yield Ed(i),e,t);var o})),t.promise}(t,i._key).then(u=>new Ks(e,o,i._key,u,new Uu(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function p_(i){i=Nr(i,Li);const e=Nr(i.firestore,$i);return Zm(yo(e),i._key,{source:"server"}).then(t=>lg(e,i,t))}(this._delegate):function gy(i){i=Nr(i,Li);const e=Nr(i.firestore,$i);return Zm(yo(e),i._key).then(t=>lg(e,i,t))}(this._delegate),t.then(o=>new kd(this.firestore,new Ks(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new ja(this.firestore,this._delegate.withConverter(e?Mc.getInstance(this.firestore,e):null))}}function Zs(i,e,t){return i.message=i.message.replace(e,t),i}function dg(i){for(const e of i)if("object"==typeof e&&!hf(e))return e;return{}}function Pd(i,e){var t,o;let u;return u=hf(i[0])?i[0]:hf(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:h=>{u.next&&u.next(e(h))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class kd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ja(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ag(this._delegate,e._delegate)}}class Nd extends kd{data(e){const t=this._delegate.data(e);return function To(i,e){i||Zt()}(void 0!==t),t}}class Cs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Od(e)}where(e,t,o){try{return new Cs(this.firestore,au(this._delegate,function l_(i,e,t){const o=e,u=rf("where",i);return Sd._create(u,o,t)}(e,t,o)))}catch(u){throw Zs(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Cs(this.firestore,au(this._delegate,function u_(i,e="asc"){const t=e,o=rf("orderBy",i);return eg._create(o,t)}(e,t)))}catch(o){throw Zs(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Cs(this.firestore,au(this._delegate,function c_(i){return Vh("limit",i),sf._create("limit",i,"F")}(e)))}catch(t){throw Zs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Cs(this.firestore,au(this._delegate,function d_(i){return Vh("limitToLast",i),sf._create("limitToLast",i,"L")}(e)))}catch(t){throw Zs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Cs(this.firestore,au(this._delegate,function h_(...i){return af._create("startAt",i,!0)}(...e)))}catch(t){throw Zs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Cs(this.firestore,au(this._delegate,function hy(...i){return af._create("startAfter",i,!1)}(...e)))}catch(t){throw Zs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Cs(this.firestore,au(this._delegate,function fy(...i){return Td._create("endBefore",i,!1)}(...e)))}catch(t){throw Zs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Cs(this.firestore,au(this._delegate,function py(...i){return Td._create("endAt",i,!0)}(...e)))}catch(t){throw Zs(t,"endAt()","Query.endAt()")}}isEqual(e){return Hh(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function m_(i){i=Nr(i,zo);const e=Nr(i.firestore,$i),t=yo(e),o=new ju(e);return function Hp(i,e){const t=new Zr;return i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return(o=(0,ne.Z)(function*(u,h,y){try{const C=yield hh(u,h,!0),V=new km(h,C.Hi),z=V.Wu(C.documents),re=V.applyChanges(z,!1);y.resolve(re.snapshot)}catch(C){const V=Ql(C,`Failed to execute query '${h} against cache`);y.reject(V)}}),function(u,h,y){return o.apply(this,arguments)})(yield Ed(i),e,t);var o})),t.promise}(t,i._query).then(u=>new Qa(e,o,i,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function Ac(i){i=Nr(i,zo);const e=Nr(i.firestore,$i),t=yo(e),o=new ju(e);return e_(t,i._query,{source:"server"}).then(u=>new Qa(e,o,i,u))}(this._delegate):function g_(i){i=Nr(i,zo);const e=Nr(i.firestore,$i),t=yo(e),o=new ju(e);return dy(i._query),e_(t,i._query).then(u=>new Qa(e,o,i,u))}(this._delegate),t.then(o=>new hg(this.firestore,new Qa(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=dg(e),o=Pd(e,u=>new hg(this.firestore,new Qa(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return y_(this._delegate,t,o)}withConverter(e){return new Cs(this.firestore,this._delegate.withConverter(e?Mc.getInstance(this.firestore,e):null))}}class Fd{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Nd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Cs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Nd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Fd(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Nd(this._firestore,o))})}isEqual(e){return ag(this._delegate,e._delegate)}}class xc extends Cs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ja(this.firestore,e):null}doc(e){try{return new ja(this.firestore,void 0===e?Dc(this._delegate):Dc(this._delegate,e))}catch(t){throw Zs(t,"doc()","CollectionReference.doc()")}}add(e){return function so(i,e){const t=Nr(i.firestore,$i),o=Dc(i),u=Xa(i.converter,e);return Hu(t,[su(Cl(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Ci.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new ja(this.firestore,t))}isEqual(e){return Lp(this._delegate,e._delegate)}withConverter(e){return new xc(this.firestore,this._delegate.withConverter(e?Mc.getInstance(this.firestore,e):null))}}function Gu(i){return Nr(i,Li)}class fg{constructor(...e){this._delegate=new bl(...e)}static documentId(){return new fg(Pr.keyField().canonicalString())}isEqual(e){return(e=(0,De.m9)(e))instanceof bl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Rc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function D_(){return new Yp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Rc(e)}static delete(){const e=function Md(){return new Id("deleteField")}();return e._methodName="FieldValue.delete",new Rc(e)}static arrayUnion(...e){const t=function b_(...i){return new ly("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Rc(t)}static arrayRemove(...e){const t=function w_(...i){return new uy("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Rc(t)}static increment(e){const t=function df(i){return new Jh("increment",i)}(e);return t._methodName="FieldValue.increment",new Rc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const x_={Firestore:by,GeoPoint:Ys,Timestamp:Gr,Blob:Rd,Transaction:wy,WriteBatch:M_,DocumentReference:ja,DocumentSnapshot:kd,Query:Cs,QueryDocumentSnapshot:Nd,QuerySnapshot:hg,CollectionReference:xc,FieldPath:fg,FieldValue:Rc,setLogLevel:function A_(i){!function Sr(i){fn.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function R_(i){(function Cy(i,e){i.INTERNAL.registerComponent(new We.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},x_)))})(i,(e,t)=>new by(e,t,new Dy)),i.registerVersion("@firebase/firestore-compat","0.3.3")}(de.Z);var Sy=k(7579),Ld=k(6451),ff=k(5363),Tl=k(3900),O_=k(6063);class Ty extends Sy.x{constructor(e=1/0,t=1/0,o=O_.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:o,_infiniteTimeWindow:u,_timestampProvider:h,_windowTime:y}=this;t||(o.push(e),!u&&o.push(h.now()+y)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:o,_buffer:u}=this,h=u.slice();for(let y=0;y<h.length&&!e.closed;y+=o?1:2)e.next(h[y]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:o,_infiniteTimeWindow:u}=this,h=(u?1:2)*e;if(e<1/0&&h<o.length&&o.splice(0,o.length-h),!u){const y=t.now();let C=0;for(let V=1;V<o.length&&o[V]<=y;V+=2)C=V;C&&o.splice(0,C+1)}}}var P_=k(3099);function pg(i,e,t){let o,u=!1;return i&&"object"==typeof i?({bufferSize:o=1/0,windowTime:e=1/0,refCount:u=!1,scheduler:t}=i):o=null!=i?i:1/0,(0,P_.B)({connector:()=>new Ty(o,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}var k_=k(590),gg=k(576);function Ay(i,e){return(0,gg.m)(e)?(0,Tl.w)(()=>i,e):(0,Tl.w)(()=>i)}var pf=k(9468),mg=k(2313),N_=k(9260);const My=new a.OlP("angularfire2.auth.use-emulator"),gf=new a.OlP("angularfire2.auth.settings"),xy=new a.OlP("angularfire2.auth.tenant-id"),yg=new a.OlP("angularfire2.auth.langugage-code"),Ry=new a.OlP("angularfire2.auth.use-device-language"),Oy=new a.OlP("angularfire.auth.persistence"),Py=(i,e,t,o,u,h,y,C)=>(0,qe.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const V=e.runOutsideAngular(()=>i.auth());if(t&&V.useEmulator(...t),o&&(V.tenantId=o),V.languageCode=u,h&&V.useDeviceLanguage(),y)for(const[z,re]of Object.entries(y))V.settings[z]=re;return C&&V.setPersistence(C),V},[t,o,u,h,y,C]);let ky=(()=>{class i{constructor(t,o,u,h,y,C,V,z,re,Ne,ht,kt){const Ut=new Sy.x,cn=(0,ue.of)(void 0).pipe((0,ff.Q)(y.outsideAngular),(0,Tl.w)(()=>h.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9568)))),(0,ae.U)(()=>(0,qe.on)(t,h,o)),(0,ae.U)(Pn=>Py(Pn,h,C,z,re,Ne,V,ht)),pg({bufferSize:1,refCount:!1}));if((0,dt.PM)(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ue.of)(null);else{cn.pipe((0,k_.P)()).subscribe();const Xr=cn.pipe((0,Tl.w)(Mr=>Mr.getRedirectResult().then(Er=>Er,()=>null)),ye.iC,pg({bufferSize:1,refCount:!1})),Ii=cn.pipe((0,Tl.w)(Mr=>new N.y(Er=>({unsubscribe:h.runOutsideAngular(()=>Mr.onAuthStateChanged(xr=>Er.next(xr),xr=>Er.error(xr),()=>Er.complete()))})))),kr=cn.pipe((0,Tl.w)(Mr=>new N.y(Er=>({unsubscribe:h.runOutsideAngular(()=>Mr.onIdTokenChanged(xr=>Er.next(xr),xr=>Er.error(xr),()=>Er.complete()))}))));this.authState=Xr.pipe(Ay(Ii),(0,pf.R)(y.outsideAngular),(0,ff.Q)(y.insideAngular)),this.user=Xr.pipe(Ay(kr),(0,pf.R)(y.outsideAngular),(0,ff.Q)(y.insideAngular)),this.idToken=this.user.pipe((0,Tl.w)(Mr=>Mr?(0,pe.D)(Mr.getIdToken()):(0,ue.of)(null))),this.idTokenResult=this.user.pipe((0,Tl.w)(Mr=>Mr?(0,pe.D)(Mr.getIdTokenResult()):(0,ue.of)(null))),this.credential=(0,Ld.T)(Xr,Ut,this.authState.pipe((0,Fe.h)(Mr=>!Mr))).pipe((0,ae.U)(Mr=>null!=Mr&&Mr.user?Mr:null),(0,pf.R)(y.outsideAngular),(0,ff.Q)(y.insideAngular))}return(0,qe.pX)(this,cn,h,{spy:{apply:(Pn,Xr,Ii)=>{(Pn.startsWith("signIn")||Pn.startsWith("createUser"))&&Ii.then(kr=>Ut.next(kr))}}})}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(qe.Dh),a.LFG(qe.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ye.HU),a.LFG(My,8),a.LFG(gf,8),a.LFG(xy,8),a.LFG(yg,8),a.LFG(Ry,8),a.LFG(Oy,8),a.LFG(mg.nm,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function Ny(i,e){return function L_(i,e=B.z){return new N.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function mf(i,e){return Ny(i,e).pipe((0,ae.U)(t=>({payload:t,type:"query"})))}function $d(i,e){return mf(i,e).pipe((0,le.O)(void 0),ce(),(0,ae.U)(([t,o])=>{const u=o.payload.docChanges(),h=u.map(y=>({type:y.type,payload:y}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((y,C)=>{const V=u.find(re=>re.doc.ref.isEqual(y.ref)),z=null==t?void 0:t.payload.docs.find(re=>re.ref.isEqual(y.ref));V&&JSON.stringify(V.doc.metadata)===JSON.stringify(y.metadata)||!V&&z&&JSON.stringify(z.metadata)===JSON.stringify(y.metadata)||h.push({type:"modified",payload:{oldIndex:C,newIndex:C,type:"modified",doc:y}})}),h}))}function Fy(i,e,t){return $d(i,t).pipe((0,fe.R)((o,u)=>function B_(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function V_(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return yf(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return yf(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yf(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(h=>h.payload),e),[]),(0,Ce.x)(),(0,ae.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function yf(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function Ly(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class $y{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=$d(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ae.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,le.O)(void 0),ce(),(0,Fe.h)(([o,u])=>u.length>0||!o),(0,ae.U)(([o,u])=>u),ye.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,fe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Ly(e);return Fy(this.query,t,this.afs.schedulers.outsideAngular).pipe(ye.iC)}valueChanges(e={}){return mf(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ye.iC)}get(e){return(0,pe.D)(this.query.get(e)).pipe(ye.iC)}add(e){return this.ref.add(e)}doc(e){return new vf(this.ref.doc(e),this.afs)}}class vf{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:h}=Ef(o,t);return new $y(u,h,this.afs)}snapshotChanges(){return function $_(i,e){return Ny(i,e).pipe((0,le.O)(void 0),ce(),(0,ae.U)(([t,o])=>o.exists?null!=t&&t.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ye.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ae.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pe.D)(this.ref.get(e)).pipe(ye.iC)}}class vg{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?$d(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Fe.h)(t=>t.length>0),ye.iC):$d(this.query,this.afs.schedulers.outsideAngular).pipe(ye.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,fe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Ly(e);return Fy(this.query,t,this.afs.schedulers.outsideAngular).pipe(ye.iC)}valueChanges(e={}){return mf(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),ye.iC)}get(e){return(0,pe.D)(this.query.get(e)).pipe(ye.iC)}}const _g=new a.OlP("angularfire2.enableFirestorePersistence"),_f=new a.OlP("angularfire2.firestore.persistenceSettings"),U_=new a.OlP("angularfire2.firestore.settings"),j_=new a.OlP("angularfire2.firestore.use-emulator");function Ef(i,e=(t=>t)){return{query:e(i),ref:i}}let By=(()=>{class i{constructor(t,o,u,h,y,C,V,z,re,Ne,ht,kt,Ut,cn,Pn,Xr,Ii){this.schedulers=V;const kr=(0,qe.on)(t,C,o),Mr=re;Ne&&Py(kr,C,ht,Ut,cn,Pn,kt,Xr),[this.firestore,this.persistenceEnabled$]=(0,qe.cc)(`${kr.name}.firestore`,"AngularFirestore",kr.name,()=>{const Er=C.runOutsideAngular(()=>kr.firestore());if(h&&Er.settings(h),Mr&&Er.useEmulator(...Mr),u&&!(0,dt.PM)(y)){const xr=()=>{try{return(0,pe.D)(Er.enablePersistence(z||void 0).then(()=>!0,()=>!1))}catch(Wo){return typeof console<"u"&&console.warn(Wo),(0,ue.of)(!1)}};return[Er,C.runOutsideAngular(xr)]}return[Er,(0,ue.of)(!1)]},[h,Mr,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:h,query:y}=Ef(u,o),C=this.schedulers.ngZone.run(()=>h);return new $y(C,y,this)}collectionGroup(t,o){const u=o||(y=>y),h=this.firestore.collectionGroup(t);return new vg(u(h),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new vf(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(qe.Dh),a.LFG(qe.xv,8),a.LFG(_g,8),a.LFG(U_,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ye.HU),a.LFG(_f,8),a.LFG(j_,8),a.LFG(ky,8),a.LFG(My,8),a.LFG(gf,8),a.LFG(xy,8),a.LFG(yg,8),a.LFG(Ry,8),a.LFG(Oy,8),a.LFG(mg.nm,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Vy=(()=>{class i{constructor(){N_.Z.registerVersion("angularfire",ye.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:_g,useValue:!0},{provide:_f,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[By]}),i})()},2011:(zt,rt,k)=>{"use strict";k.d(rt,{Dh:()=>Ie,GT:()=>ye,cc:()=>Fe,hO:()=>Ce,on:()=>ce,pX:()=>ue,xv:()=>Le});var a=k(4650),B=k(9260),N=k(2122);zt=k.hmd(zt);const pe=["ngOnDestroy"],ue=(de,ne,Ye,We={})=>new Proxy(de,{get:(Xe,De)=>Ye.runOutsideAngular(()=>{var we;if(de[De])return!(null===(we=null==We?void 0:We.spy)||void 0===we)&&we.get&&We.spy.get(De,de[De]),de[De];if(pe.indexOf(De)>-1)return()=>{};const Q=ne.toPromise().then(te=>{const je=te&&te[De];return"function"==typeof je?je.bind(te):je&&je.then?je.then(Pe=>Ye.run(()=>Pe)):Ye.run(()=>je)});return new Proxy(()=>{},{get:(te,je)=>Q[je],apply:(te,je,Pe)=>Q.then(Ve=>{var ze;const Qe=Ve&&Ve(...Pe);return!(null===(ze=null==We?void 0:We.spy)||void 0===ze)&&ze.apply&&We.spy.apply(De,Pe,Qe),Qe})})})}),ye=(de,ne)=>{ne.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(We=>{Object.defineProperty(de.prototype,We,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,We))})})};class le{constructor(ne){return ne}}const Ie=new a.OlP("angularfire2.app.options"),Le=new a.OlP("angularfire2.app.name");function ce(de,ne,Ye){const Xe="object"==typeof Ye&&Ye||{};Xe.name=Xe.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const we=B.Z.apps.filter(Q=>Q&&Q.name===Xe.name)[0]||ne.runOutsideAngular(()=>B.Z.initializeApp(de,Xe));try{JSON.stringify(de)!==JSON.stringify(we.options)&&ae("error",`${we.name} Firebase App already initialized with different options${zt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Q){}return new le(we)}const ae=(de,...ne)=>{(0,a.X6Q)()&&typeof console<"u"&&console[de](...ne)},fe={provide:le,useFactory:ce,deps:[Ie,a.R0b,[new a.FiY,Le]]};let Ce=(()=>{class de{constructor(Ye){B.Z.registerVersion("angularfire",N.q4.full,"core"),B.Z.registerVersion("angularfire",N.q4.full,"app-compat"),B.Z.registerVersion("angular",a.q4F.full,Ye.toString())}static initializeApp(Ye,We){return{ngModule:de,providers:[{provide:Ie,useValue:Ye},{provide:Le,useValue:We}]}}}return de.\u0275fac=function(Ye){return new(Ye||de)(a.LFG(a.Lbi))},de.\u0275mod=a.oAB({type:de}),de.\u0275inj=a.cJS({providers:[fe]}),de})();function Fe(de,ne,Ye,We,Xe){const[,De,we]=globalThis.\u0275AngularfireInstanceCache.find(Q=>Q[0]===de)||[];if(De)return function qe(de,ne){try{return de.toString()===ne.toString()}catch(Ye){return de===ne}}(Xe,we)||(be("error",`${ne} was already initialized on the ${Ye} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:Xe,was:we})),De;{const Q=We();return globalThis.\u0275AngularfireInstanceCache.push([de,Q,Xe]),Q}}const dt=!!zt.hot,be=(de,...ne)=>{(0,a.X6Q)()&&typeof console<"u"&&console[de](...ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(zt,rt,k)=>{"use strict";k.d(rt,{q4:()=>La,iC:()=>wr,HU:()=>K,vb:()=>_,JM:()=>D,u3:()=>Uo});var a=k(4650),B=k(259),N=k(5861),pe=k(9681),ue=k(2090),ye=k(4859),le=k(1877),Ie=k(8766);const Le="@firebase/installations",ce="0.6.3",fe=`w:${ce}`,Ce="FIS_v2",ne=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ye(R){return R instanceof ue.ZR&&R.code.includes("request-failed")}function We({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function Xe(R){return{token:R.token,requestStatus:2,expiresIn:Ve(R.expiresIn),creationTime:Date.now()}}function De(R,$){return we.apply(this,arguments)}function we(){return(we=(0,N.Z)(function*(R,$){const Te=(yield $.json()).error;return ne.create("request-failed",{requestName:R,serverCode:Te.code,serverMessage:Te.message,serverStatus:Te.status})})).apply(this,arguments)}function Q({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function te(R,{refreshToken:$}){const Y=Q(R);return Y.append("Authorization",function ze(R){return`${Ce} ${R}`}($)),Y}function je(R){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,N.Z)(function*(R){const $=yield R();return $.status>=500&&$.status<600?R():$})).apply(this,arguments)}function Ve(R){return Number(R.replace("s","000"))}function Qe(R,$){return He.apply(this,arguments)}function He(){return(He=(0,N.Z)(function*({appConfig:R,heartbeatServiceProvider:$},{fid:Y}){const Te=We(R),nt=Q(R),vt=$.getImmediate({optional:!0});if(vt){const $n=yield vt.getHeartbeatsHeader();$n&&nt.append("x-firebase-client",$n)}const Cn={method:"POST",headers:nt,body:JSON.stringify({fid:Y,authVersion:Ce,appId:R.appId,sdkVersion:fe})},An=yield je(()=>fetch(Te,Cn));if(An.ok){const $n=yield An.json();return{fid:$n.fid||Y,registrationStatus:2,refreshToken:$n.refreshToken,authToken:Xe($n.authToken)}}throw yield De("Create Installation",An)})).apply(this,arguments)}function it(R){return new Promise($=>{setTimeout($,R)})}const xe=/^[cdef][\w-]{21}$/;function Se(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const Y=function Je(R){return function at(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return xe.test(Y)?Y:""}catch(R){return""}}function Ue(R){return`${R.appName}!${R.appId}`}const st=new Map;function Ze(R,$){const Y=Ue(R);Ot(Y,$),function Gt(R,$){const Y=function nn(){return!wt&&"BroadcastChannel"in self&&(wt=new BroadcastChannel("[Firebase] FID Change"),wt.onmessage=R=>{Ot(R.data.key,R.data.fid)}),wt}();Y&&Y.postMessage({key:R,fid:$}),function wn(){0===st.size&&wt&&(wt.close(),wt=null)}()}(Y,$)}function Ot(R,$){const Y=st.get(R);if(Y)for(const Te of Y)Te($)}let wt=null;const Fn="firebase-installations-store";let Jn=null;function ur(){return Jn||(Jn=(0,Ie.X3)("firebase-installations-database",1,{upgrade:(R,$)=>{0===$&&R.createObjectStore(Fn)}})),Jn}function Ln(R,$){return qn.apply(this,arguments)}function qn(){return(qn=(0,N.Z)(function*(R,$){const Y=Ue(R),nt=(yield ur()).transaction(Fn,"readwrite"),vt=nt.objectStore(Fn),$t=yield vt.get(Y);return yield vt.put($,Y),yield nt.done,(!$t||$t.fid!==$.fid)&&Ze(R,$.fid),$})).apply(this,arguments)}function Nt(R){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,N.Z)(function*(R){const $=Ue(R),Te=(yield ur()).transaction(Fn,"readwrite");yield Te.objectStore(Fn).delete($),yield Te.done})).apply(this,arguments)}function Gn(R,$){return gr.apply(this,arguments)}function gr(){return(gr=(0,N.Z)(function*(R,$){const Y=Ue(R),nt=(yield ur()).transaction(Fn,"readwrite"),vt=nt.objectStore(Fn),$t=yield vt.get(Y),Cn=$($t);return void 0===Cn?yield vt.delete(Y):yield vt.put(Cn,Y),yield nt.done,Cn&&(!$t||$t.fid!==Cn.fid)&&Ze(R,Cn.fid),Cn})).apply(this,arguments)}function Ir(R){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,N.Z)(function*(R){let $;const Y=yield Gn(R.appConfig,Te=>{const nt=ln(Te),vt=Qt(R,nt);return $=vt.registrationPromise,vt.installationEntry});return""===Y.fid?{installationEntry:yield $}:{installationEntry:Y,registrationPromise:$}})).apply(this,arguments)}function ln(R){return dr(R||{fid:Se(),registrationStatus:0})}function Qt(R,$){if(0===$.registrationStatus){if(!navigator.onLine)return{installationEntry:$,registrationPromise:Promise.reject(ne.create("app-offline"))};const Y={fid:$.fid,registrationStatus:1,registrationTime:Date.now()},Te=function gn(R,$){return Hn.apply(this,arguments)}(R,Y);return{installationEntry:Y,registrationPromise:Te}}return 1===$.registrationStatus?{installationEntry:$,registrationPromise:rn(R)}:{installationEntry:$}}function Hn(){return(Hn=(0,N.Z)(function*(R,$){try{const Y=yield Qe(R,$);return Ln(R.appConfig,Y)}catch(Y){throw Ye(Y)&&409===Y.customData.serverCode?yield Nt(R.appConfig):yield Ln(R.appConfig,{fid:$.fid,registrationStatus:0}),Y}})).apply(this,arguments)}function rn(R){return cr.apply(this,arguments)}function cr(){return(cr=(0,N.Z)(function*(R){let $=yield Rt(R.appConfig);for(;1===$.registrationStatus;)yield it(100),$=yield Rt(R.appConfig);if(0===$.registrationStatus){const{installationEntry:Y,registrationPromise:Te}=yield Ir(R);return Te||Y}return $})).apply(this,arguments)}function Rt(R){return Gn(R,$=>{if(!$)throw ne.create("installation-not-found");return dr($)})}function dr(R){return function Rr(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function kn(R,$){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,N.Z)(function*({appConfig:R,heartbeatServiceProvider:$},Y){const Te=xn(R,Y),nt=te(R,Y),vt=$.getImmediate({optional:!0});if(vt){const $n=yield vt.getHeartbeatsHeader();$n&&nt.append("x-firebase-client",$n)}const Cn={method:"POST",headers:nt,body:JSON.stringify({installation:{sdkVersion:fe,appId:R.appId}})},An=yield je(()=>fetch(Te,Cn));if(An.ok)return Xe(yield An.json());throw yield De("Generate Auth Token",An)})).apply(this,arguments)}function xn(R,{fid:$}){return`${We(R)}/${$}/authTokens:generate`}function In(R){return or.apply(this,arguments)}function or(){return(or=(0,N.Z)(function*(R,$=!1){let Y;const Te=yield Gn(R.appConfig,vt=>{if(!Rn(vt))throw ne.create("not-registered");const $t=vt.authToken;if(!$&&Ae($t))return vt;if(1===$t.requestStatus)return Y=xt(R,$),vt;{if(!navigator.onLine)throw ne.create("app-offline");const Cn=$e(vt);return Y=un(R,Cn),Cn}});return Y?yield Y:Te.authToken})).apply(this,arguments)}function xt(R,$){return Et.apply(this,arguments)}function Et(){return(Et=(0,N.Z)(function*(R,$){let Y=yield qt(R.appConfig);for(;1===Y.authToken.requestStatus;)yield it(100),Y=yield qt(R.appConfig);const Te=Y.authToken;return 0===Te.requestStatus?In(R,$):Te})).apply(this,arguments)}function qt(R){return Gn(R,$=>{if(!Rn($))throw ne.create("not-registered");return function he(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}($.authToken)?Object.assign(Object.assign({},$),{authToken:{requestStatus:0}}):$})}function un(R,$){return dn.apply(this,arguments)}function dn(){return(dn=(0,N.Z)(function*(R,$){try{const Y=yield kn(R,$),Te=Object.assign(Object.assign({},$),{authToken:Y});return yield Ln(R.appConfig,Te),Y}catch(Y){if(!Ye(Y)||401!==Y.customData.serverCode&&404!==Y.customData.serverCode){const Te=Object.assign(Object.assign({},$),{authToken:{requestStatus:0}});yield Ln(R.appConfig,Te)}else yield Nt(R.appConfig);throw Y}})).apply(this,arguments)}function Rn(R){return void 0!==R&&2===R.registrationStatus}function Ae(R){return 2===R.requestStatus&&!function _e(R){const $=Date.now();return $<R.creationTime||R.creationTime+R.expiresIn<$+36e5}(R)}function $e(R){const $={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:$})}function ge(){return(ge=(0,N.Z)(function*(R){const $=R,{installationEntry:Y,registrationPromise:Te}=yield Ir($);return Te?Te.catch(console.error):In($).catch(console.error),Y.fid})).apply(this,arguments)}function Tt(){return(Tt=(0,N.Z)(function*(R,$=!1){const Y=R;return yield en(Y),(yield In(Y,$)).token})).apply(this,arguments)}function en(R){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,N.Z)(function*(R){const{registrationPromise:$}=yield Ir(R);$&&(yield $)})).apply(this,arguments)}function ui(R){return ne.create("missing-app-config-values",{valueName:R})}const Tr="installations",jr=R=>{const $=R.getProvider("app").getImmediate(),Y=function mr(R){if(!R||!R.options)throw ui("App Configuration");if(!R.name)throw ui("App Name");const $=["projectId","apiKey","appId"];for(const Y of $)if(!R.options[Y])throw ui(Y);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}($);return{app:$,appConfig:Y,heartbeatServiceProvider:(0,pe._getProvider)($,"heartbeat"),_delete:()=>Promise.resolve()}},eo=R=>{const $=R.getProvider("app").getImmediate(),Y=(0,pe._getProvider)($,Tr).getImmediate();return{getId:()=>function X(R){return ge.apply(this,arguments)}(Y),getToken:nt=>function ut(R){return Tt.apply(this,arguments)}(Y,nt)}};(function oi(){(0,pe._registerComponent)(new ye.wA(Tr,jr,"PUBLIC")),(0,pe._registerComponent)(new ye.wA("installations-internal",eo,"PRIVATE"))})(),(0,pe.registerVersion)(Le,ce),(0,pe.registerVersion)(Le,ce,"esm2017");const qr="@firebase/remote-config",rr=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class on{constructor($,Y,Te,nt){this.client=$,this.storage=Y,this.storageCache=Te,this.logger=nt}isCachedDataFresh($,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Te=Date.now()-Y,nt=Te<=$;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Te}. Cache max age millis (minimumFetchIntervalMillis setting): ${$}. Is cache hit: ${nt}.`),nt}fetch($){var Y=this;return(0,N.Z)(function*(){const[Te,nt]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if(nt&&Y.isCachedDataFresh($.cacheMaxAgeMillis,Te))return nt;$.eTag=nt&&nt.eTag;const vt=yield Y.client.fetch($),$t=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===vt.status&&$t.push(Y.storage.setLastSuccessfulFetchResponse(vt)),yield Promise.all($t),vt})()}}function an(R=navigator){return R.languages&&R.languages[0]||R.language}class er{constructor($,Y,Te,nt,vt,$t){this.firebaseInstallations=$,this.sdkVersion=Y,this.namespace=Te,this.projectId=nt,this.apiKey=vt,this.appId=$t}fetch($){var Y=this;return(0,N.Z)(function*(){const[Te,nt]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),$t=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,Cn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":$.eTag||"*"},An={sdk_version:Y.sdkVersion,app_instance_id:Te,app_instance_id_token:nt,app_id:Y.appId,language_code:an()},$n={method:"POST",headers:Cn,body:JSON.stringify(An)},yn=fetch($t,$n),vn=new Promise((ns,Es)=>{$.signal.addEventListener(()=>{const kl=new Error("The operation was aborted.");kl.name="AbortError",Es(kl)})});let Ji;try{yield Promise.race([yn,vn]),Ji=yield yn}catch(ns){let Es="fetch-client-network";throw"AbortError"===(null==ns?void 0:ns.name)&&(Es="fetch-timeout"),rr.create(Es,{originalErrorMessage:null==ns?void 0:ns.message})}let Wi=Ji.status;const qa=Ji.headers.get("ETag")||void 0;let Pl,_a;if(200===Ji.status){let ns;try{ns=yield Ji.json()}catch(Es){throw rr.create("fetch-client-parse",{originalErrorMessage:null==Es?void 0:Es.message})}Pl=ns.entries,_a=ns.state}if("INSTANCE_STATE_UNSPECIFIED"===_a?Wi=500:"NO_CHANGE"===_a?Wi=304:("NO_TEMPLATE"===_a||"EMPTY_CONFIG"===_a)&&(Pl={}),304!==Wi&&200!==Wi)throw rr.create("fetch-status",{httpStatus:Wi});return{status:Wi,eTag:qa,config:Pl}})()}}class Dr{constructor($,Y){this.client=$,this.storage=Y}fetch($){var Y=this;return(0,N.Z)(function*(){const Te=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch($,Te)})()}attemptFetch($,{throttleEndTimeMillis:Y,backoffCount:Te}){var nt=this;return(0,N.Z)(function*(){yield function ni(R,$){return new Promise((Y,Te)=>{const nt=Math.max($-Date.now(),0),vt=setTimeout(Y,nt);R.addEventListener(()=>{clearTimeout(vt),Te(rr.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}($.signal,Y);try{const vt=yield nt.client.fetch($);return yield nt.storage.deleteThrottleMetadata(),vt}catch(vt){if(!function tr(R){if(!(R instanceof ue.ZR&&R.customData))return!1;const $=Number(R.customData.httpStatus);return 429===$||500===$||503===$||504===$}(vt))throw vt;const $t={throttleEndTimeMillis:Date.now()+(0,ue.$s)(Te),backoffCount:Te+1};return yield nt.storage.setThrottleMetadata($t),nt.attemptFetch($,$t)}})()}}class to{constructor($,Y,Te,nt,vt){this.app=$,this._client=Y,this._storageCache=Te,this._storage=nt,this._logger=vt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ti(R,$){const Y=R.target.error||void 0;return rr.create($,{originalErrorMessage:Y&&(null==Y?void 0:Y.message)})}const yi="app_namespace_store";class ii{constructor($,Y,Te,nt=function ri(){return new Promise((R,$)=>{try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=Te=>{$(Ti(Te,"storage-open"))},Y.onsuccess=Te=>{R(Te.target.result)},Y.onupgradeneeded=Te=>{0===Te.oldVersion&&Te.target.result.createObjectStore(yi,{keyPath:"compositeKey"})}}catch(Y){$(rr.create("storage-open",{originalErrorMessage:null==Y?void 0:Y.message}))}})}()){this.appId=$,this.appName=Y,this.namespace=Te,this.openDbPromise=nt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus($){return this.set("last_fetch_status",$)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis($){return this.set("last_successful_fetch_timestamp_millis",$)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse($){return this.set("last_successful_fetch_response",$)}getActiveConfig(){return this.get("active_config")}setActiveConfig($){return this.set("active_config",$)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag($){return this.set("active_config_etag",$)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata($){return this.set("throttle_metadata",$)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get($){var Y=this;return(0,N.Z)(function*(){const Te=yield Y.openDbPromise;return new Promise((nt,vt)=>{const Cn=Te.transaction([yi],"readonly").objectStore(yi),An=Y.createCompositeKey($);try{const $n=Cn.get(An);$n.onerror=yn=>{vt(Ti(yn,"storage-get"))},$n.onsuccess=yn=>{const vn=yn.target.result;nt(vn?vn.value:void 0)}}catch($n){vt(rr.create("storage-get",{originalErrorMessage:null==$n?void 0:$n.message}))}})})()}set($,Y){var Te=this;return(0,N.Z)(function*(){const nt=yield Te.openDbPromise;return new Promise((vt,$t)=>{const An=nt.transaction([yi],"readwrite").objectStore(yi),$n=Te.createCompositeKey($);try{const yn=An.put({compositeKey:$n,value:Y});yn.onerror=vn=>{$t(Ti(vn,"storage-set"))},yn.onsuccess=()=>{vt()}}catch(yn){$t(rr.create("storage-set",{originalErrorMessage:null==yn?void 0:yn.message}))}})})()}delete($){var Y=this;return(0,N.Z)(function*(){const Te=yield Y.openDbPromise;return new Promise((nt,vt)=>{const Cn=Te.transaction([yi],"readwrite").objectStore(yi),An=Y.createCompositeKey($);try{const $n=Cn.delete(An);$n.onerror=yn=>{vt(Ti(yn,"storage-delete"))},$n.onsuccess=()=>{nt()}}catch($n){vt(rr.create("storage-delete",{originalErrorMessage:null==$n?void 0:$n.message}))}})})()}createCompositeKey($){return[this.appId,this.appName,this.namespace,$].join()}}class Vi{constructor($){this.storage=$}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var $=this;return(0,N.Z)(function*(){const Y=$.storage.getLastFetchStatus(),Te=$.storage.getLastSuccessfulFetchTimestampMillis(),nt=$.storage.getActiveConfig(),vt=yield Y;vt&&($.lastFetchStatus=vt);const $t=yield Te;$t&&($.lastSuccessfulFetchTimestampMillis=$t);const Cn=yield nt;Cn&&($.activeConfig=Cn)})()}setLastFetchStatus($){return this.lastFetchStatus=$,this.storage.setLastFetchStatus($)}setLastSuccessfulFetchTimestampMillis($){return this.lastSuccessfulFetchTimestampMillis=$,this.storage.setLastSuccessfulFetchTimestampMillis($)}setActiveConfig($){return this.activeConfig=$,this.storage.setActiveConfig($)}}function Ss(){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,N.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(R){return!1}})).apply(this,arguments)}!function ss(){(0,pe._registerComponent)(new ye.wA("remote-config",function R($,{instanceIdentifier:Y}){const Te=$.getProvider("app").getImmediate(),nt=$.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw rr.create("registration-window");if(!(0,ue.hl)())throw rr.create("indexed-db-unavailable");const{projectId:vt,apiKey:$t,appId:Cn}=Te.options;if(!vt)throw rr.create("registration-project-id");if(!$t)throw rr.create("registration-api-key");if(!Cn)throw rr.create("registration-app-id");const An=new ii(Cn,Te.name,Y=Y||"firebase"),$n=new Vi(An),yn=new le.Yd(qr);yn.logLevel=le.in.ERROR;const vn=new er(nt,pe.SDK_VERSION,Y,vt,$t,Cn),Ji=new Dr(vn,An),Wi=new on(Ji,An,$n,yn),qa=new to(Te,Wi,$n,An,yn);return function j(R){const $=(0,ue.m9)(R);$._initializePromise||($._initializePromise=$._storageCache.loadFromStorage().then(()=>{$._isInitializationComplete=!0}))}(qa),qa},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(qr,"0.4.3"),(0,pe.registerVersion)(qr,"0.4.3","esm2017")}();const Ai="/firebase-messaging-sw.js",ao="/firebase-cloud-messaging-push-scope",Mi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",qo="google.c.a.c_id",ps="google.c.a.c_l",Io="google.c.a.ts",ci="google.c.a.e";var Ui=(()=>{return(R=Ui||(Ui={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",Ui;var R})();function Ki(R){const $=new Uint8Array(R);return btoa(String.fromCharCode(...$)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ts(R){const Y=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Te=atob(Y),nt=new Uint8Array(Te.length);for(let vt=0;vt<Te.length;++vt)nt[vt]=Te.charCodeAt(vt);return nt}const Po="fcm_token_details_db",Pi="fcm_token_object_Store";function bi(R){return lo.apply(this,arguments)}function lo(){return lo=(0,N.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(vt=>vt.name).includes(Po))return null;let $=null;return(yield(0,Ie.X3)(Po,5,{upgrade:(Te=(0,N.Z)(function*(nt,vt,$t,Cn){var An;if(vt<2||!nt.objectStoreNames.contains(Pi))return;const $n=Cn.objectStore(Pi),yn=yield $n.index("fcmSenderId").get(R);if(yield $n.clear(),yn)if(2===vt){const vn=yn;if(!vn.auth||!vn.p256dh||!vn.endpoint)return;$={token:vn.fcmToken,createTime:null!==(An=vn.createTime)&&void 0!==An?An:Date.now(),subscriptionOptions:{auth:vn.auth,p256dh:vn.p256dh,endpoint:vn.endpoint,swScope:vn.swScope,vapidKey:"string"==typeof vn.vapidKey?vn.vapidKey:Ki(vn.vapidKey)}}}else if(3===vt){const vn=yn;$={token:vn.fcmToken,createTime:vn.createTime,subscriptionOptions:{auth:Ki(vn.auth),p256dh:Ki(vn.p256dh),endpoint:vn.endpoint,swScope:vn.swScope,vapidKey:Ki(vn.vapidKey)}}}else if(4===vt){const vn=yn;$={token:vn.fcmToken,createTime:vn.createTime,subscriptionOptions:{auth:Ki(vn.auth),p256dh:Ki(vn.p256dh),endpoint:vn.endpoint,swScope:vn.swScope,vapidKey:Ki(vn.vapidKey)}}}}),function(vt,$t,Cn,An){return Te.apply(this,arguments)})})).close(),yield(0,Ie.Lj)(Po),yield(0,Ie.Lj)("fcm_vapid_details_db"),yield(0,Ie.Lj)("undefined"),uo($)?$:null;var Te}),lo.apply(this,arguments)}function uo(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:$}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof $.auth&&$.auth.length>0&&"string"==typeof $.p256dh&&$.p256dh.length>0&&"string"==typeof $.endpoint&&$.endpoint.length>0&&"string"==typeof $.swScope&&$.swScope.length>0&&"string"==typeof $.vapidKey&&$.vapidKey.length>0}const xi="firebase-messaging-store";let ki=null;function ji(){return ki||(ki=(0,Ie.X3)("firebase-messaging-database",1,{upgrade:(R,$)=>{0===$&&R.createObjectStore(xi)}})),ki}function ko(R){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,N.Z)(function*(R){const $=Ni(R),Te=yield(yield ji()).transaction(xi).objectStore(xi).get($);if(Te)return Te;{const nt=yield bi(R.appConfig.senderId);if(nt)return yield Hi(R,nt),nt}})).apply(this,arguments)}function Hi(R,$){return co.apply(this,arguments)}function co(){return(co=(0,N.Z)(function*(R,$){const Y=Ni(R),nt=(yield ji()).transaction(xi,"readwrite");return yield nt.objectStore(xi).put($,Y),yield nt.done,$})).apply(this,arguments)}function Do(R){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,N.Z)(function*(R){const $=Ni(R),Te=(yield ji()).transaction(xi,"readwrite");yield Te.objectStore(xi).delete($),yield Te.done})).apply(this,arguments)}function Ni({appConfig:R}){return R.appId}const $r=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function bo(R,$){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,N.Z)(function*(R,$){const Y=yield ro(R),Te=fo($),nt={method:"POST",headers:Y,body:JSON.stringify(Te)};let vt;try{vt=yield(yield fetch(No(R.appConfig),nt)).json()}catch($t){throw $r.create("token-subscribe-failed",{errorInfo:null==$t?void 0:$t.toString()})}if(vt.error)throw $r.create("token-subscribe-failed",{errorInfo:vt.error.message});if(!vt.token)throw $r.create("token-subscribe-no-token");return vt.token})).apply(this,arguments)}function wo(R,$){return Co.apply(this,arguments)}function Co(){return(Co=(0,N.Z)(function*(R,$){const Y=yield ro(R),Te=fo($.subscriptionOptions),nt={method:"PATCH",headers:Y,body:JSON.stringify(Te)};let vt;try{vt=yield(yield fetch(`${No(R.appConfig)}/${$.token}`,nt)).json()}catch($t){throw $r.create("token-update-failed",{errorInfo:null==$t?void 0:$t.toString()})}if(vt.error)throw $r.create("token-update-failed",{errorInfo:vt.error.message});if(!vt.token)throw $r.create("token-update-no-token");return vt.token})).apply(this,arguments)}function di(R,$){return ho.apply(this,arguments)}function ho(){return(ho=(0,N.Z)(function*(R,$){const Te={method:"DELETE",headers:yield ro(R)};try{const vt=yield(yield fetch(`${No(R.appConfig)}/${$}`,Te)).json();if(vt.error)throw $r.create("token-unsubscribe-failed",{errorInfo:vt.error.message})}catch(nt){throw $r.create("token-unsubscribe-failed",{errorInfo:null==nt?void 0:nt.toString()})}})).apply(this,arguments)}function No({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function ro(R){return si.apply(this,arguments)}function si(){return(si=(0,N.Z)(function*({appConfig:R,installations:$}){const Y=yield $.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${Y}`})})).apply(this,arguments)}function fo({p256dh:R,auth:$,endpoint:Y,vapidKey:Te}){const nt={web:{endpoint:Y,auth:$,p256dh:R}};return Te!==Mi&&(nt.web.applicationPubKey=Te),nt}const ai=6048e5;function Xs(R){return vi.apply(this,arguments)}function vi(){return(vi=(0,N.Z)(function*(R){const $=yield Bo(R.swRegistration,R.vapidKey),Y={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:$.endpoint,auth:Ki($.getKey("auth")),p256dh:Ki($.getKey("p256dh"))},Te=yield ko(R.firebaseDependencies);if(Te){if(Fs(Te.subscriptionOptions,Y))return Date.now()>=Te.createTime+ai?Un(R,{token:Te.token,createTime:Date.now(),subscriptionOptions:Y}):Te.token;try{yield di(R.firebaseDependencies,Te.token)}catch(nt){console.warn(nt)}return Ns(R.firebaseDependencies,Y)}return Ns(R.firebaseDependencies,Y)})).apply(this,arguments)}function Zo(R){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,N.Z)(function*(R){const $=yield ko(R.firebaseDependencies);$&&(yield di(R.firebaseDependencies,$.token),yield Do(R.firebaseDependencies));const Y=yield R.swRegistration.pushManager.getSubscription();return!Y||Y.unsubscribe()})).apply(this,arguments)}function Un(R,$){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,N.Z)(function*(R,$){try{const Y=yield wo(R.firebaseDependencies,$),Te=Object.assign(Object.assign({},$),{token:Y,createTime:Date.now()});return yield Hi(R.firebaseDependencies,Te),Y}catch(Y){throw yield Zo(R),Y}})).apply(this,arguments)}function Ns(R,$){return $o.apply(this,arguments)}function $o(){return($o=(0,N.Z)(function*(R,$){const Te={token:yield bo(R,$),createTime:Date.now(),subscriptionOptions:$};return yield Hi(R,Te),Te.token})).apply(this,arguments)}function Bo(R,$){return io.apply(this,arguments)}function io(){return(io=(0,N.Z)(function*(R,$){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ts($)})})).apply(this,arguments)}function Fs(R,$){return $.vapidKey===R.vapidKey&&$.endpoint===R.endpoint&&$.auth===R.auth&&$.p256dh===R.p256dh}function Xo(R){const $={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function So(R,$){if(!$.notification)return;R.notification={};const Y=$.notification.title;Y&&(R.notification.title=Y);const Te=$.notification.body;Te&&(R.notification.body=Te);const nt=$.notification.image;nt&&(R.notification.image=nt);const vt=$.notification.icon;vt&&(R.notification.icon=vt)}($,R),function x(R,$){$.data&&(R.data=$.data)}($,R),function c(R,$){var Y,Te,nt,vt,$t;if(!($.fcmOptions||null!==(Y=$.notification)&&void 0!==Y&&Y.click_action))return;R.fcmOptions={};const Cn=null!==(nt=null===(Te=$.fcmOptions)||void 0===Te?void 0:Te.link)&&void 0!==nt?nt:null===(vt=$.notification)||void 0===vt?void 0:vt.click_action;Cn&&(R.fcmOptions.link=Cn);const An=null===($t=$.fcmOptions)||void 0===$t?void 0:$t.analytics_label;An&&(R.fcmOptions.analyticsLabel=An)}($,R),$}function m(R){return"object"==typeof R&&!!R&&qo in R}function f(R,$){const Y=[];for(let Te=0;Te<R.length;Te++)Y.push(R.charAt(Te)),Te<$.length&&Y.push($.charAt(Te));return Y.join("")}function G(R){return $r.create("missing-app-config-values",{valueName:R})}f("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),f("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ot{constructor($,Y,Te){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const nt=function T(R){if(!R||!R.options)throw G("App Configuration Object");if(!R.name)throw G("App Name");const $=["projectId","apiKey","appId","messagingSenderId"],{options:Y}=R;for(const Te of $)if(!Y[Te])throw G(Te);return{appName:R.name,projectId:Y.projectId,apiKey:Y.apiKey,appId:Y.appId,senderId:Y.messagingSenderId}}($);this.firebaseDependencies={app:$,appConfig:nt,installations:Y,analyticsProvider:Te}}_delete(){return Promise.resolve()}}function Lt(R){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,N.Z)(function*(R){try{R.swRegistration=yield navigator.serviceWorker.register(Ai,{scope:ao}),R.swRegistration.update().catch(()=>{})}catch($){throw $r.create("failed-service-worker-registration",{browserErrorMessage:null==$?void 0:$.message})}})).apply(this,arguments)}function Tn(R,$){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,N.Z)(function*(R,$){if(!$&&!R.swRegistration&&(yield Lt(R)),$||!R.swRegistration){if(!($ instanceof ServiceWorkerRegistration))throw $r.create("invalid-sw-registration");R.swRegistration=$}})).apply(this,arguments)}function lr(R,$){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,N.Z)(function*(R,$){$?R.vapidKey=$:R.vapidKey||(R.vapidKey=Mi)})).apply(this,arguments)}function Br(){return(Br=(0,N.Z)(function*(R,$){if(!navigator)throw $r.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $r.create("permission-blocked");return yield lr(R,null==$?void 0:$.vapidKey),yield Tn(R,null==$?void 0:$.serviceWorkerRegistration),Xs(R)})).apply(this,arguments)}function hi(R,$,Y){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,N.Z)(function*(R,$,Y){const Te=Fi($);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(Te,{message_id:Y[qo],message_name:Y[ps],message_time:Y[Io],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Fi(R){switch(R){case Ui.NOTIFICATION_CLICKED:return"notification_open";case Ui.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ms(){return(Ms=(0,N.Z)(function*(R,$){const Y=$.data;if(!Y.isFirebaseMessaging)return;R.onMessageHandler&&Y.messageType===Ui.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(Xo(Y)):R.onMessageHandler.next(Xo(Y)));const Te=Y.data;m(Te)&&"1"===Te[ci]&&(yield hi(R,Y.messageType,Te))})).apply(this,arguments)}const Ls="@firebase/messaging",ls=R=>{const $=new ot(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Y=>function Qs(R,$){return Ms.apply(this,arguments)}($,Y)),$},Vo=R=>{const $=R.getProvider("messaging").getImmediate();return{getToken:Te=>function Or(R,$){return Br.apply(this,arguments)}($,Te)}};function $s(){return xs.apply(this,arguments)}function xs(){return(xs=(0,N.Z)(function*(){try{yield(0,ue.eu)()}catch(R){return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Sa(){(0,pe._registerComponent)(new ye.wA("messaging",ls,"PUBLIC")),(0,pe._registerComponent)(new ye.wA("messaging-internal",Vo,"PRIVATE")),(0,pe.registerVersion)(Ls,"0.12.3"),(0,pe.registerVersion)(Ls,"0.12.3","esm2017")}();const Bs="analytics",zi="firebase_id",xa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ga="https://www.googletagmanager.com/gtag/js",fi=new le.Yd("@firebase/analytics");function tl(R){return Promise.all(R.map($=>$.catch(Y=>Y)))}function Ml(R,$){const Y=document.createElement("script");Y.src=`${Ga}?l=${R}&id=${$}`,Y.async=!0,document.head.appendChild(Y)}function ta(R,$,Y,Te,nt,vt){return na.apply(this,arguments)}function na(){return(na=(0,N.Z)(function*(R,$,Y,Te,nt,vt){const $t=Te[nt];try{if($t)yield $[$t];else{const An=(yield tl(Y)).find($n=>$n.measurementId===nt);An&&(yield $[An.appId])}}catch(Cn){fi.error(Cn)}R("config",nt,vt)})).apply(this,arguments)}function M(R,$,Y,Te,nt){return H.apply(this,arguments)}function H(){return(H=(0,N.Z)(function*(R,$,Y,Te,nt){try{let vt=[];if(nt&&nt.send_to){let $t=nt.send_to;Array.isArray($t)||($t=[$t]);const Cn=yield tl(Y);for(const An of $t){const $n=Cn.find(vn=>vn.measurementId===An),yn=$n&&$[$n.appId];if(!yn){vt=[];break}vt.push(yn)}}0===vt.length&&(vt=Object.values($)),yield Promise.all(vt),R("event",Te,nt||{})}catch(vt){fi.error(vt)}})).apply(this,arguments)}function Ee(R){const $=window.document.getElementsByTagName("script");for(const Y of Object.values($))if(Y.src&&Y.src.includes(Ga)&&Y.src.includes(R))return Y;return null}const Ct=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),St=new class Sr{constructor($={},Y=1e3){this.throttleMetadata=$,this.intervalMillis=Y}getThrottleMetadata($){return this.throttleMetadata[$]}setThrottleMetadata($,Y){this.throttleMetadata[$]=Y}deleteThrottleMetadata($){delete this.throttleMetadata[$]}};function Dn(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function zr(R){return zn.apply(this,arguments)}function zn(){return(zn=(0,N.Z)(function*(R){var $;const{appId:Y,apiKey:Te}=R,nt={method:"GET",headers:Dn(Te)},vt=xa.replace("{app-id}",Y),$t=yield fetch(vt,nt);if(200!==$t.status&&304!==$t.status){let Cn="";try{const An=yield $t.json();null!==($=An.error)&&void 0!==$&&$.message&&(Cn=An.error.message)}catch(An){}throw Ct.create("config-fetch-failed",{httpStatus:$t.status,responseMessage:Cn})}return $t.json()})).apply(this,arguments)}function Zt(R){return hn.apply(this,arguments)}function hn(){return(hn=(0,N.Z)(function*(R,$=St,Y){const{appId:Te,apiKey:nt,measurementId:vt}=R.options;if(!Te)throw Ct.create("no-app-id");if(!nt){if(vt)return{measurementId:vt,appId:Te};throw Ct.create("no-api-key")}const $t=$.getThrottleMetadata(Te)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Cn=new Zr;return setTimeout((0,N.Z)(function*(){Cn.abort()}),void 0!==Y?Y:6e4),To({appId:Te,apiKey:nt,measurementId:vt},$t,Cn,$)})).apply(this,arguments)}function To(R,$,Y){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,N.Z)(function*(R,{throttleEndTimeMillis:$,backoffCount:Y},Te,nt=St){var vt;const{appId:$t,measurementId:Cn}=R;try{yield yt(Te,$)}catch(An){if(Cn)return fi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Cn} provided in the "measurementId" field in the local Firebase config. [${null==An?void 0:An.message}]`),{appId:$t,measurementId:Cn};throw An}try{const An=yield zr(R);return nt.deleteThrottleMetadata($t),An}catch(An){const $n=An;if(!Pt($n)){if(nt.deleteThrottleMetadata($t),Cn)return fi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Cn} provided in the "measurementId" field in the local Firebase config. [${null==$n?void 0:$n.message}]`),{appId:$t,measurementId:Cn};throw An}const yn=503===Number(null===(vt=null==$n?void 0:$n.customData)||void 0===vt?void 0:vt.httpStatus)?(0,ue.$s)(Y,nt.intervalMillis,30):(0,ue.$s)(Y,nt.intervalMillis),vn={throttleEndTimeMillis:Date.now()+yn,backoffCount:Y+1};return nt.setThrottleMetadata($t,vn),fi.debug(`Calling attemptFetch again in ${yn} millis`),To(R,vn,Te,nt)}})).apply(this,arguments)}function yt(R,$){return new Promise((Y,Te)=>{const nt=Math.max($-Date.now(),0),vt=setTimeout(Y,nt);R.addEventListener(()=>{clearTimeout(vt),Te(Ct.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}function Pt(R){if(!(R instanceof ue.ZR&&R.customData))return!1;const $=Number(R.customData.httpStatus);return 429===$||500===$||503===$||504===$}class Zr{constructor(){this.listeners=[]}addEventListener($){this.listeners.push($)}abort(){this.listeners.forEach($=>$())}}let Vs,jn;function Us(){return(Us=(0,N.Z)(function*(R,$,Y,Te,nt){if(nt&&nt.global)R("event",Y,Te);else{const vt=yield $;R("event",Y,Object.assign(Object.assign({},Te),{send_to:vt}))}})).apply(this,arguments)}function Hs(R){jn=R}function Oa(R){Vs=R}function Gr(){return On.apply(this,arguments)}function On(){return(On=(0,N.Z)(function*(){if(!(0,ue.hl)())return fi.warn(Ct.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(R){return fi.warn(Ct.create("indexeddb-unavailable",{errorInfo:null==R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function yr(){return(yr=(0,N.Z)(function*(R,$,Y,Te,nt,vt,$t){var Cn;const An=Zt(R);An.then(Wi=>{Y[Wi.measurementId]=Wi.appId,R.options.measurementId&&Wi.measurementId!==R.options.measurementId&&fi.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Wi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wi=>fi.error(Wi)),$.push(An);const $n=Gr().then(Wi=>{if(Wi)return Te.getId()}),[yn,vn]=yield Promise.all([An,$n]);Ee(vt)||Ml(vt,yn.measurementId),jn&&(nt("consent","default",jn),Hs(void 0)),nt("js",new Date);const Ji=null!==(Cn=null==$t?void 0:$t.config)&&void 0!==Cn?Cn:{};return Ji.origin="firebase",Ji.update=!0,null!=vn&&(Ji[zi]=vn),nt("config",yn.measurementId,Ji),Vs&&(nt("set",Vs),Oa(void 0)),yn.measurementId})).apply(this,arguments)}class xl{constructor($){this.app=$}_delete(){return delete Pr[this.app.options.appId],Promise.resolve()}}let Pr={},tn=[];const Rs={};let pa,Xi,ei="dataLayer",Gs=!1;function ka(R,$,Y){!function rl(){const R=[];if((0,ue.ru)()&&R.push("This is a browser extension environment."),(0,ue.zI)()||R.push("Cookies are not available."),R.length>0){const $=R.map((Te,nt)=>`(${nt+1}) ${Te}`).join(" "),Y=Ct.create("invalid-analytics-context",{errorInfo:$});fi.warn(Y.message)}}();const Te=R.options.appId;if(!Te)throw Ct.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw Ct.create("no-api-key");fi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pr[Te])throw Ct.create("already-exists",{id:Te});if(!Gs){!function ea(R){let $=[];Array.isArray(window[R])?$=window[R]:window[R]=$}(ei);const{wrappedGtag:vt,gtagCore:$t}=function Z(R,$,Y,Te,nt){let vt=function(...$t){window[Te].push(arguments)};return window[nt]&&"function"==typeof window[nt]&&(vt=window[nt]),window[nt]=function P(R,$,Y,Te){function vt(){return(vt=(0,N.Z)(function*($t,Cn,An){try{"event"===$t?yield M(R,$,Y,Cn,An):"config"===$t?yield ta(R,$,Y,Te,Cn,An):"consent"===$t?R("consent","update",An):R("set",Cn)}catch($n){fi.error($n)}})).apply(this,arguments)}return function nt($t,Cn,An){return vt.apply(this,arguments)}}(vt,R,$,Y),{gtagCore:vt,wrappedGtag:window[nt]}}(Pr,tn,Rs,ei,"gtag");Xi=vt,pa=$t,Gs=!0}return Pr[Te]=function fa(R,$,Y,Te,nt,vt,$t){return yr.apply(this,arguments)}(R,tn,Rs,$,pa,ei,Y),new xl(R)}function Na(){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,N.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(R){return!1}})).apply(this,arguments)}const br="@firebase/analytics";!function ys(){(0,pe._registerComponent)(new ye.wA(Bs,($,{options:Y})=>ka($.getProvider("app").getImmediate(),$.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,pe._registerComponent)(new ye.wA("analytics-internal",function R($){try{const Y=$.getProvider(Bs).getImmediate();return{logEvent:(Te,nt,vt)=>function du(R,$,Y,Te){R=(0,ue.m9)(R),function Qo(R,$,Y,Te,nt){return Us.apply(this,arguments)}(Xi,Pr[R.app.options.appId],$,Y,Te).catch(nt=>fi.error(nt))}(Y,Te,nt,vt)}}catch(Y){throw Ct.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,pe.registerVersion)(br,"0.9.3"),(0,pe.registerVersion)(br,"0.9.3","esm2017")}();var hu=k(4408),ol=k(7565);const es=new class sl extends ol.v{}(class Wa extends hu.o{constructor($,Y){super($,Y),this.scheduler=$,this.work=Y}schedule($,Y=0){return Y>0?super.schedule($,Y):(this.delay=Y,this.state=$,this.scheduler.flush(this),this)}execute($,Y){return Y>0||this.closed?super.execute($,Y):this._execute($,Y)}requestAsyncId($,Y,Te=0){return null!=Te&&Te>0||null==Te&&this.delay>0?super.requestAsyncId($,Y,Te):($.flush(this),0)}});var ma=k(4986),ts=k(9751),ti=k(8505),ya=k(9468),vs=k(5363);const La=new a.GfV("7.5.0"),Qi="__angularfire_symbol__analyticsIsSupportedValue",_s="__angularfire_symbol__analyticsIsSupported",_i="__angularfire_symbol__remoteConfigIsSupportedValue",va="__angularfire_symbol__remoteConfigIsSupported",oo="__angularfire_symbol__messagingIsSupportedValue",li="__angularfire_symbol__messagingIsSupported";function D(R,$,Y){if($){if(1===$.length)return $[0];const vt=$.filter($t=>$t.app===Y);if(1===vt.length)return vt[0]}return Y.container.getProvider(R).getImmediate({optional:!0})}globalThis[_s]||(globalThis[_s]=Na().then(R=>globalThis[Qi]=R).catch(()=>globalThis[Qi]=!1)),globalThis[li]||(globalThis[li]=$s().then(R=>globalThis[oo]=R).catch(()=>globalThis[oo]=!1)),globalThis[va]||(globalThis[va]=Ss().then(R=>globalThis[_i]=R).catch(()=>globalThis[_i]=!1));const _=(R,$)=>{const Y=$?[$]:(0,B.C6)(),Te=[];return Y.forEach(nt=>{nt.container.getProvider(R).instances.forEach($t=>{Te.includes($t)||Te.push($t)})}),Te};function w(){}class L{constructor($,Y=es){this.zone=$,this.delegate=Y}now(){return this.delegate.now()}schedule($,Y,Te){const nt=this.zone;return this.delegate.schedule(function($t){nt.runGuarded(()=>{$.apply(this,[$t])})},Y,Te)}}class W{constructor($){this.zone=$,this.task=null}call($,Y){const Te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",w,{},w,w)),Y.pipe((0,ti.b)({next:Te,complete:Te,error:Te})).subscribe($).add(Te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let K=(()=>{class R{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new L(Zone.current)),this.insideAngular=Y.run(()=>new L(Zone.current,ma.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(Y){return new(Y||R)(a.LFG(a.R0b))},R.\u0275prov=a.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Ge(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function It(R){return Ge().ngZone.runOutsideAngular(()=>R())}function Wt(R){return Ge().ngZone.run(()=>R())}function wr(R){return Ge(),function pi(R){return function(Y){return(Y=Y.lift(new W(R.ngZone))).pipe((0,ya.R)(R.outsideAngular),(0,vs.Q)(R.insideAngular))}}(Ge())(R)}const gi=(R,$)=>function(){const Te=arguments;return $&&setTimeout(()=>{"scheduled"===$.state&&$.invoke()},10),Wt(()=>R.apply(void 0,Te))},Uo=(R,$)=>function(){let Y;const Te=arguments;for(let vt=0;vt<arguments.length;vt++)"function"==typeof Te[vt]&&($&&(Y||(Y=Wt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",w,{},w,w)))),Te[vt]=gi(Te[vt],Y));const nt=It(()=>R.apply(this,Te));if(!$){if(nt instanceof ts.y){const vt=Ge();return nt.pipe((0,ya.R)(vt.outsideAngular),(0,vs.Q)(vt.insideAngular))}return Wt(()=>nt)}return nt instanceof ts.y?nt.pipe(wr):nt instanceof Promise?Wt(()=>new Promise((vt,$t)=>nt.then(Cn=>Wt(()=>vt(Cn)),Cn=>Wt(()=>$t(Cn))))):"function"==typeof nt&&Y?function(){return setTimeout(()=>{Y&&"scheduled"===Y.state&&Y.invoke()},10),nt.apply(this,arguments)}:Wt(()=>nt)}},2722:(zt,rt,k)=>{"use strict";k.d(rt,{$:()=>No,A:()=>ae,B:()=>Fe,G:()=>eo,H:()=>Zn,J:()=>Dr,L:()=>Ae,M:()=>Eo,N:()=>no,P:()=>ma,Q:()=>qo,R:()=>ra,T:()=>ps,U:()=>Mi,V:()=>Ui,W:()=>Ki,X:()=>bi,Y:()=>Hr,Z:()=>bo,_:()=>wo,a:()=>nr,a0:()=>Xs,a1:()=>Zo,a2:()=>Un,a3:()=>Ns,a4:()=>Bo,a5:()=>Fs,a6:()=>So,a7:()=>x,a8:()=>m,a9:()=>f,aA:()=>_e,aB:()=>Cn,aC:()=>Wt,aD:()=>It,aE:()=>Kn,aI:()=>Dn,aL:()=>ci,aa:()=>Lt,ab:()=>Tn,ac:()=>lr,af:()=>hi,ag:()=>Fi,ah:()=>Qs,ak:()=>xi,al:()=>Js,an:()=>Ga,ao:()=>na,ap:()=>je,aq:()=>oe,ar:()=>en,as:()=>Ye,at:()=>yu,au:()=>_a,av:()=>lt,aw:()=>We,ax:()=>Q,ay:()=>Ji,az:()=>Ve,b:()=>Ct,c:()=>va,d:()=>Ol,e:()=>li,f:()=>wr,g:()=>Y,h:()=>Uo,i:()=>On,j:()=>vt,k:()=>ll,l:()=>Rl,m:()=>Ju,n:()=>$c,o:()=>Ie,r:()=>hu,s:()=>il,u:()=>es});var a=k(5861),B=k(2090),N=k(9681),pe=k(1877),ue=k(655),ye=k(4859);const Ie={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ae={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Fe=function fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},qe=function Ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dt=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),de=new pe.Yd("@firebase/auth");function ne(b,...g){de.logLevel<=pe.in.ERROR&&de.error(`Auth (${N.SDK_VERSION}): ${b}`,...g)}function Ye(b,...g){throw we(b,...g)}function We(b,...g){return we(b,...g)}function Xe(b,g,v){const A=Object.assign(Object.assign({},qe()),{[g]:v});return new B.LL("auth","Firebase",A).create(g,{appName:b.name})}function De(b,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&Ye(b,"argument-error"),Xe(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function we(b,...g){if("string"!=typeof b){const v=g[0],A=[...g.slice(1)];return A[0]&&(A[0].appName=b.name),b._errorFactory.create(v,...A)}return dt.create(b,...g)}function Q(b,g,...v){if(!b)throw we(g,...v)}function te(b){const g="INTERNAL ASSERTION FAILED: "+b;throw ne(g),new Error(g)}function je(b,g){b||te(g)}const Pe=new Map;function Ve(b){je(b instanceof Function,"Expected a class definition");let g=Pe.get(b);return g?(je(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,Pe.set(b,g),g)}function He(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function it(){return"http:"===at()||"https:"===at()}function at(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Se{constructor(g,v){this.shortDelay=g,this.longDelay=v,je(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function xe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(it()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Je(b,g){je(b.emulator,"Emulator should always be set here");const{url:v}=b.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class Ue{static initialize(g,v,A){this.fetchImpl=g,v&&(this.headersImpl=v),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const st={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ze=new Se(3e4,6e4);function _t(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function bt(b,g,v,A){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,a.Z)(function*(b,g,v,A,q={}){return Gt(b,q,(0,a.Z)(function*(){let se={},ft={};A&&("GET"===g?ft=A:se={body:JSON.stringify(A)});const Vt=(0,B.xO)(Object.assign({key:b.config.apiKey},ft)).slice(1),bn=yield b._getAdditionalHeaders();return bn["Content-Type"]="application/json",b.languageCode&&(bn["X-Firebase-Locale"]=b.languageCode),Ue.fetch()(Sn(b,b.config.apiHost,v,Vt),Object.assign({method:g,headers:bn,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function Gt(b,g,v){return wt.apply(this,arguments)}function wt(){return(wt=(0,a.Z)(function*(b,g,v){b._canInitEmulator=!1;const A=Object.assign(Object.assign({},st),g);try{const q=new Ht(b),se=yield Promise.race([v(),q.promise]);q.clearNetworkTimeout();const ft=yield se.json();if("needConfirmation"in ft)throw Fn(b,"account-exists-with-different-credential",ft);if(se.ok&&!("errorMessage"in ft))return ft;{const Vt=se.ok?ft.errorMessage:ft.error.message,[bn,Mn]=Vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===bn)throw Fn(b,"credential-already-in-use",ft);if("EMAIL_EXISTS"===bn)throw Fn(b,"email-already-in-use",ft);if("USER_DISABLED"===bn)throw Fn(b,"user-disabled",ft);const sr=A[bn]||bn.toLowerCase().replace(/[_\s]+/g,"-");if(Mn)throw Xe(b,sr,Mn);Ye(b,sr)}}catch(q){if(q instanceof B.ZR)throw q;Ye(b,"network-request-failed")}})).apply(this,arguments)}function nn(b,g,v,A){return wn.apply(this,arguments)}function wn(){return(wn=(0,a.Z)(function*(b,g,v,A,q={}){const se=yield bt(b,g,v,A,q);return"mfaPendingCredential"in se&&Ye(b,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function Sn(b,g,v,A){const q=`${g}${v}?${A}`;return b.config.emulator?Je(b.config,q):`${b.config.apiScheme}://${q}`}class Ht{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,A)=>{this.timer=setTimeout(()=>A(We(this.auth,"network-request-failed")),Ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fn(b,g,v){const A={appName:b.name};v.email&&(A.email=v.email),v.phoneNumber&&(A.phoneNumber=v.phoneNumber);const q=We(b,g,A);return q.customData._tokenResponse=v,q}function ur(){return(ur=(0,a.Z)(function*(b,g){return bt(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Ln(b,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,a.Z)(function*(b,g){return bt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Nt(b,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,a.Z)(function*(b,g){return bt(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Gn(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Vn(){return(Vn=(0,a.Z)(function*(b,g=!1){const v=(0,B.m9)(b),A=yield v.getIdToken(g),q=Qt(A);Q(q&&q.exp&&q.auth_time&&q.iat,v.auth,"internal-error");const se="object"==typeof q.firebase?q.firebase:void 0,ft=null==se?void 0:se.sign_in_provider;return{claims:q,token:A,authTime:Gn(ln(q.auth_time)),issuedAtTime:Gn(ln(q.iat)),expirationTime:Gn(ln(q.exp)),signInProvider:ft||null,signInSecondFactor:(null==se?void 0:se.sign_in_second_factor)||null}})).apply(this,arguments)}function ln(b){return 1e3*Number(b)}function Qt(b){const[g,v,A]=b.split(".");if(void 0===g||void 0===v||void 0===A)return ne("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,B.tV)(v);return q?JSON.parse(q):(ne("Failed to decode base64 JWT payload"),null)}catch(q){return ne("Caught error parsing JWT payload as JSON",null==q?void 0:q.toString()),null}}function Hn(b,g){return rn.apply(this,arguments)}function rn(){return(rn=(0,a.Z)(function*(b,g,v=!1){if(v)return g;try{return yield g}catch(A){throw A instanceof B.ZR&&cr(A)&&b.auth.currentUser===b&&(yield b.auth.signOut()),A}})).apply(this,arguments)}function cr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Rt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const q=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const A=this.getInterval(g);this.timerId=setTimeout((0,a.Z)(function*(){yield v.iteration()}),A)}iteration(){var g=this;return(0,a.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===(null==v?void 0:v.code)&&g.schedule(!0))}g.schedule()})()}}class dr{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gn(this.lastLoginAt),this.creationTime=Gn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rr(b){return kn.apply(this,arguments)}function kn(){return(kn=(0,a.Z)(function*(b){var g;const v=b.auth,A=yield b.getIdToken(),q=yield Hn(b,Nt(v,{idToken:A}));Q(null==q?void 0:q.users.length,v,"internal-error");const se=q.users[0];b._notifyReloadListener(se);const ft=null!==(g=se.providerUserInfo)&&void 0!==g&&g.length?or(se.providerUserInfo):[],Vt=In(b.providerData,ft),sr=!!b.isAnonymous&&!(b.email&&se.passwordHash||null!=Vt&&Vt.length),wi={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:Vt,metadata:new dr(se.createdAt,se.lastLoginAt),isAnonymous:sr};Object.assign(b,wi)})).apply(this,arguments)}function xn(){return(xn=(0,a.Z)(function*(b){const g=(0,B.m9)(b);yield Rr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function In(b,g){return[...b.filter(A=>!g.some(q=>q.providerId===A.providerId)),...g]}function or(b){return b.map(g=>{var{providerId:v}=g,A=(0,ue._T)(g,["providerId"]);return{providerId:v,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Et(){return(Et=(0,a.Z)(function*(b,g){const v=yield Gt(b,{},(0,a.Z)(function*(){const A=(0,B.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:q,apiKey:se}=b.config,ft=Sn(b,q,"/v1/token",`key=${se}`),Vt=yield b._getAdditionalHeaders();return Vt["Content-Type"]="application/x-www-form-urlencoded",Ue.fetch()(ft,{method:"POST",headers:Vt,body:A})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Q(g.idToken,"internal-error"),Q(typeof g.idToken<"u","internal-error"),Q(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function gn(b){const g=Qt(b);return Q(g,"internal-error"),Q(typeof g.exp<"u","internal-error"),Q(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}getToken(g,v=!1){var A=this;return(0,a.Z)(function*(){return Q(!A.accessToken||A.refreshToken,g,"user-token-expired"),v||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(g,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var A=this;return(0,a.Z)(function*(){const{accessToken:q,refreshToken:se,expiresIn:ft}=yield function xt(b,g){return Et.apply(this,arguments)}(g,v);A.updateTokensAndExpiration(q,se,Number(ft))})()}updateTokensAndExpiration(g,v,A){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(g,v){const{refreshToken:A,accessToken:q,expirationTime:se}=v,ft=new qt;return A&&(Q("string"==typeof A,"internal-error",{appName:g}),ft.refreshToken=A),q&&(Q("string"==typeof q,"internal-error",{appName:g}),ft.accessToken=q),se&&(Q("number"==typeof se,"internal-error",{appName:g}),ft.expirationTime=se),ft}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new qt,this.toJSON())}_performRefresh(){return te("not implemented")}}function un(b,g){Q("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class dn{constructor(g){var{uid:v,auth:A,stsTokenManager:q}=g,se=(0,ue._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=A,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new dr(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,a.Z)(function*(){const A=yield Hn(v,v.stsTokenManager.getToken(v.auth,g));return Q(A,v.auth,"internal-error"),v.accessToken!==A&&(v.accessToken=A,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),A})()}getIdTokenResult(g){return function Ir(b){return Vn.apply(this,arguments)}(this,g)}reload(){return function Fr(b){return xn.apply(this,arguments)}(this)}_assign(g){this!==g&&(Q(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new dn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var A=this;return(0,a.Z)(function*(){let q=!1;g.idToken&&g.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(g),q=!0),v&&(yield Rr(A)),yield A.auth._persistUserIfCurrent(A),q&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var g=this;return(0,a.Z)(function*(){const v=yield g.getIdToken();return yield Hn(g,function Jn(b,g){return ur.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var A,q,se,ft,Vt,bn,Mn,sr;const wi=null!==(A=v.displayName)&&void 0!==A?A:void 0,Ro=null!==(q=v.email)&&void 0!==q?q:void 0,oa=null!==(se=v.phoneNumber)&&void 0!==se?se:void 0,Ia=null!==(ft=v.photoURL)&&void 0!==ft?ft:void 0,Ya=null!==(Vt=v.tenantId)&&void 0!==Vt?Vt:void 0,Nl=null!==(bn=v._redirectEventId)&&void 0!==bn?bn:void 0,ul=null!==(Mn=v.createdAt)&&void 0!==Mn?Mn:void 0,Hd=null!==(sr=v.lastLoginAt)&&void 0!==sr?sr:void 0,{uid:Du,emailVerified:Ci,isAnonymous:bu,providerData:Fl,stsTokenManager:Bc}=v;Q(Du&&Bc,g,"internal-error");const Tf=qt.fromJSON(this.name,Bc);Q("string"==typeof Du,g,"internal-error"),un(wi,g.name),un(Ro,g.name),Q("boolean"==typeof Ci,g,"internal-error"),Q("boolean"==typeof bu,g,"internal-error"),un(oa,g.name),un(Ia,g.name),un(Ya,g.name),un(Nl,g.name),un(ul,g.name),un(Hd,g.name);const cl=new dn({uid:Du,auth:g,email:Ro,emailVerified:Ci,displayName:wi,isAnonymous:bu,photoURL:Ia,phoneNumber:oa,tenantId:Ya,stsTokenManager:Tf,createdAt:ul,lastLoginAt:Hd});return Fl&&Array.isArray(Fl)&&(cl.providerData=Fl.map(zd=>Object.assign({},zd))),Nl&&(cl._redirectEventId=Nl),cl}static _fromIdTokenResponse(g,v,A=!1){return(0,a.Z)(function*(){const q=new qt;q.updateFromServerResponse(v);const se=new dn({uid:v.localId,auth:g,stsTokenManager:q,isAnonymous:A});return yield Rr(se),se})()}}const Ae=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(v,A){var q=this;return(0,a.Z)(function*(){q.storage[v]=A})()}_get(v){var A=this;return(0,a.Z)(function*(){const q=A.storage[v];return void 0===q?null:q})()}_remove(v){var A=this;return(0,a.Z)(function*(){delete A.storage[v]})()}_addListener(v,A){}_removeListener(v,A){}}return b.type="NONE",b})();function _e(b,g,v){return`firebase:${b}:${g}:${v}`}class $e{constructor(g,v,A){this.persistence=g,this.auth=v,this.userKey=A;const{config:q,name:se}=this.auth;this.fullUserKey=_e(this.userKey,q.apiKey,se),this.fullPersistenceKey=_e("persistence",q.apiKey,se),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,a.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?dn._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,a.Z)(function*(){if(v.persistence===g)return;const A=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,A?v.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,A="authUser"){return(0,a.Z)(function*(){if(!v.length)return new $e(Ve(Ae),g,A);const q=(yield Promise.all(v.map(function(){var Mn=(0,a.Z)(function*(sr){if(yield sr._isAvailable())return sr});return function(sr){return Mn.apply(this,arguments)}}()))).filter(Mn=>Mn);let se=q[0]||Ve(Ae);const ft=_e(A,g.config.apiKey,g.name);let Vt=null;for(const Mn of v)try{const sr=yield Mn._get(ft);if(sr){const wi=dn._fromJSON(g,sr);Mn!==se&&(Vt=wi),se=Mn;break}}catch(sr){}const bn=q.filter(Mn=>Mn._shouldAllowMigration);return se._shouldAllowMigration&&bn.length?(se=bn[0],Vt&&(yield se._set(ft,Vt.toJSON())),yield Promise.all(v.map(function(){var Mn=(0,a.Z)(function*(sr){if(sr!==se)try{yield sr._remove(ft)}catch(wi){}});return function(sr){return Mn.apply(this,arguments)}}())),new $e(se,g,A)):new $e(se,g,A)})()}}function he(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Tt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(X(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Oe(g))return"Blackberry";if(Re(g))return"Webos";if(ge(g))return"Safari";if((g.includes("chrome/")||ut(g))&&!g.includes("edge/"))return"Chrome";if(en(g))return"Android";{const A=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function X(b=(0,B.z$)()){return/firefox\//i.test(b)}function ge(b=(0,B.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ut(b=(0,B.z$)()){return/crios\//i.test(b)}function Tt(b=(0,B.z$)()){return/iemobile/i.test(b)}function en(b=(0,B.z$)()){return/android/i.test(b)}function Oe(b=(0,B.z$)()){return/blackberry/i.test(b)}function Re(b=(0,B.z$)()){return/webos/i.test(b)}function oe(b=(0,B.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function lt(b=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function sn(b=(0,B.z$)()){return oe(b)||en(b)||Re(b)||Oe(b)||/windows phone/i.test(b)||Tt(b)}function mr(b,g=[]){let v;switch(b){case"Browser":v=he((0,B.z$)());break;case"Worker":v=`${he((0,B.z$)())}-${b}`;break;default:v=b}const A=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${N.SDK_VERSION}/${A}`}class ui{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const A=se=>new Promise((ft,Vt)=>{try{ft(g(se))}catch(bn){Vt(bn)}});A.onAbort=v,this.queue.push(A);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,a.Z)(function*(){if(v.auth.currentUser===g)return;const A=[];try{for(const q of v.queue)yield q(g),q.onAbort&&A.push(q.onAbort)}catch(q){A.reverse();for(const se of A)try{se()}catch(ft){}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null==q?void 0:q.message})}})()}}class Tr{constructor(g,v,A){this.app=g,this.heartbeatServiceProvider=v,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jr(this),this.idTokenSubscription=new jr(this),this.beforeStateQueue=new ui(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(g,v){var A=this;return v&&(this._popupRedirectResolver=Ve(v)),this._initializationPromise=this.queue((0,a.Z)(function*(){var q,se;if(!A._deleted&&(A.persistenceManager=yield $e.create(A,g),!A._deleted)){if(null!==(q=A._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(ft){}yield A.initializeCurrentUser(v),A.lastNotifiedUid=(null===(se=A.currentUser)||void 0===se?void 0:se.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,a.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUser(g){var v=this;return(0,a.Z)(function*(){var A;const q=yield v.assertedPersistence.getCurrentUser();let se=q,ft=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Vt=null===(A=v.redirectUser)||void 0===A?void 0:A._redirectEventId,bn=null==se?void 0:se._redirectEventId,Mn=yield v.tryRedirectSignIn(g);(!Vt||Vt===bn)&&null!=Mn&&Mn.user&&(se=Mn.user,ft=!0)}if(!se)return v.directlySetCurrentUser(null);if(!se._redirectEventId){if(ft)try{yield v.beforeStateQueue.runMiddleware(se)}catch(Vt){se=q,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Vt))}return se?v.reloadAndSetCurrentUserOrClear(se):v.directlySetCurrentUser(null)}return Q(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===se._redirectEventId?v.directlySetCurrentUser(se):v.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(g){var v=this;return(0,a.Z)(function*(){let A=null;try{A=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch(q){yield v._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,a.Z)(function*(){try{yield Rr(g)}catch(A){if("auth/network-request-failed"!==(null==A?void 0:A.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Me(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,a.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,a.Z)(function*(){const A=g?(0,B.m9)(g):null;return A&&Q(A.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(A&&A._clone(v))})()}_updateCurrentUser(g,v=!1){var A=this;return(0,a.Z)(function*(){if(!A._deleted)return g&&Q(A.tenantId===g.tenantId,A,"tenant-id-mismatch"),v||(yield A.beforeStateQueue.runMiddleware(g)),A.queue((0,a.Z)(function*(){yield A.directlySetCurrentUser(g),A.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,a.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var v=this;return this.queue((0,a.Z)(function*(){yield v.assertedPersistence.setPersistence(Ve(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new B.LL("auth","Firebase",g())}onAuthStateChanged(g,v,A){return this.registerStateListener(this.authStateSubscription,g,v,A)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,A){return this.registerStateListener(this.idTokenSubscription,g,v,A)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var A=this;return(0,a.Z)(function*(){const q=yield A.getOrInitRedirectPersistenceManager(v);return null===g?q.removeCurrentUser():q.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,a.Z)(function*(){if(!v.redirectPersistenceManager){const A=g&&Ve(g)||v._popupRedirectResolver;Q(A,v,"argument-error"),v.redirectPersistenceManager=yield $e.create(v,[Ve(A._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,a.Z)(function*(){var A,q;return v._isInitialized&&(yield v.queue((0,a.Z)(function*(){}))),(null===(A=v._currentUser)||void 0===A?void 0:A._redirectEventId)===g?v._currentUser:(null===(q=v.redirectUser)||void 0===q?void 0:q._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,a.Z)(function*(){if(g===v.currentUser)return v.queue((0,a.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,A,q){if(this._deleted)return()=>{};const se="function"==typeof v?v:v.next.bind(v),ft=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(ft,this,"internal-error"),ft.then(()=>se(this.currentUser)),"function"==typeof v?g.addObserver(v,A,q):g.addObserver(v)}directlySetCurrentUser(g){var v=this;return(0,a.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=mr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,a.Z)(function*(){var v;const A={"X-Client-Version":g.clientVersion};g.app.options.appId&&(A["X-Firebase-gmpid"]=g.app.options.appId);const q=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return q&&(A["X-Firebase-Client"]=q),A})()}}function Kn(b){return(0,B.m9)(b)}class jr{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,B.ne)(v=>this.observer=v)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function eo(b,g,v){const A=Kn(b);Q(A._canInitEmulator,A,"emulator-config-failed"),Q(/^https?:\/\//.test(g),A,"invalid-emulator-scheme");const q=!(null==v||!v.disableWarnings),se=oi(g),{host:ft,port:Vt}=function qr(b){const g=oi(b),v=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!v)return{host:"",port:null};const A=v[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(A);if(q){const se=q[1];return{host:se,port:Si(A.substr(se.length+1))}}{const[se,ft]=A.split(":");return{host:se,port:Si(ft)}}}(g);A.config.emulator={url:`${se}//${ft}${null===Vt?"":`:${Vt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:ft,port:Vt,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function Nn(){function b(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function oi(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Si(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class Zn{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return te("not implemented")}_getIdTokenResponse(g){return te("not implemented")}_linkToIdToken(g,v){return te("not implemented")}_getReauthenticationResolver(g){return te("not implemented")}}function Ar(b,g){return rr.apply(this,arguments)}function rr(){return(rr=(0,a.Z)(function*(b,g){return bt(b,"POST","/v1/accounts:resetPassword",_t(b,g))})).apply(this,arguments)}function Lr(b,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,a.Z)(function*(b,g){return bt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Jt(b,g){return _n.apply(this,arguments)}function _n(){return(_n=(0,a.Z)(function*(b,g){return bt(b,"POST","/v1/accounts:update",_t(b,g))})).apply(this,arguments)}function Yr(){return(Yr=(0,a.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:signInWithPassword",_t(b,g))})).apply(this,arguments)}function Qr(b,g){return et.apply(this,arguments)}function et(){return(et=(0,a.Z)(function*(b,g){return bt(b,"POST","/v1/accounts:sendOobCode",_t(b,g))})).apply(this,arguments)}function F(b,g){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)(function*(b,g){return Qr(b,g)})).apply(this,arguments)}function ie(b,g){return me.apply(this,arguments)}function me(){return(me=(0,a.Z)(function*(b,g){return Qr(b,g)})).apply(this,arguments)}function Be(b,g){return ee.apply(this,arguments)}function ee(){return(ee=(0,a.Z)(function*(b,g){return Qr(b,g)})).apply(this,arguments)}function ke(b,g){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,a.Z)(function*(b,g){return Qr(b,g)})).apply(this,arguments)}function Dt(){return(Dt=(0,a.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:signInWithEmailLink",_t(b,g))})).apply(this,arguments)}function on(){return(on=(0,a.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:signInWithEmailLink",_t(b,g))})).apply(this,arguments)}class an extends Zn{constructor(g,v,A,q=null){super("password",A),this._email=g,this._password=v,this._tenantId=q}static _fromEmailAndPassword(g,v){return new an(g,v,"password")}static _fromEmailAndCode(g,v,A=null){return new an(g,v,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(null!=v&&v.email&&null!=v&&v.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,a.Z)(function*(){switch(v.signInMethod){case"password":return function fr(b,g){return Yr.apply(this,arguments)}(g,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function pt(b,g){return Dt.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:Ye(g,"internal-error")}})()}_linkToIdToken(g,v){var A=this;return(0,a.Z)(function*(){switch(A.signInMethod){case"password":return Lr(g,{idToken:v,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Bt(b,g){return on.apply(this,arguments)}(g,{idToken:v,email:A._email,oobCode:A._password});default:Ye(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function er(b,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:signInWithIdp",_t(b,g))})).apply(this,arguments)}class Dr extends Zn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new Dr(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):Ye("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:q}=v,se=(0,ue._T)(v,["providerId","signInMethod"]);if(!A||!q)return null;const ft=new Dr(A,q);return ft.idToken=se.idToken||void 0,ft.accessToken=se.accessToken||void 0,ft.secret=se.secret,ft.nonce=se.nonce,ft.pendingToken=se.pendingToken||null,ft}_getIdTokenResponse(g){return er(g,this.buildRequest())}_linkToIdToken(g,v){const A=this.buildRequest();return A.idToken=v,er(g,A)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,er(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,B.xO)(v)}return g}}function Yi(b,g){return _o.apply(this,arguments)}function _o(){return(_o=(0,a.Z)(function*(b,g){return bt(b,"POST","/v1/accounts:sendVerificationCode",_t(b,g))})).apply(this,arguments)}function Ti(){return(Ti=(0,a.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:signInWithPhoneNumber",_t(b,g))})).apply(this,arguments)}function Kr(){return(Kr=(0,a.Z)(function*(b,g){const v=yield nn(b,"POST","/v1/accounts:signInWithPhoneNumber",_t(b,g));if(v.temporaryProof)throw Fn(b,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const ks={USER_NOT_FOUND:"user-not-found"};function ii(){return(ii=(0,a.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:signInWithPhoneNumber",_t(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ks)})).apply(this,arguments)}class Vi extends Zn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new Vi({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new Vi({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function to(b,g){return Ti.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function yi(b,g){return Kr.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function ri(b,g){return ii.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:A,verificationCode:q}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:A,code:q}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:A,phoneNumber:q,temporaryProof:se}=g;return A||v||q||se?new Vi({verificationId:v,verificationCode:A,phoneNumber:q,temporaryProof:se}):null}}class Jr{constructor(g){var v,A,q,se,ft,Vt;const bn=(0,B.zd)((0,B.pd)(g)),Mn=null!==(v=bn.apiKey)&&void 0!==v?v:null,sr=null!==(A=bn.oobCode)&&void 0!==A?A:null,wi=function ss(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=bn.mode)&&void 0!==q?q:null);Q(Mn&&sr&&wi,"argument-error"),this.apiKey=Mn,this.operation=wi,this.code=sr,this.continueUrl=null!==(se=bn.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(ft=bn.languageCode)&&void 0!==ft?ft:null,this.tenantId=null!==(Vt=bn.tenantId)&&void 0!==Vt?Vt:null}static parseLink(g){const v=function as(b){const g=(0,B.zd)((0,B.pd)(b)).link,v=g?(0,B.zd)((0,B.pd)(g)).deep_link_id:null,A=(0,B.zd)((0,B.pd)(b)).deep_link_id;return(A?(0,B.zd)((0,B.pd)(A)).link:null)||A||v||g||b}(g);try{return new Jr(v)}catch(A){return null}}}let Eo=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(v,A){return an._fromEmailAndPassword(v,A)}static credentialWithLink(v,A){const q=Jr.parseLink(A);return Q(q,"argument-error"),an._fromEmailAndCode(v,q.code,q.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ai{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ao extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Mi extends ao{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return Q("providerId"in v&&"signInMethod"in v,"argument-error"),Dr._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Q(g.idToken||g.accessToken,"argument-error"),Dr._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Mi.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Mi.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:A,oauthTokenSecret:q,pendingToken:se,nonce:ft,providerId:Vt}=g;if(!A&&!q&&!v&&!se||!Vt)return null;try{return new Mi(Vt)._credential({idToken:v,accessToken:A,nonce:ft,pendingToken:se})}catch(bn){return null}}}let no=(()=>{class b extends ao{constructor(){super("facebook.com")}static credential(v){return Dr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return b.credentialFromTaggedObject(v)}static credentialFromError(v){return b.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return b.credential(v.oauthAccessToken)}catch(A){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),qo=(()=>{class b extends ao{constructor(){super("google.com"),this.addScope("profile")}static credential(v,A){return Dr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:A})}static credentialFromResult(v){return b.credentialFromTaggedObject(v)}static credentialFromError(v){return b.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:A,oauthAccessToken:q}=v;if(!A&&!q)return null;try{return b.credential(A,q)}catch(se){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),ps=(()=>{class b extends ao{constructor(){super("github.com")}static credential(v){return Dr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return b.credentialFromTaggedObject(v)}static credentialFromError(v){return b.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return b.credential(v.oauthAccessToken)}catch(A){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ci extends Zn{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return er(g,this.buildRequest())}_linkToIdToken(g,v){const A=this.buildRequest();return A.idToken=v,er(g,A)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,er(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:q,pendingToken:se}=v;return A&&q&&se&&A===q?new ci(A,se):null}static _create(g,v){return new ci(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ui extends Ai{constructor(g){Q(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Ui.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Ui.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=ci.fromJSON(g);return Q(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:A}=g;if(!v||!A)return null;try{return ci._create(A,v)}catch(q){return null}}}let Ki=(()=>{class b extends ao{constructor(){super("twitter.com")}static credential(v,A){return Dr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:A})}static credentialFromResult(v){return b.credentialFromTaggedObject(v)}static credentialFromError(v){return b.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:A,oauthTokenSecret:q}=v;if(!A||!q)return null;try{return b.credential(A,q)}catch(se){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Ts(b,g){return Po.apply(this,arguments)}function Po(){return(Po=(0,a.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:signUp",_t(b,g))})).apply(this,arguments)}class Di{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,A,q=!1){return(0,a.Z)(function*(){const se=yield dn._fromIdTokenResponse(g,A,q),ft=Pi(A);return new Di({user:se,providerId:ft,_tokenResponse:A,operationType:v})})()}static _forOperation(g,v,A){return(0,a.Z)(function*(){yield g._updateTokensIfNecessary(A,!0);const q=Pi(A);return new Di({user:g,providerId:q,_tokenResponse:A,operationType:v})})()}}function Pi(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function bi(b){return lo.apply(this,arguments)}function lo(){return(lo=(0,a.Z)(function*(b){var g;const v=Kn(b);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new Di({user:v.currentUser,providerId:null,operationType:"signIn"});const A=yield Ts(v,{returnSecureToken:!0}),q=yield Di._fromIdTokenResponse(v,"signIn",A,!0);return yield v._updateCurrentUser(q.user),q})).apply(this,arguments)}class uo extends B.ZR{constructor(g,v,A,q){var se;super(v.code,v.message),this.operationType=A,this.user=q,Object.setPrototypeOf(this,uo.prototype),this.customData={appName:g.name,tenantId:null!==(se=g.tenantId)&&void 0!==se?se:void 0,_serverResponse:v.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(g,v,A,q){return new uo(g,v,A,q)}}function As(b,g,v,A){return("reauthenticate"===g?v._getReauthenticationResolver(b):v._getIdTokenResponse(b)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?uo._fromErrorAndOperation(b,se,g,A):se})}function ar(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function xi(b,g){return ki.apply(this,arguments)}function ki(){return(ki=(0,a.Z)(function*(b,g){const v=(0,B.m9)(b);yield Ri(!0,v,g);const{providerUserInfo:A}=yield Ln(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),q=ar(A||[]);return v.providerData=v.providerData.filter(se=>q.has(se.providerId)),q.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function ji(b,g){return ko.apply(this,arguments)}function ko(){return(ko=(0,a.Z)(function*(b,g,v=!1){const A=yield Hn(b,g._linkToIdToken(b.auth,yield b.getIdToken()),v);return Di._forOperation(b,"link",A)})).apply(this,arguments)}function Ri(b,g,v){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,a.Z)(function*(b,g,v){yield Rr(g);const q=!1===b?"provider-already-linked":"no-such-provider";Q(ar(g.providerData).has(v)===b,g.auth,q)})).apply(this,arguments)}function co(b,g){return Do.apply(this,arguments)}function Do(){return(Do=(0,a.Z)(function*(b,g,v=!1){const{auth:A}=b,q="reauthenticate";try{const se=yield Hn(b,As(A,q,g,b),v);Q(se.idToken,A,"internal-error");const ft=Qt(se.idToken);Q(ft,A,"internal-error");const{sub:Vt}=ft;return Q(b.uid===Vt,A,"user-mismatch"),Di._forOperation(b,q,se)}catch(se){throw"auth/user-not-found"===(null==se?void 0:se.code)&&Ye(A,"user-mismatch"),se}})).apply(this,arguments)}function Ko(b,g){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,a.Z)(function*(b,g,v=!1){const A="signIn",q=yield As(b,A,g),se=yield Di._fromIdTokenResponse(b,A,q);return v||(yield b._updateCurrentUser(se.user)),se})).apply(this,arguments)}function Hr(b,g){return $r.apply(this,arguments)}function $r(){return($r=(0,a.Z)(function*(b,g){return Ko(Kn(b),g)})).apply(this,arguments)}function bo(b,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,a.Z)(function*(b,g){const v=(0,B.m9)(b);return yield Ri(!1,v,g.providerId),ji(v,g)})).apply(this,arguments)}function wo(b,g){return Co.apply(this,arguments)}function Co(){return(Co=(0,a.Z)(function*(b,g){return co((0,B.m9)(b),g)})).apply(this,arguments)}function di(b,g){return ho.apply(this,arguments)}function ho(){return(ho=(0,a.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:signInWithCustomToken",_t(b,g))})).apply(this,arguments)}function No(b,g){return ro.apply(this,arguments)}function ro(){return(ro=(0,a.Z)(function*(b,g){const v=Kn(b),A=yield di(v,{token:g,returnSecureToken:!0}),q=yield Di._fromIdTokenResponse(v,"signIn",A);return yield v._updateCurrentUser(q.user),q})).apply(this,arguments)}class si{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?fo._fromServerResponse(g,v):Ye(g,"internal-error")}}class fo extends si{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new fo(v)}}function ai(b,g,v){var A;Q((null===(A=v.url)||void 0===A?void 0:A.length)>0,b,"invalid-continue-uri"),Q(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Q(v.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(Q(v.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function Xs(b,g,v){return vi.apply(this,arguments)}function vi(){return(vi=(0,a.Z)(function*(b,g,v){const A=(0,B.m9)(b),q={requestType:"PASSWORD_RESET",email:g};v&&ai(A,q,v),yield ie(A,q)})).apply(this,arguments)}function Zo(b,g,v){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,a.Z)(function*(b,g,v){yield Ar((0,B.m9)(b),{oobCode:g,newPassword:v})})).apply(this,arguments)}function Un(b,g){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,a.Z)(function*(b,g){yield Jt((0,B.m9)(b),{oobCode:g})})).apply(this,arguments)}function Ns(b,g){return $o.apply(this,arguments)}function $o(){return($o=(0,a.Z)(function*(b,g){const v=(0,B.m9)(b),A=yield Ar(v,{oobCode:g}),q=A.requestType;switch(Q(q,v,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(A.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(A.mfaInfo,v,"internal-error");default:Q(A.email,v,"internal-error")}let se=null;return A.mfaInfo&&(se=si._fromServerResponse(Kn(v),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:se},operation:q}})).apply(this,arguments)}function Bo(b,g){return io.apply(this,arguments)}function io(){return(io=(0,a.Z)(function*(b,g){const{data:v}=yield Ns((0,B.m9)(b),g);return v.email})).apply(this,arguments)}function Fs(b,g,v){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,a.Z)(function*(b,g,v){const A=Kn(b),q=yield Ts(A,{returnSecureToken:!0,email:g,password:v}),se=yield Di._fromIdTokenResponse(A,"signIn",q);return yield A._updateCurrentUser(se.user),se})).apply(this,arguments)}function So(b,g,v){return Hr((0,B.m9)(b),Eo.credential(g,v))}function x(b,g,v){return c.apply(this,arguments)}function c(){return(c=(0,a.Z)(function*(b,g,v){const A=(0,B.m9)(b),q={requestType:"EMAIL_SIGNIN",email:g};Q(v.handleCodeInApp,A,"argument-error"),v&&ai(A,q,v),yield Be(A,q)})).apply(this,arguments)}function m(b,g){const v=Jr.parseLink(g);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function f(b,g,v){return T.apply(this,arguments)}function T(){return(T=(0,a.Z)(function*(b,g,v){const A=(0,B.m9)(b),q=Eo.credentialWithLink(g,v||He());return Q(q._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Hr(A,q)})).apply(this,arguments)}function G(b,g){return ot.apply(this,arguments)}function ot(){return(ot=(0,a.Z)(function*(b,g){return bt(b,"POST","/v1/accounts:createAuthUri",_t(b,g))})).apply(this,arguments)}function Lt(b,g){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,a.Z)(function*(b,g){const A={identifier:g,continueUri:it()?He():"http://localhost"},{signinMethods:q}=yield G((0,B.m9)(b),A);return q||[]})).apply(this,arguments)}function Tn(b,g){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,a.Z)(function*(b,g){const v=(0,B.m9)(b),q={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&ai(v.auth,q,g);const{email:se}=yield F(v.auth,q);se!==b.email&&(yield b.reload())})).apply(this,arguments)}function lr(b,g,v){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,a.Z)(function*(b,g,v){const A=(0,B.m9)(b),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};v&&ai(A.auth,se,v);const{email:ft}=yield ke(A.auth,se);ft!==b.email&&(yield b.reload())})).apply(this,arguments)}function Or(b,g){return Br.apply(this,arguments)}function Br(){return(Br=(0,a.Z)(function*(b,g){return bt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function hi(b,g){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,a.Z)(function*(b,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const A=(0,B.m9)(b),se={idToken:yield A.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},ft=yield Hn(A,Or(A.auth,se));A.displayName=ft.displayName||null,A.photoURL=ft.photoUrl||null;const Vt=A.providerData.find(({providerId:bn})=>"password"===bn);Vt&&(Vt.displayName=A.displayName,Vt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(ft)})).apply(this,arguments)}function Fi(b,g){return Ms((0,B.m9)(b),g,null)}function Qs(b,g){return Ms((0,B.m9)(b),null,g)}function Ms(b,g,v){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,a.Z)(function*(b,g,v){const{auth:A}=b,se={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(se.email=g),v&&(se.password=v);const ft=yield Hn(b,Lr(A,se));yield b._updateTokensIfNecessary(ft,!0)})).apply(this,arguments)}class ls{constructor(g,v,A={}){this.isNewUser=g,this.providerId=v,this.profile=A}}class Vo extends ls{constructor(g,v,A,q){super(g,v,A),this.username=q}}class Sa extends ls{constructor(g,v){super(g,"facebook.com",v)}}class $s extends Vo{constructor(g,v){super(g,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class xs extends ls{constructor(g,v){super(g,"google.com",v)}}class Ta extends Vo{constructor(g,v,A){super(g,"twitter.com",v,A)}}function Js(b){const{user:g,_tokenResponse:v}=b;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Ha(b){var g,v;if(!b)return null;const{providerId:A}=b,q=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},se=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!A&&null!=b&&b.idToken){const ft=null===(v=null===(g=Qt(b.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(ft)return new ls(se,"anonymous"!==ft&&"custom"!==ft?ft:null)}if(!A)return null;switch(A){case"facebook.com":return new Sa(se,q);case"github.com":return new $s(se,q);case"google.com":return new xs(se,q);case"twitter.com":return new Ta(se,q,b.screenName||null);case"custom":case"anonymous":return new ls(se,null);default:return new ls(se,A,q)}}(v)}class ir{constructor(g,v,A){this.type=g,this.credential=v,this.auth=A}static _fromIdtoken(g,v){return new ir("enroll",g,v)}static _fromMfaPendingCredential(g){return new ir("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,A;if(null!=g&&g.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return ir._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(A=g.multiFactorSession)&&void 0!==A&&A.idToken)return ir._fromIdtoken(g.multiFactorSession.idToken)}return null}}class xa{constructor(g,v,A){this.session=g,this.hints=v,this.signInResolver=A}static _fromError(g,v){const A=Kn(g),q=v.customData._serverResponse,se=(q.mfaInfo||[]).map(Vt=>si._fromServerResponse(A,Vt));Q(q.mfaPendingCredential,A,"internal-error");const ft=ir._fromMfaPendingCredential(q.mfaPendingCredential);return new xa(ft,se,function(){var Vt=(0,a.Z)(function*(bn){const Mn=yield bn._process(A,ft);delete q.mfaInfo,delete q.mfaPendingCredential;const sr=Object.assign(Object.assign({},q),{idToken:Mn.idToken,refreshToken:Mn.refreshToken});switch(v.operationType){case"signIn":const wi=yield Di._fromIdTokenResponse(A,v.operationType,sr);return yield A._updateCurrentUser(wi.user),wi;case"reauthenticate":return Q(v.user,A,"internal-error"),Di._forOperation(v.user,v.operationType,sr);default:Ye(A,"internal-error")}});return function(bn){return Vt.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,a.Z)(function*(){return v.signInResolver(g)})()}}function Ga(b,g){var v;const A=(0,B.m9)(b),q=g;return Q(g.customData.operationType,A,"argument-error"),Q(null===(v=q.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,A,"argument-error"),xa._fromError(A,q)}function fi(b,g){return bt(b,"POST","/v2/accounts/mfaEnrollment:start",_t(b,g))}class ea{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(A=>si._fromServerResponse(g.auth,A)))})}static _fromUser(g){return new ea(g)}getSession(){var g=this;return(0,a.Z)(function*(){return ir._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,v){var A=this;return(0,a.Z)(function*(){const q=g,se=yield A.getSession(),ft=yield Hn(A.user,q._process(A.user.auth,se,v));return yield A.user._updateTokensIfNecessary(ft),A.user.reload()})()}unenroll(g){var v=this;return(0,a.Z)(function*(){const A="string"==typeof g?g:g.uid,q=yield v.user.getIdToken();try{const se=yield Hn(v.user,function Ml(b,g){return bt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",_t(b,g))}(v.user.auth,{idToken:q,mfaEnrollmentId:A}));v.enrolledFactors=v.enrolledFactors.filter(({uid:ft})=>ft!==A),yield v.user._updateTokensIfNecessary(se),yield v.user.reload()}catch(se){throw se}})()}}const ta=new WeakMap;function na(b){const g=(0,B.m9)(b);return ta.has(g)||ta.set(g,ea._fromUser(g)),ta.get(g)}const M="__sak";class H{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(M,"1"),this.storage.removeItem(M),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ct=(()=>{class b extends H{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,A)=>this.onStorageEvent(v,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function P(){const b=(0,B.z$)();return ge(b)||oe(b)}()&&function hr(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=sn(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const A of Object.keys(this.listeners)){const q=this.storage.getItem(A),se=this.localCache[A];q!==se&&v(A,se,q)}}onStorageEvent(v,A=!1){if(!v.key)return void this.forAllChangedKeys((Vt,bn,Mn)=>{this.notifyListeners(Vt,Mn)});const q=v.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Vt=this.storage.getItem(q);if(v.newValue!==Vt)null!==v.newValue?this.storage.setItem(q,v.newValue):this.storage.removeItem(q);else if(this.localCache[q]===v.newValue&&!A)return}const se=()=>{const Vt=this.storage.getItem(q);!A&&this.localCache[q]===Vt||this.notifyListeners(q,Vt)},ft=this.storage.getItem(q);!function Mt(){return(0,B.w1)()&&10===document.documentMode}()||ft===v.newValue||v.newValue===v.oldValue?se():setTimeout(se,10)}notifyListeners(v,A){this.localCache[v]=A;const q=this.listeners[v];if(q)for(const se of Array.from(q))se(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,A,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:A,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,A){var q=()=>super._set,se=this;return(0,a.Z)(function*(){yield q().call(se,v,A),se.localCache[v]=JSON.stringify(A)})()}_get(v){var A=()=>super._get,q=this;return(0,a.Z)(function*(){const se=yield A().call(q,v);return q.localCache[v]=JSON.stringify(se),se})()}_remove(v){var A=()=>super._remove,q=this;return(0,a.Z)(function*(){yield A().call(q,v),delete q.localCache[v]})()}}return b.type="LOCAL",b})(),nr=(()=>{class b extends H{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,A){}_removeListener(v,A){}}return b.type="SESSION",b})();let St=(()=>{class b{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const A=this.receivers.find(se=>se.isListeningto(v));if(A)return A;const q=new b(v);return this.receivers.push(q),q}isListeningto(v){return this.eventTarget===v}handleEvent(v){var A=this;return(0,a.Z)(function*(){const q=v,{eventId:se,eventType:ft,data:Vt}=q.data,bn=A.handlersMap[ft];if(null==bn||!bn.size)return;q.ports[0].postMessage({status:"ack",eventId:se,eventType:ft});const Mn=Array.from(bn).map(function(){var wi=(0,a.Z)(function*(Ro){return Ro(q.origin,Vt)});return function(Ro){return wi.apply(this,arguments)}}()),sr=yield function Sr(b){return Promise.all(b.map(function(){var g=(0,a.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(A){return{fulfilled:!1,reason:A}}});return function(v){return g.apply(this,arguments)}}()))}(Mn);q.ports[0].postMessage({status:"done",eventId:se,eventType:ft,response:sr})})()}_subscribe(v,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(A)}_unsubscribe(v,A){this.handlersMap[v]&&A&&this.handlersMap[v].delete(A),(!A||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Dn(b="",g=10){let v="";for(let A=0;A<g;A++)v+=Math.floor(10*Math.random());return b+v}class zr{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,A=50){var q=this;return(0,a.Z)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let ft,Vt;return new Promise((bn,Mn)=>{const sr=Dn("",20);se.port1.start();const wi=setTimeout(()=>{Mn(new Error("unsupported_event"))},A);Vt={messageChannel:se,onMessage(Ro){const oa=Ro;if(oa.data.eventId===sr)switch(oa.data.status){case"ack":clearTimeout(wi),ft=setTimeout(()=>{Mn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ft),bn(oa.data.response);break;default:clearTimeout(wi),clearTimeout(ft),Mn(new Error("invalid_response"))}}},q.handlers.add(Vt),se.port1.addEventListener("message",Vt.onMessage),q.target.postMessage({eventType:g,eventId:sr,data:v},[se.port2])}).finally(()=>{Vt&&q.removeMessageHandler(Vt)})})()}}function zn(){return window}function hn(){return typeof zn().WorkerGlobalScope<"u"&&"function"==typeof zn().importScripts}function Yt(){return(Yt=(0,a.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const Zr="firebaseLocalStorageDb",Qo="firebaseLocalStorage",Us="fbase_key";class js{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function ha(b,g){return b.transaction([Qo],g?"readwrite":"readonly").objectStore(Qo)}function gs(){const b=indexedDB.open(Zr,1);return new Promise((g,v)=>{b.addEventListener("error",()=>{v(b.error)}),b.addEventListener("upgradeneeded",()=>{const A=b.result;try{A.createObjectStore(Qo,{keyPath:Us})}catch(q){v(q)}}),b.addEventListener("success",(0,a.Z)(function*(){const A=b.result;A.objectStoreNames.contains(Qo)?g(A):(A.close(),yield function Ra(){const b=indexedDB.deleteDatabase(Zr);return new js(b).toPromise()}(),g(yield gs()))}))})}function nl(b,g,v){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,a.Z)(function*(b,g,v){const A=ha(b,!0).put({[Us]:g,value:v});return new js(A).toPromise()})).apply(this,arguments)}function ms(){return(ms=(0,a.Z)(function*(b,g){const v=ha(b,!1).get(g),A=yield new js(v).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function jn(b,g){const v=ha(b,!0).delete(g);return new js(v).toPromise()}const On=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,a.Z)(function*(){return v.db||(v.db=yield gs()),v.db})()}_withRetries(v){var A=this;return(0,a.Z)(function*(){let q=0;for(;;)try{const se=yield A._openDb();return yield v(se)}catch(se){if(q++>3)throw se;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,a.Z)(function*(){return hn()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,a.Z)(function*(){v.receiver=St._getInstance(function Pt(){return hn()?self:null}()),v.receiver._subscribe("keyChanged",function(){var A=(0,a.Z)(function*(q,se){return{keyProcessed:(yield v._poll()).includes(se.key)}});return function(q,se){return A.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var A=(0,a.Z)(function*(q,se){return["keyChanged"]});return function(q,se){return A.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,a.Z)(function*(){var A,q;if(v.activeServiceWorker=yield function To(){return Yt.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new zr(v.activeServiceWorker);const se=yield v.sender._send("ping",{},800);se&&null!==(A=se[0])&&void 0!==A&&A.fulfilled&&null!==(q=se[0])&&void 0!==q&&q.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var A=this;return(0,a.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function yt(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:v},A.serviceWorkerReceiverAvailable?800:50)}catch(q){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const v=yield gs();return yield nl(v,M,"1"),yield jn(v,M),!0}catch(v){}return!1})()}_withPendingWrite(v){var A=this;return(0,a.Z)(function*(){A.pendingWrites++;try{yield v()}finally{A.pendingWrites--}})()}_set(v,A){var q=this;return(0,a.Z)(function*(){return q._withPendingWrite((0,a.Z)(function*(){return yield q._withRetries(se=>nl(se,v,A)),q.localCache[v]=A,q.notifyServiceWorker(v)}))})()}_get(v){var A=this;return(0,a.Z)(function*(){const q=yield A._withRetries(se=>function cu(b,g){return ms.apply(this,arguments)}(se,v));return A.localCache[v]=q,q})()}_remove(v){var A=this;return(0,a.Z)(function*(){return A._withPendingWrite((0,a.Z)(function*(){return yield A._withRetries(q=>jn(q,v)),delete A.localCache[v],A.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,a.Z)(function*(){const A=yield v._withRetries(ft=>{const Vt=ha(ft,!1).getAll();return new js(Vt).toPromise()});if(!A)return[];if(0!==v.pendingWrites)return[];const q=[],se=new Set;for(const{fbase_key:ft,value:Vt}of A)se.add(ft),JSON.stringify(v.localCache[ft])!==JSON.stringify(Vt)&&(v.notifyListeners(ft,Vt),q.push(ft));for(const ft of Object.keys(v.localCache))v.localCache[ft]&&!se.has(ft)&&(v.notifyListeners(ft,null),q.push(ft));return q})()}notifyListeners(v,A){this.localCache[v]=A;const q=this.listeners[v];if(q)for(const se of Array.from(q))se(A)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function fa(b,g){return bt(b,"POST","/v2/accounts/mfaSignIn:start",_t(b,g))}function Pr(){return(Pr=(0,a.Z)(function*(b){return(yield bt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Rs(b){return new Promise((g,v)=>{const A=document.createElement("script");A.setAttribute("src",b),A.onload=g,A.onerror=q=>{const se=We("internal-error");se.customData=q,v(se)},A.type="text/javascript",A.charset="UTF-8",function tn(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(A)})}function ei(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Xi=1e12;class Gs{constructor(g){this.auth=g,this.counter=Xi,this._widgets=new Map}render(g,v){const A=this.counter;return this._widgets.set(A,new Pa(g,this.auth.name,v||{})),this.counter++,A}reset(g){var v;const A=g||Xi;null===(v=this._widgets.get(A))||void 0===v||v.delete(),this._widgets.delete(A)}getResponse(g){var v;return(null===(v=this._widgets.get(g||Xi))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,a.Z)(function*(){var A;return null===(A=v._widgets.get(g||Xi))||void 0===A||A.execute(),""})()}}class Pa{constructor(g,v,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof g?document.getElementById(g):g;Q(q,"argument-error",{appName:v}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function rl(b){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<b;A++)g.push(v.charAt(Math.floor(Math.random()*v.length)));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ka=ei("rcb"),Jo=new Se(3e4,6e4);class Na{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=zn().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return Q(function Mo(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(v),g,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(zn().grecaptcha):new Promise((A,q)=>{const se=zn().setTimeout(()=>{q(We(g,"network-request-failed"))},Jo.get());zn()[ka]=()=>{zn().clearTimeout(se),delete zn()[ka];const Vt=zn().grecaptcha;if(!Vt)return void q(We(g,"internal-error"));const bn=Vt.render;Vt.render=(Mn,sr)=>{const wi=bn(Mn,sr);return this.counter++,wi},this.hostLanguage=v,A(Vt)},Rs(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:ka,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(se),q(We(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=zn().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cs{load(g){return(0,a.Z)(function*(){return new Gs(g)})()}clearedOneInstance(){}}const Os="recaptcha",gt={theme:"light",type:"image"};class ra{constructor(g,v=Object.assign({},gt),A){this.parameters=v,this.type=Os,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kn(A),this.isInvisible="invisible"===this.parameters.size,Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof g?document.getElementById(g):g;Q(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cs:new Na,this.validateStartingState()}verify(){var g=this;return(0,a.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),A=g.getAssertedRecaptcha();return A.getResponse(v)||new Promise(se=>{const ft=Vt=>{Vt&&(g.tokenChangeListeners.delete(ft),se(Vt))};g.tokenChangeListeners.add(ft),g.isInvisible&&A.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(A=>A(v)),"function"==typeof g)g(v);else if("string"==typeof g){const A=zn()[g];"function"==typeof A&&A(v)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,a.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const A=document.createElement("div");v.appendChild(A),v=A}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,a.Z)(function*(){Q(it()&&!hn(),g.auth,"internal-error"),yield function po(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function xl(b){return Pr.apply(this,arguments)}(g.auth);Q(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class du{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=Vi._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function il(b,g,v){return br.apply(this,arguments)}function br(){return(br=(0,a.Z)(function*(b,g,v){const A=Kn(b),q=yield ol(A,g,(0,B.m9)(v));return new du(q,se=>Hr(A,se))})).apply(this,arguments)}function Rl(b,g,v){return ys.apply(this,arguments)}function ys(){return(ys=(0,a.Z)(function*(b,g,v){const A=(0,B.m9)(b);yield Ri(!1,A,"phone");const q=yield ol(A.auth,g,(0,B.m9)(v));return new du(q,se=>bo(A,se))})).apply(this,arguments)}function hu(b,g,v){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,a.Z)(function*(b,g,v){const A=(0,B.m9)(b),q=yield ol(A.auth,g,(0,B.m9)(v));return new du(q,se=>wo(A,se))})).apply(this,arguments)}function ol(b,g,v){return sl.apply(this,arguments)}function sl(){return(sl=(0,a.Z)(function*(b,g,v){var A;const q=yield v.verify();try{let se;if(Q("string"==typeof q,b,"argument-error"),Q(v.type===Os,b,"argument-error"),se="string"==typeof g?{phoneNumber:g}:g,"session"in se){const ft=se.session;if("phoneNumber"in se)return Q("enroll"===ft.type,b,"internal-error"),(yield fi(b,{idToken:ft.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{Q("signin"===ft.type,b,"internal-error");const Vt=(null===(A=se.multiFactorHint)||void 0===A?void 0:A.uid)||se.multiFactorUid;return Q(Vt,b,"missing-multi-factor-info"),(yield fa(b,{mfaPendingCredential:ft.credential,mfaEnrollmentId:Vt,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ft}=yield Yi(b,{phoneNumber:se.phoneNumber,recaptchaToken:q});return ft}}finally{v._reset()}})).apply(this,arguments)}function es(b,g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,a.Z)(function*(b,g){yield ji((0,B.m9)(b),g)})).apply(this,arguments)}let ma=(()=>{class b{constructor(v){this.providerId=b.PROVIDER_ID,this.auth=Kn(v)}verifyPhoneNumber(v,A){return ol(this.auth,v,(0,B.m9)(A))}static credential(v,A){return Vi._fromVerification(v,A)}static credentialFromResult(v){return b.credentialFromTaggedObject(v)}static credentialFromError(v){return b.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:A,temporaryProof:q}=v;return A&&q?Vi._fromTokenResponse(A,q):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function ts(b,g){return g?Ve(g):(Q(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class ti extends Zn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return er(g,this._buildIdpRequest())}_linkToIdToken(g,v){return er(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return er(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function ya(b){return Ko(b.auth,new ti(b),b.bypassAuthState)}function vs(b){const{auth:g,user:v}=b;return Q(v,g,"internal-error"),co(v,new ti(b),b.bypassAuthState)}function La(b){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,a.Z)(function*(b){const{auth:g,user:v}=b;return Q(v,g,"internal-error"),ji(v,new ti(b),b.bypassAuthState)})).apply(this,arguments)}class _s{constructor(g,v,A,q,se=!1){this.auth=g,this.resolver=A,this.user=q,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,a.Z)(function*(A,q){g.pendingPromise={resolve:A,reject:q};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(se){g.reject(se)}});return function(A,q){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,a.Z)(function*(){const{urlResponse:A,sessionId:q,postBody:se,tenantId:ft,error:Vt,type:bn}=g;if(Vt)return void v.reject(Vt);const Mn={auth:v.auth,requestUri:A,sessionId:q,tenantId:ft||void 0,postBody:se||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(bn)(Mn))}catch(sr){v.reject(sr)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return ya;case"linkViaPopup":case"linkViaRedirect":return La;case"reauthViaPopup":case"reauthViaRedirect":return vs;default:Ye(this.auth,"internal-error")}}resolve(g){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _i=new Se(2e3,1e4);function va(b,g,v){return oo.apply(this,arguments)}function oo(){return(oo=(0,a.Z)(function*(b,g,v){const A=Kn(b);De(b,g,Ai);const q=ts(A,v);return new I(A,"signInViaPopup",g,q).executeNotNull()})).apply(this,arguments)}function li(b,g,v){return ds.apply(this,arguments)}function ds(){return(ds=(0,a.Z)(function*(b,g,v){const A=(0,B.m9)(b);De(A.auth,g,Ai);const q=ts(A.auth,v);return new I(A.auth,"reauthViaPopup",g,q,A).executeNotNull()})).apply(this,arguments)}function Ol(b,g,v){return fu.apply(this,arguments)}function fu(){return(fu=(0,a.Z)(function*(b,g,v){const A=(0,B.m9)(b);De(A.auth,g,Ai);const q=ts(A.auth,v);return new I(A.auth,"linkViaPopup",g,q,A).executeNotNull()})).apply(this,arguments)}let I=(()=>{class b extends _s{constructor(v,A,q,se,ft){super(v,A,se,ft),this.provider=q,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var v=this;return(0,a.Z)(function*(){const A=yield v.execute();return Q(A,v.auth,"internal-error"),A})()}onExecution(){var v=this;return(0,a.Z)(function*(){je(1===v.filter.length,"Popup operations only handle one event");const A=Dn();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],A),v.authWindow.associatedEvent=A,v.resolver._originValidation(v.auth).catch(q=>{v.reject(q)}),v.resolver._isIframeWebStorageSupported(v.auth,q=>{q||v.reject(We(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(We(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const v=()=>{var A,q;this.pollId=null!==(q=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(We(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,_i.get())};v()}}return b.currentPopupAction=null,b})();const _=new Map;class w extends _s{constructor(g,v,A=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,A),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,a.Z)(function*(){let A=_.get(v.auth._key());if(!A){try{const se=(yield function L(b,g){return W.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;A=()=>Promise.resolve(se)}catch(q){A=()=>Promise.reject(q)}_.set(v.auth._key(),A)}return v.bypassAuthState||_.set(v.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,A=this;return(0,a.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(A,g);if("unknown"!==g.type){if(g.eventId){const q=yield A.auth._redirectUserForId(g.eventId);if(q)return A.user=q,v().call(A,g);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function W(){return(W=(0,a.Z)(function*(b,g){const v=pn(g),A=mn(b);if(!(yield A._isAvailable()))return!1;const q="true"===(yield A._get(v));return yield A._remove(v),q})).apply(this,arguments)}function K(b,g){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,a.Z)(function*(b,g){return mn(b)._set(pn(g),"true")})).apply(this,arguments)}function It(){_.clear()}function Wt(b,g){_.set(b._key(),g)}function mn(b){return Ve(b._redirectPersistence)}function pn(b){return _e("pendingRedirect",b.config.apiKey,b.name)}function wr(b,g,v){return function pi(b,g,v){return gi.apply(this,arguments)}(b,g,v)}function gi(){return(gi=(0,a.Z)(function*(b,g,v){const A=Kn(b);De(b,g,Ai),yield A._initializationPromise;const q=ts(A,v);return yield K(q,A),q._openRedirect(A,g,"signInViaRedirect")})).apply(this,arguments)}function Uo(b,g,v){return function R(b,g,v){return $.apply(this,arguments)}(b,g,v)}function $(){return($=(0,a.Z)(function*(b,g,v){const A=(0,B.m9)(b);De(A.auth,g,Ai),yield A.auth._initializationPromise;const q=ts(A.auth,v);yield K(q,A.auth);const se=yield $n(A);return q._openRedirect(A.auth,g,"reauthViaRedirect",se)})).apply(this,arguments)}function Y(b,g,v){return function Te(b,g,v){return nt.apply(this,arguments)}(b,g,v)}function nt(){return(nt=(0,a.Z)(function*(b,g,v){const A=(0,B.m9)(b);De(A.auth,g,Ai),yield A.auth._initializationPromise;const q=ts(A.auth,v);yield Ri(!1,A,g.providerId),yield K(q,A.auth);const se=yield $n(A);return q._openRedirect(A.auth,g,"linkViaRedirect",se)})).apply(this,arguments)}function vt(b,g){return $t.apply(this,arguments)}function $t(){return($t=(0,a.Z)(function*(b,g){return yield Kn(b)._initializationPromise,Cn(b,g,!1)})).apply(this,arguments)}function Cn(b,g){return An.apply(this,arguments)}function An(){return(An=(0,a.Z)(function*(b,g,v=!1){const A=Kn(b),q=ts(A,g),ft=yield new w(A,q,v).execute();return ft&&!v&&(delete ft.user._redirectEventId,yield A._persistUserIfCurrent(ft.user),yield A._setRedirectUser(null,g)),ft})).apply(this,arguments)}function $n(b){return yn.apply(this,arguments)}function yn(){return(yn=(0,a.Z)(function*(b){const g=Dn(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Ji{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(g,A)&&(v=!0,this.sendToConsumer(g,A),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Pl(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qa(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var A;if(g.error&&!qa(g)){const q=(null===(A=g.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";v.onError(We(this.auth,q))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const A=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&A}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wi(g))}saveEventToCache(g){this.cachedEventUids.add(Wi(g)),this.lastProcessedEventTime=Date.now()}}function Wi(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function qa({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===(null==g?void 0:g.code)}function _a(b){return ns.apply(this,arguments)}function ns(){return(ns=(0,a.Z)(function*(b,g={}){return bt(b,"GET","/v1/projects",g)})).apply(this,arguments)}const Es=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kl=/^https?/;function qu(){return(qu=(0,a.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield _a(b);for(const v of g)try{if(wg(v))return}catch(A){}Ye(b,"unauthorized-domain")})).apply(this,arguments)}function wg(b){const g=He(),{protocol:v,hostname:A}=new URL(g);if(b.startsWith("chrome-extension://")){const ft=new URL(b);return""===ft.hostname&&""===A?"chrome-extension:"===v&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&ft.hostname===A}if(!kl.test(v))return!1;if(Es.test(b))return A===b;const q=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(A)}const Pc=new Se(3e4,6e4);function Cf(){const b=zn().___jsl;if(null!=b&&b.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let v=0;v<b.CP.length;v++)b.CP[v]=null}let Yu=null;function kc(b){return Yu=Yu||function Vd(b){return new Promise((g,v)=>{var A,q,se;function ft(){Cf(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Cf(),v(We(b,"network-request-failed"))},timeout:Pc.get()})}if(null!==(q=null===(A=zn().gapi)||void 0===A?void 0:A.iframes)&&void 0!==q&&q.Iframe)g(gapi.iframes.getContext());else{if(null===(se=zn().gapi)||void 0===se||!se.load){const Vt=ei("iframefcb");return zn()[Vt]=()=>{gapi.load?ft():v(We(b,"network-request-failed"))},Rs(`https://apis.google.com/js/api.js?onload=${Vt}`).catch(bn=>v(bn))}ft()}}).catch(g=>{throw Yu=null,g})}(b),Yu}const pu=new Se(5e3,15e3),Nc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mi(b){const g=b.config;Q(g.authDomain,b,"auth-domain-config-required");const v=g.emulator?Je(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,A={apiKey:g.apiKey,appName:b.name,v:N.SDK_VERSION},q=rs.get(b.config.apiHost);q&&(A.eid=q);const se=b._getFrameworks();return se.length&&(A.fw=se.join(",")),`${v}?${(0,B.xO)(A).slice(1)}`}function al(){return al=(0,a.Z)(function*(b){const g=yield kc(b),v=zn().gapi;return Q(v,b,"internal-error"),g.open({where:document.body,url:mi(b),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nc,dontclear:!0},A=>new Promise(function(){var q=(0,a.Z)(function*(se,ft){yield A.restyle({setHideOnLeave:!1});const Vt=We(b,"network-request-failed"),bn=zn().setTimeout(()=>{ft(Vt)},pu.get());function Mn(){zn().clearTimeout(bn),se(A)}A.ping(Mn).then(Mn,()=>{ft(Vt)})});return function(se,ft){return q.apply(this,arguments)}}()))}),al.apply(this,arguments)}const Is={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gu{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function yu(b,g,v,A,q,se){Q(b.config.authDomain,b,"auth-domain-config-required"),Q(b.config.apiKey,b,"invalid-api-key");const ft={apiKey:b.config.apiKey,appName:b.name,authType:v,redirectUrl:A,v:N.SDK_VERSION,eventId:q};if(g instanceof Ai){g.setDefaultLanguage(b.languageCode),ft.providerId=g.providerId||"",(0,B.xb)(g.getCustomParameters())||(ft.customParameters=JSON.stringify(g.getCustomParameters()));for(const[bn,Mn]of Object.entries(se||{}))ft[bn]=Mn}if(g instanceof ao){const bn=g.getScopes().filter(Mn=>""!==Mn);bn.length>0&&(ft.scopes=bn.join(","))}b.tenantId&&(ft.tid=b.tenantId);const Vt=ft;for(const bn of Object.keys(Vt))void 0===Vt[bn]&&delete Vt[bn];return`${function Qu({config:b}){return b.emulator?Je(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,B.xO)(Vt).slice(1)}`}const ia="webStorageSupport",ll=class jd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nr,this._completeRedirectFn=Cn,this._overrideRedirectResult=Wt}_openPopup(g,v,A,q){var se=this;return(0,a.Z)(function*(){var ft;je(null===(ft=se.eventManagers[g._key()])||void 0===ft?void 0:ft.manager,"_initialize() not called before _openPopup()");const Vt=yu(g,v,A,He(),q);return function is(b,g,v,A=500,q=600){const se=Math.max((window.screen.availHeight-q)/2,0).toString(),ft=Math.max((window.screen.availWidth-A)/2,0).toString();let Vt="";const bn=Object.assign(Object.assign({},Is),{width:A.toString(),height:q.toString(),top:se,left:ft}),Mn=(0,B.z$)().toLowerCase();v&&(Vt=ut(Mn)?"_blank":v),X(Mn)&&(g=g||"http://localhost",bn.scrollbars="yes");const sr=Object.entries(bn).reduce((Ro,[oa,Ia])=>`${Ro}${oa}=${Ia},`,"");if(function At(b=(0,B.z$)()){var g;return oe(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Mn)&&"_self"!==Vt)return function mu(b,g){const v=document.createElement("a");v.href=b,v.target=g;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(A)}(g||"",Vt),new gu(null);const wi=window.open(g||"",Vt,sr);Q(wi,b,"popup-blocked");try{wi.focus()}catch(Ro){}return new gu(wi)}(g,Vt,Dn())})()}_openRedirect(g,v,A,q){var se=this;return(0,a.Z)(function*(){return yield se._originValidation(g),function Zt(b){zn().location.href=b}(yu(g,v,A,He(),q)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:q,promise:se}=this.eventManagers[v];return q?Promise.resolve(q):(je(se,"If manager is not set, promise should be"),se)}const A=this.initAndGetManager(g);return this.eventManagers[v]={promise:A},A.catch(()=>{delete this.eventManagers[v]}),A}initAndGetManager(g){var v=this;return(0,a.Z)(function*(){const A=yield function Sf(b){return al.apply(this,arguments)}(g),q=new Ji(g);return A.register("authEvent",se=>(Q(null==se?void 0:se.authEvent,g,"invalid-auth-event"),{status:q.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:q},v.iframes[g._key()]=A,q})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(ia,{type:ia},q=>{var se;const ft=null===(se=null==q?void 0:q[0])||void 0===se?void 0:se[ia];void 0!==ft&&v(!!ft),Ye(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function wf(b){return qu.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return sn()||ge()||oe()}};class Fc{constructor(g){this.factorId=g}_process(g,v,A){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,A);case"signin":return this._finalizeSignIn(g,v.credential);default:return te("unexpected MultiFactorSessionType")}}}class vu extends Fc{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new vu(g)}_finalizeEnroll(g,v,A){return function tl(b,g){return bt(b,"POST","/v2/accounts/mfaEnrollment:finalize",_t(b,g))}(g,{idToken:v,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function yr(b,g){return bt(b,"POST","/v2/accounts/mfaSignIn:finalize",_t(b,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ju=(()=>{class b{constructor(){}static assertion(v){return vu._fromCredential(v)}}return b.FACTOR_ID="phone",b})();var jo="@firebase/auth";class os{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,a.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(A=>{g((null==A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Lc=(0,B.Pz)("authIdTokenMaxAge")||300;let Eu=null;const Iu=b=>function(){var g=(0,a.Z)(function*(v){const A=v&&(yield v.getIdTokenResult()),q=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(q&&q>Lc)return;const se=null==A?void 0:A.token;Eu!==se&&(Eu=se,yield fetch(b,{method:se?"POST":"DELETE",headers:se?{Authorization:`Bearer ${se}`}:{}}))});return function(v){return g.apply(this,arguments)}}();function $c(b=(0,N.getApp)()){const g=(0,N._getProvider)(b,"auth");if(g.isInitialized())return g.getImmediate();const v=function ze(b,g){const v=(0,N._getProvider)(b,"auth");if(v.isInitialized()){const q=v.getImmediate(),se=v.getOptions();if((0,B.vZ)(se,null!=g?g:{}))return q;Ye(q,"already-initialized")}return v.initialize({options:g})}(b,{popupRedirectResolver:ll,persistence:[On,Ct,nr]}),A=(0,B.Pz)("authTokenSyncURL");if(A){const se=Iu(A);(function da(b,g,v){(0,B.m9)(b).beforeAuthStateChanged(g,v)})(v,se,()=>se(v.currentUser)),function el(b,g,v,A){(0,B.m9)(b).onIdTokenChanged(g,v,A)}(v,ft=>se(ft))}const q=(0,B.q4)("auth");return q&&eo(v,`http://${q}`),v}!function go(b){(0,N._registerComponent)(new ye.wA("auth",(g,{options:v})=>{const A=g.getProvider("app").getImmediate(),q=g.getProvider("heartbeat"),{apiKey:se,authDomain:ft}=A.options;return((Vt,bn)=>{Q(se&&!se.includes(":"),"invalid-api-key",{appName:Vt.name}),Q(!(null!=ft&&ft.includes(":")),"argument-error",{appName:Vt.name});const Mn={apiKey:se,authDomain:ft,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mr(b)},sr=new Tr(Vt,bn,Mn);return function Qe(b,g){const v=(null==g?void 0:g.persistence)||[],A=(Array.isArray(v)?v:[v]).map(Ve);null!=g&&g.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(A,null==g?void 0:g.popupRedirectResolver)}(sr,v),sr})(A,q)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,A)=>{g.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new ye.wA("auth-internal",g=>{const v=Kn(g.getProvider("auth").getImmediate());return new os(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(jo,"0.21.3",function _u(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,N.registerVersion)(jo,"0.21.3","esm2017")}("Browser")},2090:(zt,rt,k)=>{"use strict";k.d(rt,{$s:()=>qt,BH:()=>Xe,G6:()=>at,L:()=>Ie,LL:()=>st,Pz:()=>We,Sg:()=>De,UG:()=>te,US:()=>ye,ZB:()=>ae,ZR:()=>Ue,aH:()=>Ye,b$:()=>Ve,eu:()=>Me,hl:()=>xe,jU:()=>je,m9:()=>Rn,ne:()=>Vn,pd:()=>gr,q4:()=>de,r3:()=>Ht,ru:()=>Pe,tV:()=>Le,uI:()=>Q,vZ:()=>Ln,w1:()=>Qe,xO:()=>Wn,xb:()=>Jn,z$:()=>we,zI:()=>Se,zd:()=>Gn});const pe=function(Ae){const _e=[];let $e=0;for(let he=0;he<Ae.length;he++){let X=Ae.charCodeAt(he);X<128?_e[$e++]=X:X<2048?(_e[$e++]=X>>6|192,_e[$e++]=63&X|128):55296==(64512&X)&&he+1<Ae.length&&56320==(64512&Ae.charCodeAt(he+1))?(X=65536+((1023&X)<<10)+(1023&Ae.charCodeAt(++he)),_e[$e++]=X>>18|240,_e[$e++]=X>>12&63|128,_e[$e++]=X>>6&63|128,_e[$e++]=63&X|128):(_e[$e++]=X>>12|224,_e[$e++]=X>>6&63|128,_e[$e++]=63&X|128)}return _e},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ae,_e){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $e=_e?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let X=0;X<Ae.length;X+=3){const ge=Ae[X],ut=X+1<Ae.length,Tt=ut?Ae[X+1]:0,en=X+2<Ae.length,Oe=en?Ae[X+2]:0;let lt=(15&Tt)<<2|Oe>>6,At=63&Oe;en||(At=64,ut||(lt=64)),he.push($e[ge>>2],$e[(3&ge)<<4|Tt>>4],$e[lt],$e[At])}return he.join("")},encodeString(Ae,_e){return this.HAS_NATIVE_SUPPORT&&!_e?btoa(Ae):this.encodeByteArray(pe(Ae),_e)},decodeString(Ae,_e){return this.HAS_NATIVE_SUPPORT&&!_e?atob(Ae):function(Ae){const _e=[];let $e=0,he=0;for(;$e<Ae.length;){const X=Ae[$e++];if(X<128)_e[he++]=String.fromCharCode(X);else if(X>191&&X<224){const ge=Ae[$e++];_e[he++]=String.fromCharCode((31&X)<<6|63&ge)}else if(X>239&&X<365){const en=((7&X)<<18|(63&Ae[$e++])<<12|(63&Ae[$e++])<<6|63&Ae[$e++])-65536;_e[he++]=String.fromCharCode(55296+(en>>10)),_e[he++]=String.fromCharCode(56320+(1023&en))}else{const ge=Ae[$e++],ut=Ae[$e++];_e[he++]=String.fromCharCode((15&X)<<12|(63&ge)<<6|63&ut)}}return _e.join("")}(this.decodeStringToByteArray(Ae,_e))},decodeStringToByteArray(Ae,_e){this.init_();const $e=_e?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let X=0;X<Ae.length;){const ge=$e[Ae.charAt(X++)],Tt=X<Ae.length?$e[Ae.charAt(X)]:0;++X;const Oe=X<Ae.length?$e[Ae.charAt(X)]:64;++X;const oe=X<Ae.length?$e[Ae.charAt(X)]:64;if(++X,null==ge||null==Tt||null==Oe||null==oe)throw Error();he.push(ge<<2|Tt>>4),64!==Oe&&(he.push(Tt<<4&240|Oe>>2),64!==oe&&he.push(Oe<<6&192|oe))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}},Ie=function(Ae){return function(Ae){const _e=pe(Ae);return ye.encodeByteArray(_e,!0)}(Ae).replace(/\./g,"")},Le=function(Ae){try{return ye.decodeString(Ae,!0)}catch(_e){console.error("base64Decode failed: ",_e)}return null};function ae(Ae,_e){if(!(_e instanceof Object))return _e;switch(_e.constructor){case Date:return new Date(_e.getTime());case Object:void 0===Ae&&(Ae={});break;case Array:Ae=[];break;default:return _e}for(const $e in _e)!_e.hasOwnProperty($e)||!fe($e)||(Ae[$e]=ae(Ae[$e],_e[$e]));return Ae}function fe(Ae){return"__proto__"!==Ae}const be=()=>{try{return function Ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ae=process.env.__FIREBASE_DEFAULTS__;return Ae?JSON.parse(Ae):void 0})()||(()=>{if(typeof document>"u")return;let Ae;try{Ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch($e){return}const _e=Ae&&Le(Ae[1]);return _e&&JSON.parse(_e)})()}catch(Ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ae}`)}},de=Ae=>{var _e,$e;return null===($e=null===(_e=be())||void 0===_e?void 0:_e.emulatorHosts)||void 0===$e?void 0:$e[Ae]},Ye=()=>{var Ae;return null===(Ae=be())||void 0===Ae?void 0:Ae.config},We=Ae=>{var _e;return null===(_e=be())||void 0===_e?void 0:_e[`_${Ae}`]};class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_e,$e)=>{this.resolve=_e,this.reject=$e})}wrapCallback(_e){return($e,he)=>{$e?this.reject($e):this.resolve(he),"function"==typeof _e&&(this.promise.catch(()=>{}),1===_e.length?_e($e):_e($e,he))}}}function De(Ae,_e){if(Ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=_e||"demo-project",X=Ae.iat||0,ge=Ae.sub||Ae.user_id;if(!ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ut=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:X,exp:X+3600,auth_time:X,sub:ge,user_id:ge,firebase:{sign_in_provider:"custom",identities:{}}},Ae);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(ut)),""].join(".")}function we(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Q(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function te(){var Ae;const _e=null===(Ae=be())||void 0===Ae?void 0:Ae.forceEnvironment;if("node"===_e)return!0;if("browser"===_e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($e){return!1}}function je(){return"object"==typeof self&&self.self===self}function Pe(){const Ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ae&&void 0!==Ae.id}function Ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qe(){const Ae=we();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function at(){return!te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xe(){try{return"object"==typeof indexedDB}catch(Ae){return!1}}function Me(){return new Promise((Ae,_e)=>{try{let $e=!0;const he="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(he);X.onsuccess=()=>{X.result.close(),$e||self.indexedDB.deleteDatabase(he),Ae(!0)},X.onupgradeneeded=()=>{$e=!1},X.onerror=()=>{var ge;_e((null===(ge=X.error)||void 0===ge?void 0:ge.message)||"")}}catch($e){_e($e)}})}function Se(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ue extends Error{constructor(_e,$e,he){super($e),this.code=_e,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,st.prototype.create)}}class st{constructor(_e,$e,he){this.service=_e,this.serviceName=$e,this.errors=he}create(_e,...$e){const he=$e[0]||{},X=`${this.service}/${_e}`,ge=this.errors[_e],ut=ge?function Ze(Ae,_e){return Ae.replace(_t,($e,he)=>{const X=_e[he];return null!=X?String(X):`<${he}?>`})}(ge,he):"Error";return new Ue(X,`${this.serviceName}: ${ut} (${X}).`,he)}}const _t=/\{\$([^}]+)}/g;function Ht(Ae,_e){return Object.prototype.hasOwnProperty.call(Ae,_e)}function Jn(Ae){for(const _e in Ae)if(Object.prototype.hasOwnProperty.call(Ae,_e))return!1;return!0}function Ln(Ae,_e){if(Ae===_e)return!0;const $e=Object.keys(Ae),he=Object.keys(_e);for(const X of $e){if(!he.includes(X))return!1;const ge=Ae[X],ut=_e[X];if(qn(ge)&&qn(ut)){if(!Ln(ge,ut))return!1}else if(ge!==ut)return!1}for(const X of he)if(!$e.includes(X))return!1;return!0}function qn(Ae){return null!==Ae&&"object"==typeof Ae}function Wn(Ae){const _e=[];for(const[$e,he]of Object.entries(Ae))Array.isArray(he)?he.forEach(X=>{_e.push(encodeURIComponent($e)+"="+encodeURIComponent(X))}):_e.push(encodeURIComponent($e)+"="+encodeURIComponent(he));return _e.length?"&"+_e.join("&"):""}function Gn(Ae){const _e={};return Ae.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[X,ge]=he.split("=");_e[decodeURIComponent(X)]=decodeURIComponent(ge)}}),_e}function gr(Ae){const _e=Ae.indexOf("?");if(!_e)return"";const $e=Ae.indexOf("#",_e);return Ae.substring(_e,$e>0?$e:void 0)}function Vn(Ae,_e){const $e=new ln(Ae,_e);return $e.subscribe.bind($e)}class ln{constructor(_e,$e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$e,this.task.then(()=>{_e(this)}).catch(he=>{this.error(he)})}next(_e){this.forEachObserver($e=>{$e.next(_e)})}error(_e){this.forEachObserver($e=>{$e.error(_e)}),this.close(_e)}complete(){this.forEachObserver(_e=>{_e.complete()}),this.close()}subscribe(_e,$e,he){let X;if(void 0===_e&&void 0===$e&&void 0===he)throw new Error("Missing Observer.");X=function gn(Ae,_e){if("object"!=typeof Ae||null===Ae)return!1;for(const $e of _e)if($e in Ae&&"function"==typeof Ae[$e])return!0;return!1}(_e,["next","error","complete"])?_e:{next:_e,error:$e,complete:he},void 0===X.next&&(X.next=Hn),void 0===X.error&&(X.error=Hn),void 0===X.complete&&(X.complete=Hn);const ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch(ut){}}),this.observers.push(X),ge}unsubscribeOne(_e){void 0===this.observers||void 0===this.observers[_e]||(delete this.observers[_e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(_e){if(!this.finalized)for(let $e=0;$e<this.observers.length;$e++)this.sendOne($e,_e)}sendOne(_e,$e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[_e])try{$e(this.observers[_e])}catch(he){typeof console<"u"&&console.error&&console.error(he)}})}close(_e){this.finalized||(this.finalized=!0,void 0!==_e&&(this.finalError=_e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hn(){}function qt(Ae,_e=1e3,$e=2){const he=_e*Math.pow($e,Ae),X=Math.round(.5*he*(Math.random()-.5)*2);return Math.min(144e5,he+X)}function Rn(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}},2078:(zt,rt,k)=>{"use strict";k.d(rt,{dr:()=>kn,oU:()=>xn,cs:()=>Do,YG:()=>qt,Sm:()=>un,PM:()=>dn,Zi:()=>Ae,tO:()=>_e,W2:()=>ut,Gu:()=>Mt,gu:()=>sn,Xz:()=>hr,pK:()=>Tr,Ie:()=>Kn,Q$:()=>Nn,q_:()=>Zn,yh:()=>Ar,z0:()=>rr,fG:()=>Lr,zc:()=>Vr,ki:()=>di,uN:()=>fr,jP:()=>Ri,jI:()=>Dr,wd:()=>Kr,sr:()=>ri,Pc:()=>x,r4:()=>io,HT:()=>fo,as:()=>Ir,YI:()=>Ni,Fo:()=>Hr,j9:()=>Qt,yF:()=>Un});var a=k(4650),B=k(433),N=k(655),pe=k(8421),ue=k(9751),ye=k(5577),le=k(1144),Ie=k(576),Le=k(3268);const ce=["addListener","removeListener"],ae=["addEventListener","removeEventListener"],fe=["on","off"];function Ce(c,m,f,T){if((0,Ie.m)(f)&&(T=f,f=void 0),T)return Ce(c,m,f).pipe((0,Le.Z)(T));const[G,ot]=function be(c){return(0,Ie.m)(c.addEventListener)&&(0,Ie.m)(c.removeEventListener)}(c)?ae.map(Lt=>Xt=>c[Lt](m,Xt,f)):function qe(c){return(0,Ie.m)(c.addListener)&&(0,Ie.m)(c.removeListener)}(c)?ce.map(Fe(c,m)):function dt(c){return(0,Ie.m)(c.on)&&(0,Ie.m)(c.off)}(c)?fe.map(Fe(c,m)):[];if(!G&&(0,le.z)(c))return(0,ye.z)(Lt=>Ce(Lt,m,f))((0,pe.Xf)(c));if(!G)throw new TypeError("Invalid event target");return new ue.y(Lt=>{const Xt=(...Tn)=>Lt.next(1<Tn.length?Tn:Tn[0]);return G(Xt),()=>ot(Xt)})}function Fe(c,m){return f=>T=>c[f](m,T)}var de=k(7579),ne=k(1135),Ye=k(2435),Q=(k(181),k(6439),k(7838),k(1898),k(5179)),te=k(5730),je=k(1843),Ve=(k(6369),k(7996)),He=(k(3457),k(4349),k(1308)),Je=k(9300),Ue=k(3900),st=k(1884),Ze=k(6895);const bt=Q.i,wt=["*"];function Ht(c,m){if(1&c&&(a.TgZ(0,"div",1),a.GkF(1,2),a.qZA()),2&c){const f=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",f.template)}}const Jn=c=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(c):"function"==typeof requestAnimationFrame?requestAnimationFrame(c):setTimeout(c),ur=c=>!!c.resolveComponentFactory;let Ln=(()=>{class c{constructor(f,T){this.injector=f,this.el=T,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(f){this.el.nativeElement.value=this.lastValue=null==f?"":f,qn(this.el)}handleChangeEvent(f,T){f===this.el.nativeElement&&(T!==this.lastValue&&(this.lastValue=T,this.onChange(T)),qn(this.el))}_handleBlurEvent(f){f===this.el.nativeElement&&(this.onTouched(),qn(this.el))}registerOnChange(f){this.onChange=f}registerOnTouched(f){this.onTouched=f}setDisabledState(f){this.el.nativeElement.disabled=f}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let f;try{f=this.injector.get(B.a5)}catch(G){}if(!f)return;f.statusChanges&&(this.statusChanges=f.statusChanges.subscribe(()=>qn(this.el)));const T=f.control;T&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(ot=>{if(typeof T[ot]<"u"){const Lt=T[ot].bind(T);T[ot]=(...Xt)=>{Lt(...Xt),qn(this.el)}}})}}return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.zs3),a.Y36(a.SBq))},c.\u0275dir=a.lG2({type:c,hostBindings:function(f,T){1&f&&a.NdJ("ionBlur",function(ot){return T._handleBlurEvent(ot.target)})}}),c})();const qn=c=>{Jn(()=>{const m=c.nativeElement,f=null!=m.value&&m.value.toString().length>0,T=Nt(m);Wn(m,T);const G=m.closest("ion-item");G&&Wn(G,f?[...T,"item-has-value"]:T)})},Nt=c=>{const m=c.classList,f=[];for(let T=0;T<m.length;T++){const G=m.item(T);null!==G&&Gn(G,"ng-")&&f.push(`ion-${G.substring(3)}`)}return f},Wn=(c,m)=>{const f=c.classList;f.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),f.add(...m)},Gn=(c,m)=>c.substring(0,m.length)===m;let Ir=(()=>{class c extends Ln{constructor(f,T){super(f,T)}_handleIonChange(f){this.handleChangeEvent(f,f.value)}registerOnChange(f){super.registerOnChange(T=>{f(""===T?null:parseFloat(T))})}}return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.zs3),a.Y36(a.SBq))},c.\u0275dir=a.lG2({type:c,selectors:[["ion-input","type","number"]],hostBindings:function(f,T){1&f&&a.NdJ("ionChange",function(ot){return T._handleIonChange(ot.target)})},features:[a._Bn([{provide:B.JU,useExisting:c,multi:!0}]),a.qOj]}),c})(),Qt=(()=>{class c extends Ln{constructor(f,T){super(f,T)}_handleInputEvent(f){this.handleChangeEvent(f,f.value)}}return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.zs3),a.Y36(a.SBq))},c.\u0275dir=a.lG2({type:c,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(f,T){1&f&&a.NdJ("ionChange",function(ot){return T._handleInputEvent(ot.target)})},features:[a._Bn([{provide:B.JU,useExisting:c,multi:!0}]),a.qOj]}),c})();const gn=(c,m)=>{const f=c.prototype;m.forEach(T=>{Object.defineProperty(f,T,{get(){return this.el[T]},set(G){this.z.runOutsideAngular(()=>this.el[T]=G)}})})},Hn=(c,m)=>{const f=c.prototype;m.forEach(T=>{f[T]=function(){const G=arguments;return this.z.runOutsideAngular(()=>this.el[T].apply(this.el,G))}})},rn=(c,m,f)=>{f.forEach(T=>c[T]=Ce(m,T))};function Rt(c){return function(f){const{defineCustomElementFn:T,inputs:G,methods:ot}=c;return void 0!==T&&T(),G&&gn(f,G),ot&&Hn(f,ot),f}}let kn=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-app"]],ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0})],c),c})(),xn=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],c),c})(),qt=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement,rn(this,this.el,["ionFocus","ionBlur"])}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],c),c})(),un=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["collapse"]})],c),c})(),dn=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],c),c})(),Ae=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],c),c})(),_e=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","mode"]})],c),c})(),ut=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement,rn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],c),c})(),Mt=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],c),c})(),sn=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],c),c})(),hr=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement,rn(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["alt","src"]})],c),c})(),Tr=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement,rn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],c),c})(),Kn=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],c),c})(),Nn=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],c),c})(),Zn=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],c),c})(),Ar=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","lines","mode"]})],c),c})(),rr=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement,rn(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],c),c})(),Lr=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],c),c})(),Vr=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["autoHide","menu"]})],c),c})(),fr=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","mode"]})],c),c})(),Dr=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement,rn(this,this.el,["ionSplitPaneVisible"])}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["contentId","disabled","when"]})],c),c})(),Kr=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","size"]})],c),c})(),ri=(()=>{let c=class{constructor(f,T,G){this.z=G,f.detach(),this.el=T.nativeElement}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:wt,decls:1,vars:0,template:function(f,T){1&f&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","mode"]})],c),c})();class ii{constructor(m={}){this.data=m}get(m){return this.data[m]}}let Vi=(()=>{class c{constructor(f,T){this.zone=f,this.appRef=T}create(f,T,G,ot){return new ss(f,T,G,this.appRef,this.zone,ot)}}return c.\u0275fac=function(f){return new(f||c)(a.LFG(a.R0b),a.LFG(a.z2F))},c.\u0275prov=a.Yz7({token:c,factory:c.\u0275fac}),c})();class ss{constructor(m,f,T,G,ot,Lt){this.resolverOrInjector=m,this.injector=f,this.location=T,this.appRef=G,this.zone=ot,this.elementReferenceKey=Lt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(m,f,T,G){return this.zone.run(()=>new Promise(ot=>{const Lt=Object.assign({},T);void 0!==this.elementReferenceKey&&(Lt[this.elementReferenceKey]=m),ot(as(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,m,f,Lt,G))}))}removeViewFromDom(m,f){return this.zone.run(()=>new Promise(T=>{const G=this.elRefMap.get(f);if(G){G.destroy(),this.elRefMap.delete(f);const ot=this.elEventsMap.get(f);ot&&(ot(),this.elEventsMap.delete(f))}T()}))}}const as=(c,m,f,T,G,ot,Lt,Xt,Tn,Xn,lr)=>{let Cr;const Or=a.zs3.create({providers:Ai(Xn),parent:f});if(m&&ur(m)){const Fi=m.resolveComponentFactory(Tn);Cr=T?T.createComponent(Fi,T.length,Or):Fi.create(Or)}else{if(!T)return null;Cr=T.createComponent(Tn,{index:T.indexOf,injector:Or,environmentInjector:m})}const Br=Cr.instance,hi=Cr.location.nativeElement;if(Xn&&Object.assign(Br,Xn),lr)for(const Fi of lr)hi.classList.add(Fi);const Zi=Ss(c,Br,hi);return Xt.appendChild(hi),T||G.attachView(Cr.hostView),Cr.changeDetectorRef.reattach(),ot.set(hi,Cr),Lt.set(hi,Zi),hi},Jr=[je.L,je.a,je.b,je.c,je.d],Ss=(c,m,f)=>c.run(()=>{const T=Jr.filter(G=>"function"==typeof m[G]).map(G=>{const ot=Lt=>m[G](Lt.detail);return f.addEventListener(G,ot),()=>f.removeEventListener(G,ot)});return()=>T.forEach(G=>G())}),Eo=new a.OlP("NavParamsToken"),Ai=c=>[{provide:Eo,useValue:c},{provide:ii,useFactory:ao,deps:[Eo]}],ao=c=>new ii(c),no=(c,m)=>((c=c.filter(f=>f.stackId!==m.stackId)).push(m),c),Io=(c,m)=>{const f=c.createUrlTree(["."],{relativeTo:m});return c.serializeUrl(f)},Yo=(c,m)=>{if(!c)return;const f=Ui(m);for(let T=0;T<f.length;T++){if(T>=c.length)return f[T];if(f[T]!==c[T])return}},Ui=c=>c.split("/").map(m=>m.trim()).filter(m=>""!==m),Ki=c=>{c&&(c.ref.destroy(),c.unlistenEvents())};class Ts{constructor(m,f,T,G,ot,Lt){this.containerEl=f,this.router=T,this.navCtrl=G,this.zone=ot,this.location=Lt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==m?Ui(m):void 0}createView(m,f){var T;const G=Io(this.router,f),ot=null===(T=null==m?void 0:m.location)||void 0===T?void 0:T.nativeElement,Lt=Ss(this.zone,m.instance,ot);return{id:this.nextId++,stackId:Yo(this.tabsPrefix,G),unlistenEvents:Lt,element:ot,ref:m,url:G}}getExistingView(m){const f=Io(this.router,m),T=this.views.find(G=>G.url===f);return T&&T.ref.changeDetectorRef.reattach(),T}setActive(m){var f,T;const G=this.navCtrl.consumeTransition();let{direction:ot,animation:Lt,animationBuilder:Xt}=G;const Tn=this.activeView,Xn=((c,m)=>!m||c.stackId!==m.stackId)(m,Tn);Xn&&(ot="back",Lt=void 0);const lr=this.views.slice();let Cr;const Or=this.router;Or.getCurrentNavigation?Cr=Or.getCurrentNavigation():!(null===(f=Or.navigations)||void 0===f)&&f.value&&(Cr=Or.navigations.value),null!==(T=null==Cr?void 0:Cr.extras)&&void 0!==T&&T.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Br=this.views.includes(m),hi=this.insertView(m,ot);Br||m.ref.changeDetectorRef.detectChanges();const Zi=m.animationBuilder;return void 0===Xt&&"back"===ot&&!Xn&&void 0!==Zi&&(Xt=Zi),Tn&&(Tn.animationBuilder=Xt),this.zone.runOutsideAngular(()=>this.wait(()=>(Tn&&Tn.ref.changeDetectorRef.detach(),m.ref.changeDetectorRef.reattach(),this.transition(m,Tn,Lt,this.canGoBack(1),!1,Xt).then(()=>Po(m,hi,lr,this.location,this.zone)).then(()=>({enteringView:m,direction:ot,animation:Lt,tabSwitch:Xn})))))}canGoBack(m,f=this.getActiveStackId()){return this.getStack(f).length>m}pop(m,f=this.getActiveStackId()){return this.zone.run(()=>{var T,G;const ot=this.getStack(f);if(ot.length<=m)return Promise.resolve(!1);const Lt=ot[ot.length-m-1];let Xt=Lt.url;const Tn=Lt.savedData;if(Tn){const lr=Tn.get("primary");null!==(G=null===(T=null==lr?void 0:lr.route)||void 0===T?void 0:T._routerState)&&void 0!==G&&G.snapshot.url&&(Xt=lr.route._routerState.snapshot.url)}const{animationBuilder:Xn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Xt,Object.assign(Object.assign({},Lt.savedExtras),{animation:Xn})).then(()=>!0)})}startBackTransition(){const m=this.activeView;if(m){const f=this.getStack(m.stackId),T=f[f.length-2],G=T.animationBuilder;return this.wait(()=>this.transition(T,m,"back",this.canGoBack(2),!0,G))}return Promise.resolve()}endBackTransition(m){m?(this.skipTransition=!0,this.pop(1)):this.activeView&&Di(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(m){const f=this.getStack(m);return f.length>0?f[f.length-1]:void 0}getRootUrl(m){const f=this.getStack(m);return f.length>0?f[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ki),this.activeView=void 0,this.views=[]}getStack(m){return this.views.filter(f=>f.stackId===m)}insertView(m,f){return this.activeView=m,this.views=((c,m,f)=>"root"===f?no(c,m):"forward"===f?((c,m)=>(c.indexOf(m)>=0?c=c.filter(T=>T.stackId!==m.stackId||T.id<=m.id):c.push(m),c))(c,m):((c,m)=>c.indexOf(m)>=0?c.filter(T=>T.stackId!==m.stackId||T.id<=m.id):no(c,m))(c,m))(this.views,m,f),this.views.slice()}transition(m,f,T,G,ot,Lt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(f===m)return Promise.resolve(!1);const Xt=m?m.element:void 0,Tn=f?f.element:void 0,Xn=this.containerEl;return Xt&&Xt!==Tn&&(Xt.classList.add("ion-page"),Xt.classList.add("ion-page-invisible"),Xt.parentElement!==Xn&&Xn.appendChild(Xt),Xn.commit)?Xn.commit(Xt,Tn,{deepWait:!0,duration:void 0===T?0:void 0,direction:T,showGoBack:G,progressAnimation:ot,animationBuilder:Lt}):Promise.resolve(!1)}wait(m){return(0,N.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const f=this.runningTask=m();return f.finally(()=>this.runningTask=void 0),f})}}const Po=(c,m,f,T,G)=>"function"==typeof requestAnimationFrame?new Promise(ot=>{requestAnimationFrame(()=>{Di(c,m,f,T,G),ot()})}):Promise.resolve(),Di=(c,m,f,T,G)=>{G.run(()=>f.filter(ot=>!m.includes(ot)).forEach(Ki)),m.forEach(ot=>{const Xt=T.path().split("?")[0].split("#")[0];if(ot!==c&&ot.url!==Xt){const Tn=ot.element;Tn.setAttribute("aria-hidden","true"),Tn.classList.add("ion-page-hidden"),ot.ref.changeDetectorRef.detach()}})};let Pi=(()=>{class c{get(f,T){const G=lo();return G?G.get(f,T):null}getBoolean(f,T){const G=lo();return!!G&&G.getBoolean(f,T)}getNumber(f,T){const G=lo();return G?G.getNumber(f,T):0}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275prov=a.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const bi=new a.OlP("USERCONFIG"),lo=()=>{if(typeof window<"u"){const c=window.Ionic;if(null!=c&&c.config)return c.config}return null};let uo=(()=>{class c{constructor(f,T){this.doc=f,this.backButton=new de.x,this.keyboardDidShow=new de.x,this.keyboardDidHide=new de.x,this.pause=new de.x,this.resume=new de.x,this.resize=new de.x,T.run(()=>{var G;let ot;this.win=f.defaultView,this.backButton.subscribeWithPriority=function(Lt,Xt){return this.subscribe(Tn=>Tn.register(Lt,Xn=>T.run(()=>Xt(Xn))))},ar(this.pause,f,"pause"),ar(this.resume,f,"resume"),ar(this.backButton,f,"ionBackButton"),ar(this.resize,this.win,"resize"),ar(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),ar(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Lt=>{ot=Lt}),null!==(G=this.win)&&void 0!==G&&G.cordova?f.addEventListener("deviceready",()=>{ot("cordova")},{once:!0}):ot("dom")})}is(f){return(0,Q.a)(this.win,f)}platforms(){return(0,Q.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(f){return As(this.win.location.href,f)}isLandscape(){return!this.isPortrait()}isPortrait(){var f,T;return null===(T=(f=this.win).matchMedia)||void 0===T?void 0:T.call(f,"(orientation: portrait)").matches}testUserAgent(f){const T=this.win.navigator;return!!(null!=T&&T.userAgent&&T.userAgent.indexOf(f)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return c.\u0275fac=function(f){return new(f||c)(a.LFG(Ze.K0),a.LFG(a.R0b))},c.\u0275prov=a.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const As=(c,m)=>{m=m.replace(/[[\]\\]/g,"\\$&");const T=new RegExp("[\\?&]"+m+"=([^&#]*)").exec(c);return T?decodeURIComponent(T[1].replace(/\+/g," ")):null},ar=(c,m,f)=>{m&&m.addEventListener(f,T=>{c.next(null!=T?T.detail:void 0)})};let xi=(()=>{class c{constructor(f,T,G,ot){this.location=T,this.serializer=G,this.router=ot,this.direction=ji,this.animated=ko,this.guessDirection="forward",this.lastNavId=-1,ot&&ot.events.subscribe(Lt=>{if(Lt instanceof Ye.OD){const Xt=Lt.restoredState?Lt.restoredState.navigationId:Lt.id;this.guessDirection=Xt<this.lastNavId?"back":"forward",this.guessAnimation=Lt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Lt.id:Xt}}),f.backButton.subscribeWithPriority(0,Lt=>{this.pop(),Lt()})}navigateForward(f,T={}){return this.setDirection("forward",T.animated,T.animationDirection,T.animation),this.navigate(f,T)}navigateBack(f,T={}){return this.setDirection("back",T.animated,T.animationDirection,T.animation),this.navigate(f,T)}navigateRoot(f,T={}){return this.setDirection("root",T.animated,T.animationDirection,T.animation),this.navigate(f,T)}back(f={animated:!0,animationDirection:"back"}){return this.setDirection("back",f.animated,f.animationDirection,f.animation),this.location.back()}pop(){return(0,N.mG)(this,void 0,void 0,function*(){let f=this.topOutlet;for(;f&&!(yield f.pop());)f=f.parentOutlet})}setDirection(f,T,G,ot){this.direction=f,this.animated=ki(f,T,G),this.animationBuilder=ot}setTopOutlet(f){this.topOutlet=f}consumeTransition(){let T,f="root";const G=this.animationBuilder;return"auto"===this.direction?(f=this.guessDirection,T=this.guessAnimation):(T=this.animated,f=this.direction),this.direction=ji,this.animated=ko,this.animationBuilder=void 0,{direction:f,animation:T,animationBuilder:G}}navigate(f,T){if(Array.isArray(f))return this.router.navigate(f,T);{const G=this.serializer.parse(f.toString());return void 0!==T.queryParams&&(G.queryParams=Object.assign({},T.queryParams)),void 0!==T.fragment&&(G.fragment=T.fragment),this.router.navigateByUrl(G,T)}}}return c.\u0275fac=function(f){return new(f||c)(a.LFG(uo),a.LFG(Ze.Ye),a.LFG(Ye.Hx),a.LFG(Ye.F0,8))},c.\u0275prov=a.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const ki=(c,m,f)=>{if(!1!==m){if(void 0!==f)return f;if("forward"===c||"back"===c)return c;if("root"===c&&!0===m)return"forward"}},ji="auto",ko=void 0;let Ri=(()=>{class c{constructor(f,T,G,ot,Lt,Xt,Tn,Xn,lr,Cr,Or,Br,hi){this.parentContexts=f,this.location=T,this.config=Lt,this.navCtrl=Xt,this.componentFactoryResolver=Tn,this.parentOutlet=hi,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ne.X(null),this.stackEvents=new a.vpe,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.nativeEl=lr.nativeElement,this.name=G||Ye.eC,this.tabsPrefix="true"===ot?Io(Cr,Br):void 0,this.stackCtrl=new Ts(this.tabsPrefix,this.nativeEl,Cr,Xt,Or,Xn),f.onChildOutletCreated(this.name,this)}set animation(f){this.nativeEl.animation=f}set animated(f){this.nativeEl.animated=f}set swipeGesture(f){this._swipeGesture=f,this.nativeEl.swipeHandler=f?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:T=>this.stackCtrl.endBackTransition(T)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const f=this.getContext();null!=f&&f.route&&this.activateWith(f.route,f.resolver||null)}new Promise(f=>(0,te.c)(this.nativeEl,f)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(f,T){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const T=this.getContext();this.activatedView.savedData=new Map(T.children.contexts);const G=this.activatedView.savedData.get("primary");if(G&&T.route&&(G.route=Object.assign({},T.route)),this.activatedView.savedExtras={},T.route){const ot=T.route.snapshot;this.activatedView.savedExtras.queryParams=ot.queryParams,this.activatedView.savedExtras.fragment=ot.fragment}}const f=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,T){var G;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=f;let ot,Lt=this.stackCtrl.getExistingView(f);if(Lt){ot=this.activated=Lt.ref;const Xt=Lt.savedData;Xt&&(this.getContext().children.contexts=Xt),this.updateActivatedRouteProxy(ot.instance,f)}else{const Xt=f._futureSnapshot;if(null==Xt.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const Tn=this.parentContexts.getOrCreateContext(this.name).children,Xn=new ne.X(null),lr=this.createActivatedRouteProxy(Xn,f),Cr=new Hi(lr,Tn,this.location.injector),Or=null!==(G=Xt.routeConfig.component)&&void 0!==G?G:Xt.component;if((T=T||this.componentFactoryResolver)&&ur(T)){const Br=T.resolveComponentFactory(Or);ot=this.activated=this.location.createComponent(Br,this.location.length,Cr)}else ot=this.activated=this.location.createComponent(Or,{index:this.location.length,injector:Cr,environmentInjector:null!=T?T:this.environmentInjector});Xn.next(ot.instance),Lt=this.stackCtrl.createView(this.activated,f),this.proxyMap.set(ot.instance,lr),this.currentActivatedRoute$.next({component:ot.instance,activatedRoute:f})}this.activatedView=Lt,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(Lt).then(Xt=>{this.activateEvents.emit(ot.instance),this.stackEvents.emit(Xt)})}canGoBack(f=1,T){return this.stackCtrl.canGoBack(f,T)}pop(f=1,T){return this.stackCtrl.pop(f,T)}getLastUrl(f){const T=this.stackCtrl.getLastUrl(f);return T?T.url:void 0}getLastRouteView(f){return this.stackCtrl.getLastUrl(f)}getRootView(f){return this.stackCtrl.getRootUrl(f)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(f,T){const G=new Ye.gz;return G._futureSnapshot=T._futureSnapshot,G._routerState=T._routerState,G.snapshot=T.snapshot,G.outlet=T.outlet,G.component=T.component,G._paramMap=this.proxyObservable(f,"paramMap"),G._queryParamMap=this.proxyObservable(f,"queryParamMap"),G.url=this.proxyObservable(f,"url"),G.params=this.proxyObservable(f,"params"),G.queryParams=this.proxyObservable(f,"queryParams"),G.fragment=this.proxyObservable(f,"fragment"),G.data=this.proxyObservable(f,"data"),G}proxyObservable(f,T){return f.pipe((0,Je.h)(G=>!!G),(0,Ue.w)(G=>this.currentActivatedRoute$.pipe((0,Je.h)(ot=>null!==ot&&ot.component===G),(0,Ue.w)(ot=>ot&&ot.activatedRoute[T]),(0,st.x)())))}updateActivatedRouteProxy(f,T){const G=this.proxyMap.get(f);if(!G)throw new Error("Could not find activated route proxy for view");G._futureSnapshot=T._futureSnapshot,G._routerState=T._routerState,G.snapshot=T.snapshot,G.outlet=T.outlet,G.component=T.component,this.currentActivatedRoute$.next({component:f,activatedRoute:T})}}return c.\u0275fac=function(f){return new(f||c)(a.Y36(Ye.y6),a.Y36(a.s_b),a.$8M("name"),a.$8M("tabs"),a.Y36(Pi),a.Y36(xi),a.Y36(a._Vd,8),a.Y36(Ze.Ye),a.Y36(a.SBq),a.Y36(Ye.F0),a.Y36(a.R0b),a.Y36(Ye.gz),a.Y36(c,12))},c.\u0275dir=a.lG2({type:c,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),c})();class Hi{constructor(m,f,T){this.route=m,this.childContexts=f,this.parent=T}get(m,f){return m===Ye.gz?this.route:m===Ye.y6?this.childContexts:this.parent.get(m,f)}}let Do=(()=>{class c{constructor(f,T,G){this.routerOutlet=f,this.navCtrl=T,this.config=G}onClick(f){var T;const G=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(T=this.routerOutlet)&&void 0!==T&&T.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),f.preventDefault()):null!=G&&(this.navCtrl.navigateBack(G,{animation:this.routerAnimation}),f.preventDefault())}}return c.\u0275fac=function(f){return new(f||c)(a.Y36(Ri,8),a.Y36(xi),a.Y36(Pi))},c.\u0275dir=a.lG2({type:c,selectors:[["ion-back-button"]],hostBindings:function(f,T){1&f&&a.NdJ("click",function(ot){return T.onClick(ot)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),c})(),Ni=(()=>{class c{constructor(f,T,G,ot,Lt){this.locationStrategy=f,this.navCtrl=T,this.elementRef=G,this.router=ot,this.routerLink=Lt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var f;if(null!==(f=this.routerLink)&&void 0!==f&&f.urlTree){const T=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=T}}onClick(f){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),f.preventDefault()}}return c.\u0275fac=function(f){return new(f||c)(a.Y36(Ze.S$),a.Y36(xi),a.Y36(a.SBq),a.Y36(Ye.F0),a.Y36(Ye.rH,8))},c.\u0275dir=a.lG2({type:c,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(f,T){1&f&&a.NdJ("click",function(ot){return T.onClick(ot)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[a.TTD]}),c})(),Hr=(()=>{class c{constructor(f,T,G,ot,Lt){this.locationStrategy=f,this.navCtrl=T,this.elementRef=G,this.router=ot,this.routerLink=Lt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var f;if(null!==(f=this.routerLink)&&void 0!==f&&f.urlTree){const T=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=T}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return c.\u0275fac=function(f){return new(f||c)(a.Y36(Ze.S$),a.Y36(xi),a.Y36(a.SBq),a.Y36(Ye.F0),a.Y36(Ye.rH,8))},c.\u0275dir=a.lG2({type:c,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(f,T){1&f&&a.NdJ("click",function(){return T.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[a.TTD]}),c})(),di=(()=>{let c=class{constructor(f,T,G){this.z=G,this.isCmpOpen=!1,this.el=T.nativeElement,this.el.addEventListener("willPresent",()=>{this.isCmpOpen=!0,f.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,f.detectChanges()}),rn(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return c.\u0275fac=function(f){return new(f||c)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},c.\u0275cmp=a.Xpm({type:c,selectors:[["ion-modal"]],contentQueries:function(f,T,G){if(1&f&&a.Suo(G,a.Rgc,5),2&f){let ot;a.iGM(ot=a.CRH())&&(T.template=ot.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",swipeToClose:"swipeToClose",translucent:"translucent",trigger:"trigger"},decls:1,vars:1,consts:[["class","ion-page",4,"ngIf"],[1,"ion-page"],[3,"ngTemplateOutlet"]],template:function(f,T){1&f&&a.YNc(0,Ht,2,1,"div",0),2&f&&a.Q6J("ngIf",T.isCmpOpen||T.keepContentsMounted)},dependencies:[Ze.O5,Ze.tP],encapsulation:2,changeDetection:0}),c=(0,N.gn)([Rt({inputs:["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","swipeToClose","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"]})],c),c})();class No{constructor(m){this.ctrl=m}create(m){return this.ctrl.create(m||{})}dismiss(m,f,T){return this.ctrl.dismiss(m,f,T)}getTop(){return this.ctrl.getTop()}}let fo=(()=>{class c extends No{constructor(){super(Ve.l)}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275prov=a.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();class vi{}let Zo=(()=>{class c extends No{constructor(f,T,G,ot){super(Ve.m),this.angularDelegate=f,this.resolver=T,this.injector=G,this.environmentInjector=ot}create(f){var T;return super.create(Object.assign(Object.assign({},f),{delegate:this.angularDelegate.create(null!==(T=this.resolver)&&void 0!==T?T:this.environmentInjector,this.injector,void 0,"modal")}))}}return c.\u0275fac=function(f){return new(f||c)(a.LFG(Vi),a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(vi,8))},c.\u0275prov=a.Yz7({token:c,factory:c.\u0275fac}),c})(),Fo=(()=>{class c extends No{constructor(f,T,G,ot){super(Ve.c),this.angularDelegate=f,this.resolver=T,this.injector=G,this.environmentInjector=ot}create(f){var T;return super.create(Object.assign(Object.assign({},f),{delegate:this.angularDelegate.create(null!==(T=this.resolver)&&void 0!==T?T:this.environmentInjector,this.injector,void 0,"popover")}))}}return c.\u0275fac=function(f){return new(f||c)(a.LFG(Vi),a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(vi,8))},c.\u0275prov=a.Yz7({token:c,factory:c.\u0275fac}),c})(),Un=(()=>{class c extends No{constructor(){super(Ve.t)}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275prov=a.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();class io{shouldDetach(m){return!1}shouldAttach(m){return!1}store(m,f){}retrieve(m){return null}shouldReuseRoute(m,f){if(m.routeConfig!==f.routeConfig)return!1;const T=m.params,G=f.params,ot=Object.keys(T),Lt=Object.keys(G);if(ot.length!==Lt.length)return!1;for(const Xt of ot)if(G[Xt]!==T[Xt])return!1;return!0}}const Fs=(c,m,f)=>()=>{if(m.defaultView&&typeof window<"u"){(c=>{const m=window,f=m.Ionic;f&&f.config&&"Object"!==f.config.constructor.name||(m.Ionic=m.Ionic||{},m.Ionic.config=Object.assign(Object.assign({},m.Ionic.config),c))})(Object.assign(Object.assign({},c),{_zoneGate:ot=>f.run(ot)}));const G="__zone_symbol__addEventListener"in m.body?"__zone_symbol__addEventListener":"addEventListener";return function _t(){var c=[];if(typeof window<"u"){var m=window;(!m.customElements||m.Element&&(!m.Element.prototype.closest||!m.Element.prototype.matches||!m.Element.prototype.remove||!m.Element.prototype.getRootNode))&&c.push(k.e(6748).then(k.t.bind(k,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||m.NodeList&&!m.NodeList.prototype.forEach||!m.fetch||!function(){try{var T=new URL("b","http://a");return T.pathname="c%20d","http://a/c%20d"===T.href&&T.searchParams}catch(G){return!1}}()||typeof WeakMap>"u")&&c.push(k.e(2214).then(k.t.bind(k,4144,23)))}return Promise.all(c)}().then(()=>((c,m)=>typeof window>"u"?Promise.resolve():(0,He.p)().then(()=>(bt(),(0,He.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),m))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Jn,jmp:ot=>f.runOutsideAngular(ot),ael(ot,Lt,Xt,Tn){ot[G](Lt,Xt,Tn)},rel(ot,Lt,Xt,Tn){ot.removeEventListener(Lt,Xt,Tn)}}))}};let x=(()=>{class c{static forRoot(f){return{ngModule:c,providers:[{provide:bi,useValue:f},{provide:a.ip1,useFactory:Fs,multi:!0,deps:[bi,Ze.K0,a.R0b]}]}}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275mod=a.oAB({type:c}),c.\u0275inj=a.cJS({providers:[Vi,Zo,Fo],imports:[[Ze.ez]]}),c})()},181:(zt,rt,k)=>{"use strict";k.d(rt,{c:()=>dt});var a=k(5730),B=k(3457);let N;const ue=be=>be.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ye=be=>(void 0===N&&(N=void 0===be.style.animationName&&void 0!==be.style.webkitAnimationName?"-webkit-":""),N),le=(be,de,ne)=>{const Ye=de.startsWith("animation")?ye(be):"";be.style.setProperty(Ye+de,ne)},Ie=(be,de)=>{const ne=de.startsWith("animation")?ye(be):"";be.style.removeProperty(ne+de)},ae=[],qe=(be=[],de)=>{if(void 0!==de){const ne=Array.isArray(de)?de:[de];return[...be,...ne]}return be},dt=be=>{let de,ne,Ye,We,Xe,De,Pe,Me,Se,Je,Ue,bt,Ot,we=[],Q=[],te=[],je=!1,Ve={},ze=[],Qe=[],He={},it=0,at=!1,xe=!1,st=!0,Ze=!1,_t=!0,Gt=!1;const wt=be,nn=[],wn=[],Sn=[],Ht=[],Fn=[],Jn=[],ur=[],Ln=[],qn=[],Nt=[],Wn="function"==typeof AnimationEffect||void 0!==B.w&&"function"==typeof B.w.AnimationEffect,Gn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Wn,Ir=()=>Nt,Hn=(ee,ke)=>((null!=ke&&ke.oneTimeCallback?wn:nn).push({c:ee,o:ke}),Ot),cr=()=>{if(Gn)Nt.forEach(ee=>{ee.cancel()}),Nt.length=0;else{const ee=Sn.slice();(0,a.r)(()=>{ee.forEach(ke=>{Ie(ke,"animation-name"),Ie(ke,"animation-duration"),Ie(ke,"animation-timing-function"),Ie(ke,"animation-iteration-count"),Ie(ke,"animation-delay"),Ie(ke,"animation-play-state"),Ie(ke,"animation-fill-mode"),Ie(ke,"animation-direction")})})}},Rt=()=>{Fn.forEach(ee=>{null!=ee&&ee.parentNode&&ee.parentNode.removeChild(ee)}),Fn.length=0},Rn=()=>void 0!==Xe?Xe:Pe?Pe.getFill():"both",Ae=()=>void 0!==Se?Se:void 0!==De?De:Pe?Pe.getDirection():"normal",_e=()=>at?"linear":void 0!==Ye?Ye:Pe?Pe.getEasing():"linear",$e=()=>xe?0:void 0!==Je?Je:void 0!==ne?ne:Pe?Pe.getDuration():0,he=()=>void 0!==We?We:Pe?Pe.getIterations():1,X=()=>void 0!==Ue?Ue:void 0!==de?de:Pe?Pe.getDelay():0,Tr=()=>{0!==it&&(it--,0===it&&((()=>{_n(),Ln.forEach(Dt=>Dt()),qn.forEach(Dt=>Dt());const ee=st?1:0,ke=ze,Ke=Qe,pt=He;Sn.forEach(Dt=>{const Bt=Dt.classList;ke.forEach(on=>Bt.add(on)),Ke.forEach(on=>Bt.remove(on));for(const on in pt)pt.hasOwnProperty(on)&&le(Dt,on,pt[on])}),nn.forEach(Dt=>Dt.c(ee,Ot)),wn.forEach(Dt=>Dt.c(ee,Ot)),wn.length=0,_t=!0,st&&(Ze=!0),st=!0})(),Pe&&Pe.animationFinish()))},Kn=(ee=!0)=>{Rt();const ke=(be=>(be.forEach(de=>{for(const ne in de)if(de.hasOwnProperty(ne)){const Ye=de[ne];if("easing"===ne)de["animation-timing-function"]=Ye,delete de[ne];else{const We=ue(ne);We!==ne&&(de[We]=Ye,delete de[ne])}}}),be))(we);Sn.forEach(Ke=>{if(ke.length>0){const pt=((be=[])=>be.map(de=>{const ne=de.offset,Ye=[];for(const We in de)de.hasOwnProperty(We)&&"offset"!==We&&Ye.push(`${We}: ${de[We]};`);return`${100*ne}% { ${Ye.join(" ")} }`}).join(" "))(ke);bt=void 0!==be?be:(be=>{let de=ae.indexOf(be);return de<0&&(de=ae.push(be)-1),`ion-animation-${de}`})(pt);const Dt=((be,de,ne)=>{var Ye;const We=(be=>{const de=void 0!==be.getRootNode?be.getRootNode():be;return de.head||de})(ne),Xe=ye(ne),De=We.querySelector("#"+be);if(De)return De;const we=(null!==(Ye=ne.ownerDocument)&&void 0!==Ye?Ye:document).createElement("style");return we.id=be,we.textContent=`@${Xe}keyframes ${be} { ${de} } @${Xe}keyframes ${be}-alt { ${de} }`,We.appendChild(we),we})(bt,pt,Ke);Fn.push(Dt),le(Ke,"animation-duration",`${$e()}ms`),le(Ke,"animation-timing-function",_e()),le(Ke,"animation-delay",`${X()}ms`),le(Ke,"animation-fill-mode",Rn()),le(Ke,"animation-direction",Ae());const Bt=he()===1/0?"infinite":he().toString();le(Ke,"animation-iteration-count",Bt),le(Ke,"animation-play-state","paused"),ee&&le(Ke,"animation-name",`${Dt.id}-alt`),(0,a.r)(()=>{le(Ke,"animation-name",Dt.id||null)})}})},eo=(ee=!0)=>{(()=>{Jn.forEach(pt=>pt()),ur.forEach(pt=>pt());const ee=Q,ke=te,Ke=Ve;Sn.forEach(pt=>{const Dt=pt.classList;ee.forEach(Bt=>Dt.add(Bt)),ke.forEach(Bt=>Dt.remove(Bt));for(const Bt in Ke)Ke.hasOwnProperty(Bt)&&le(pt,Bt,Ke[Bt])})})(),we.length>0&&(Gn?(Sn.forEach(ee=>{const ke=ee.animate(we,{id:wt,delay:X(),duration:$e(),easing:_e(),iterations:he(),fill:Rn(),direction:Ae()});ke.pause(),Nt.push(ke)}),Nt.length>0&&(Nt[0].onfinish=()=>{Tr()})):Kn(ee)),je=!0},oi=ee=>{if(ee=Math.min(Math.max(ee,0),.9999),Gn)Nt.forEach(ke=>{ke.currentTime=ke.effect.getComputedTiming().delay+$e()*ee,ke.pause()});else{const ke=`-${$e()*ee}ms`;Sn.forEach(Ke=>{we.length>0&&(le(Ke,"animation-delay",ke),le(Ke,"animation-play-state","paused"))})}},qr=ee=>{Nt.forEach(ke=>{ke.effect.updateTiming({delay:X(),duration:$e(),easing:_e(),iterations:he(),fill:Rn(),direction:Ae()})}),void 0!==ee&&oi(ee)},Si=(ee=!0,ke)=>{(0,a.r)(()=>{Sn.forEach(Ke=>{le(Ke,"animation-name",bt||null),le(Ke,"animation-duration",`${$e()}ms`),le(Ke,"animation-timing-function",_e()),le(Ke,"animation-delay",void 0!==ke?`-${ke*$e()}ms`:`${X()}ms`),le(Ke,"animation-fill-mode",Rn()||null),le(Ke,"animation-direction",Ae()||null);const pt=he()===1/0?"infinite":he().toString();le(Ke,"animation-iteration-count",pt),ee&&le(Ke,"animation-name",`${bt}-alt`),(0,a.r)(()=>{le(Ke,"animation-name",bt||null)})})})},Nn=(ee=!1,ke=!0,Ke)=>(ee&&Ht.forEach(pt=>{pt.update(ee,ke,Ke)}),Gn?qr(Ke):Si(ke,Ke),Ot),Lr=()=>{je&&(Gn?Nt.forEach(ee=>{ee.pause()}):Sn.forEach(ee=>{le(ee,"animation-play-state","paused")}),Gt=!0)},Jt=()=>{Me=void 0,Tr()},_n=()=>{Me&&clearTimeout(Me)},F=ee=>new Promise(ke=>{null!=ee&&ee.sync&&(xe=!0,Hn(()=>xe=!1,{oneTimeCallback:!0})),je||eo(),Ze&&(Gn?(oi(0),qr()):Si(),Ze=!1),_t&&(it=Ht.length+1,_t=!1),Hn(()=>ke(),{oneTimeCallback:!0}),Ht.forEach(Ke=>{Ke.play()}),Gn?(Nt.forEach(ee=>{ee.play()}),(0===we.length||0===Sn.length)&&Tr()):(()=>{if(_n(),(0,a.r)(()=>{Sn.forEach(ee=>{we.length>0&&le(ee,"animation-play-state","running")})}),0===we.length||0===Sn.length)Tr();else{const ee=X()||0,ke=$e()||0,Ke=he()||1;isFinite(Ke)&&(Me=setTimeout(Jt,ee+ke*Ke+100)),((be,de)=>{let ne;const Ye={passive:!0},Xe=De=>{be===De.target&&(ne&&ne(),_n(),(0,a.r)(()=>{Sn.forEach(ee=>{Ie(ee,"animation-duration"),Ie(ee,"animation-delay"),Ie(ee,"animation-play-state")}),(0,a.r)(Tr)}))};be&&(be.addEventListener("webkitAnimationEnd",Xe,Ye),be.addEventListener("animationend",Xe,Ye),ne=()=>{be.removeEventListener("webkitAnimationEnd",Xe,Ye),be.removeEventListener("animationend",Xe,Ye)})})(Sn[0])}})(),Gt=!1}),ie=(ee,ke)=>{const Ke=we[0];return void 0===Ke||void 0!==Ke.offset&&0!==Ke.offset?we=[{offset:0,[ee]:ke},...we]:Ke[ee]=ke,Ot};return Ot={parentAnimation:Pe,elements:Sn,childAnimations:Ht,id:wt,animationFinish:Tr,from:ie,to:(ee,ke)=>{const Ke=we[we.length-1];return void 0===Ke||void 0!==Ke.offset&&1!==Ke.offset?we=[...we,{offset:1,[ee]:ke}]:Ke[ee]=ke,Ot},fromTo:(ee,ke,Ke)=>ie(ee,ke).to(ee,Ke),parent:ee=>(Pe=ee,Ot),play:F,pause:()=>(Ht.forEach(ee=>{ee.pause()}),Lr(),Ot),stop:()=>{Ht.forEach(ee=>{ee.stop()}),je&&(cr(),je=!1),at=!1,xe=!1,_t=!0,Se=void 0,Je=void 0,Ue=void 0,it=0,Ze=!1,st=!0,Gt=!1},destroy:ee=>(Ht.forEach(ke=>{ke.destroy(ee)}),(ee=>{cr(),ee&&Rt()})(ee),Sn.length=0,Ht.length=0,we.length=0,nn.length=0,wn.length=0,je=!1,_t=!0,Ot),keyframes:ee=>{const ke=we!==ee;return we=ee,ke&&(ee=>{Gn?Ir().forEach(ke=>{if(ke.effect.setKeyframes)ke.effect.setKeyframes(ee);else{const Ke=new KeyframeEffect(ke.effect.target,ee,ke.effect.getTiming());ke.effect=Ke}}):Kn()})(we),Ot},addAnimation:ee=>{if(null!=ee)if(Array.isArray(ee))for(const ke of ee)ke.parent(Ot),Ht.push(ke);else ee.parent(Ot),Ht.push(ee);return Ot},addElement:ee=>{if(null!=ee)if(1===ee.nodeType)Sn.push(ee);else if(ee.length>=0)for(let ke=0;ke<ee.length;ke++)Sn.push(ee[ke]);else console.error("Invalid addElement value");return Ot},update:Nn,fill:ee=>(Xe=ee,Nn(!0),Ot),direction:ee=>(De=ee,Nn(!0),Ot),iterations:ee=>(We=ee,Nn(!0),Ot),duration:ee=>(!Gn&&0===ee&&(ee=1),ne=ee,Nn(!0),Ot),easing:ee=>(Ye=ee,Nn(!0),Ot),delay:ee=>(de=ee,Nn(!0),Ot),getWebAnimations:Ir,getKeyframes:()=>we,getFill:Rn,getDirection:Ae,getDelay:X,getIterations:he,getEasing:_e,getDuration:$e,afterAddRead:ee=>(Ln.push(ee),Ot),afterAddWrite:ee=>(qn.push(ee),Ot),afterClearStyles:(ee=[])=>{for(const ke of ee)He[ke]="";return Ot},afterStyles:(ee={})=>(He=ee,Ot),afterRemoveClass:ee=>(Qe=qe(Qe,ee),Ot),afterAddClass:ee=>(ze=qe(ze,ee),Ot),beforeAddRead:ee=>(Jn.push(ee),Ot),beforeAddWrite:ee=>(ur.push(ee),Ot),beforeClearStyles:(ee=[])=>{for(const ke of ee)Ve[ke]="";return Ot},beforeStyles:(ee={})=>(Ve=ee,Ot),beforeRemoveClass:ee=>(te=qe(te,ee),Ot),beforeAddClass:ee=>(Q=qe(Q,ee),Ot),onFinish:Hn,isRunning:()=>0!==it&&!Gt,progressStart:(ee=!1,ke)=>(Ht.forEach(Ke=>{Ke.progressStart(ee,ke)}),Lr(),at=ee,je||eo(),Nn(!1,!0,ke),Ot),progressStep:ee=>(Ht.forEach(ke=>{ke.progressStep(ee)}),oi(ee),Ot),progressEnd:(ee,ke,Ke)=>(at=!1,Ht.forEach(pt=>{pt.progressEnd(ee,ke,Ke)}),void 0!==Ke&&(Je=Ke),Ze=!1,st=!0,0===ee?(Se="reverse"===Ae()?"normal":"reverse","reverse"===Se&&(st=!1),Gn?(Nn(),oi(1-ke)):(Ue=(1-ke)*$e()*-1,Nn(!1,!1))):1===ee&&(Gn?(Nn(),oi(ke)):(Ue=ke*$e()*-1,Nn(!1,!1))),void 0!==ee&&(Hn(()=>{Je=void 0,Se=void 0,Ue=void 0},{oneTimeCallback:!0}),Pe||F()),Ot)}}},4349:(zt,rt,k)=>{"use strict";k.d(rt,{G:()=>ue});class B{constructor(le,Ie,Le,ce,ae){this.id=Ie,this.name=Le,this.disableScroll=ae,this.priority=1e6*ce+Ie,this.ctrl=le}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const le=this.ctrl.capture(this.name,this.id,this.priority);return le&&this.disableScroll&&this.ctrl.disableScroll(this.id),le}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class N{constructor(le,Ie,Le,ce){this.id=Ie,this.disable=Le,this.disableScroll=ce,this.ctrl=le}block(){if(this.ctrl){if(this.disable)for(const le of this.disable)this.ctrl.disableGesture(le,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const le of this.disable)this.ctrl.enableGesture(le,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const pe="backdrop-no-scroll",ue=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(le){var Ie;return new B(this,this.newID(),le.name,null!==(Ie=le.priority)&&void 0!==Ie?Ie:0,!!le.disableScroll)}createBlocker(le={}){return new N(this,this.newID(),le.disable,!!le.disableScroll)}start(le,Ie,Le){return this.canStart(le)?(this.requestedStart.set(Ie,Le),!0):(this.requestedStart.delete(Ie),!1)}capture(le,Ie,Le){if(!this.start(le,Ie,Le))return!1;const ce=this.requestedStart;let ae=-1e4;if(ce.forEach(fe=>{ae=Math.max(ae,fe)}),ae===Le){this.capturedId=Ie,ce.clear();const fe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:le}});return document.dispatchEvent(fe),!0}return ce.delete(Ie),!1}release(le){this.requestedStart.delete(le),this.capturedId===le&&(this.capturedId=void 0)}disableGesture(le,Ie){let Le=this.disabledGestures.get(le);void 0===Le&&(Le=new Set,this.disabledGestures.set(le,Le)),Le.add(Ie)}enableGesture(le,Ie){const Le=this.disabledGestures.get(le);void 0!==Le&&Le.delete(Ie)}disableScroll(le){this.disabledScroll.add(le),1===this.disabledScroll.size&&document.body.classList.add(pe)}enableScroll(le){this.disabledScroll.delete(le),0===this.disabledScroll.size&&document.body.classList.remove(pe)}canStart(le){return!(void 0!==this.capturedId||this.isDisabled(le))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(le){const Ie=this.disabledGestures.get(le);return!!(Ie&&Ie.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(zt,rt,k)=>{"use strict";k.r(rt),k.d(rt,{MENU_BACK_BUTTON_PRIORITY:()=>ue,OVERLAY_BACK_BUTTON_PRIORITY:()=>pe,blockHardwareBackButton:()=>B,startHardwareBackButton:()=>N});var a=k(5861);const B=()=>{document.addEventListener("backbutton",()=>{})},N=()=>{const ye=document;let le=!1;ye.addEventListener("backbutton",()=>{if(le)return;let Ie=0,Le=[];const ce=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ce,Fe){Le.push({priority:Ce,handler:Fe,id:Ie++})}}});ye.dispatchEvent(ce);const ae=function(){var Ce=(0,a.Z)(function*(Fe){try{if(null!=Fe&&Fe.handler){const qe=Fe.handler(fe);null!=qe&&(yield qe)}}catch(qe){console.error(qe)}});return function(qe){return Ce.apply(this,arguments)}}(),fe=()=>{if(Le.length>0){let Ce={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Le.forEach(Fe=>{Fe.priority>=Ce.priority&&(Ce=Fe)}),le=!0,Le=Le.filter(Fe=>Fe.id!==Ce.id),ae(Ce).then(()=>le=!1)}};fe()})},pe=100,ue=99},5730:(zt,rt,k)=>{"use strict";k.d(rt,{a:()=>le,b:()=>Ie,c:()=>N,d:()=>Fe,e:()=>qe,f:()=>Ce,g:()=>Le,h:()=>We,i:()=>ye,j:()=>pe,k:()=>fe,l:()=>dt,m:()=>ae,n:()=>be,o:()=>Ye,p:()=>ne,q:()=>Xe,r:()=>ce,s:()=>De,t:()=>a,u:()=>de});const a=(we,Q=0)=>new Promise(te=>{B(we,Q,te)}),B=(we,Q=0,te)=>{let je,Pe;const Ve={passive:!0},Qe=()=>{je&&je()},He=it=>{(void 0===it||we===it.target)&&(Qe(),te(it))};return we&&(we.addEventListener("webkitTransitionEnd",He,Ve),we.addEventListener("transitionend",He,Ve),Pe=setTimeout(He,Q+500),je=()=>{Pe&&(clearTimeout(Pe),Pe=void 0),we.removeEventListener("webkitTransitionEnd",He,Ve),we.removeEventListener("transitionend",He,Ve)}),Qe},N=(we,Q)=>{we.componentOnReady?we.componentOnReady().then(te=>Q(te)):ce(()=>Q(we))},pe=(we,Q=[])=>{const te={};return Q.forEach(je=>{we.hasAttribute(je)&&(null!==we.getAttribute(je)&&(te[je]=we.getAttribute(je)),we.removeAttribute(je))}),te},ue=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ye=(we,Q)=>{let te=ue;return Q&&Q.length>0&&(te=te.filter(je=>!Q.includes(je))),pe(we,te)},le=(we,Q,te,je)=>{var Pe;if(typeof window<"u"){const Ve=window,ze=null===(Pe=null==Ve?void 0:Ve.Ionic)||void 0===Pe?void 0:Pe.config;if(ze){const Qe=ze.get("_ael");if(Qe)return Qe(we,Q,te,je);if(ze._ael)return ze._ael(we,Q,te,je)}}return we.addEventListener(Q,te,je)},Ie=(we,Q,te,je)=>{var Pe;if(typeof window<"u"){const Ve=window,ze=null===(Pe=null==Ve?void 0:Ve.Ionic)||void 0===Pe?void 0:Pe.config;if(ze){const Qe=ze.get("_rel");if(Qe)return Qe(we,Q,te,je);if(ze._rel)return ze._rel(we,Q,te,je)}}return we.removeEventListener(Q,te,je)},Le=(we,Q=we)=>we.shadowRoot||Q,ce=we=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(we):"function"==typeof requestAnimationFrame?requestAnimationFrame(we):setTimeout(we),ae=we=>!!we.shadowRoot&&!!we.attachShadow,fe=we=>{const Q=we.closest("ion-item");return Q?Q.querySelector("ion-label"):null},Ce=we=>{if(we.focus(),we.classList.contains("ion-focusable")){const Q=we.closest("ion-app");Q&&Q.setFocus([we])}},Fe=(we,Q)=>{let te;const je=we.getAttribute("aria-labelledby"),Pe=we.id;let Ve=null!==je&&""!==je.trim()?je:Q+"-lbl",ze=null!==je&&""!==je.trim()?document.getElementById(je):fe(we);return ze?(null===je&&(ze.id=Ve),te=ze.textContent,ze.setAttribute("aria-hidden","true")):""!==Pe.trim()&&(ze=document.querySelector(`label[for="${Pe}"]`),ze&&(""!==ze.id?Ve=ze.id:ze.id=Ve=`${Pe}-lbl`,te=ze.textContent)),{label:ze,labelId:Ve,labelText:te}},qe=(we,Q,te,je,Pe)=>{if(we||ae(Q)){let Ve=Q.querySelector("input.aux-input");Ve||(Ve=Q.ownerDocument.createElement("input"),Ve.type="hidden",Ve.classList.add("aux-input"),Q.appendChild(Ve)),Ve.disabled=Pe,Ve.name=te,Ve.value=je||""}},dt=(we,Q,te)=>Math.max(we,Math.min(Q,te)),be=(we,Q)=>{if(!we){const te="ASSERT: "+Q;throw console.error(te),new Error(te)}},de=we=>we.timeStamp||Date.now(),ne=we=>{if(we){const Q=we.changedTouches;if(Q&&Q.length>0){const te=Q[0];return{x:te.clientX,y:te.clientY}}if(void 0!==we.pageX)return{x:we.pageX,y:we.pageY}}return{x:0,y:0}},Ye=we=>{const Q="rtl"===document.dir;switch(we){case"start":return Q;case"end":return!Q;default:throw new Error(`"${we}" is not a valid value for [side]. Use "start" or "end" instead.`)}},We=(we,Q)=>{const te=we._original||we;return{_original:we,emit:Xe(te.emit.bind(te),Q)}},Xe=(we,Q=0)=>{let te;return(...je)=>{clearTimeout(te),te=setTimeout(we,Q,...je)}},De=(we,Q)=>{if(null!=we||(we={}),null!=Q||(Q={}),we===Q)return!0;const te=Object.keys(we);if(te.length!==Object.keys(Q).length)return!1;for(const je of te)if(!(je in Q)||we[je]!==Q[je])return!1;return!0}},1843:(zt,rt,k)=>{"use strict";k.d(rt,{L:()=>pe,a:()=>ue,b:()=>ye,c:()=>le,d:()=>Ie,e:()=>Q,g:()=>Pe,l:()=>De,s:()=>te,t:()=>ae});var a=k(5861),B=k(1308),N=k(5730);const pe="ionViewWillEnter",ue="ionViewDidEnter",ye="ionViewWillLeave",le="ionViewDidLeave",Ie="ionViewWillUnload",ae=Ve=>new Promise((ze,Qe)=>{(0,B.c)(()=>{fe(Ve),Ce(Ve).then(He=>{He.animation&&He.animation.destroy(),Fe(Ve),ze(He)},He=>{Fe(Ve),Qe(He)})})}),fe=Ve=>{const ze=Ve.enteringEl,Qe=Ve.leavingEl;je(ze,Qe,Ve.direction),Ve.showGoBack?ze.classList.add("can-go-back"):ze.classList.remove("can-go-back"),te(ze,!1),ze.style.setProperty("pointer-events","none"),Qe&&(te(Qe,!1),Qe.style.setProperty("pointer-events","none"))},Ce=function(){var Ve=(0,a.Z)(function*(ze){const Qe=yield qe(ze);return Qe&&B.B.isBrowser?dt(Qe,ze):be(ze)});return function(Qe){return Ve.apply(this,arguments)}}(),Fe=Ve=>{const ze=Ve.enteringEl,Qe=Ve.leavingEl;ze.classList.remove("ion-page-invisible"),ze.style.removeProperty("pointer-events"),void 0!==Qe&&(Qe.classList.remove("ion-page-invisible"),Qe.style.removeProperty("pointer-events"))},qe=function(){var Ve=(0,a.Z)(function*(ze){return ze.leavingEl&&ze.animated&&0!==ze.duration?ze.animationBuilder?ze.animationBuilder:"ios"===ze.mode?(yield Promise.resolve().then(k.bind(k,6439))).iosTransitionAnimation:(yield Promise.resolve().then(k.bind(k,7838))).mdTransitionAnimation:void 0});return function(Qe){return Ve.apply(this,arguments)}}(),dt=function(){var Ve=(0,a.Z)(function*(ze,Qe){yield de(Qe,!0);const He=ze(Qe.baseEl,Qe);We(Qe.enteringEl,Qe.leavingEl);const it=yield Ye(He,Qe);return Qe.progressCallback&&Qe.progressCallback(void 0),it&&Xe(Qe.enteringEl,Qe.leavingEl),{hasCompleted:it,animation:He}});return function(Qe,He){return Ve.apply(this,arguments)}}(),be=function(){var Ve=(0,a.Z)(function*(ze){const Qe=ze.enteringEl,He=ze.leavingEl;return yield de(ze,!1),We(Qe,He),Xe(Qe,He),{hasCompleted:!0}});return function(Qe){return Ve.apply(this,arguments)}}(),de=function(){var Ve=(0,a.Z)(function*(ze,Qe){const it=(void 0!==ze.deepWait?ze.deepWait:Qe)?[Q(ze.enteringEl),Q(ze.leavingEl)]:[we(ze.enteringEl),we(ze.leavingEl)];yield Promise.all(it),yield ne(ze.viewIsReady,ze.enteringEl)});return function(Qe,He){return Ve.apply(this,arguments)}}(),ne=function(){var Ve=(0,a.Z)(function*(ze,Qe){ze&&(yield ze(Qe))});return function(Qe,He){return Ve.apply(this,arguments)}}(),Ye=(Ve,ze)=>{const Qe=ze.progressCallback,He=new Promise(it=>{Ve.onFinish(at=>it(1===at))});return Qe?(Ve.progressStart(!0),Qe(Ve)):Ve.play(),He},We=(Ve,ze)=>{De(ze,ye),De(Ve,pe)},Xe=(Ve,ze)=>{De(Ve,ue),De(ze,le)},De=(Ve,ze)=>{if(Ve){const Qe=new CustomEvent(ze,{bubbles:!1,cancelable:!1});Ve.dispatchEvent(Qe)}},we=Ve=>Ve?new Promise(ze=>(0,N.c)(Ve,ze)):Promise.resolve(),Q=function(){var Ve=(0,a.Z)(function*(ze){const Qe=ze;if(Qe){if(null!=Qe.componentOnReady){if(null!=(yield Qe.componentOnReady()))return}else if(null!=Qe.__registerHost)return void(yield new Promise(it=>(0,N.r)(it)));yield Promise.all(Array.from(Qe.children).map(Q))}});return function(Qe){return Ve.apply(this,arguments)}}(),te=(Ve,ze)=>{ze?(Ve.setAttribute("aria-hidden","true"),Ve.classList.add("ion-page-hidden")):(Ve.hidden=!1,Ve.removeAttribute("aria-hidden"),Ve.classList.remove("ion-page-hidden"))},je=(Ve,ze,Qe)=>{void 0!==Ve&&(Ve.style.zIndex="back"===Qe?"99":"101"),void 0!==ze&&(ze.style.zIndex="100")},Pe=Ve=>Ve.classList.contains("ion-page")?Ve:Ve.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ve},6369:(zt,rt,k)=>{"use strict";k.d(rt,{m:()=>ae});var a=k(5861),B=k(7593),N=k(5730),pe=k(5179),ue=k(181);const ye=fe=>(0,ue.c)().duration(fe?400:300),le=fe=>{let Ce,Fe;const qe=fe.width+8,dt=(0,ue.c)(),be=(0,ue.c)();fe.isEndSide?(Ce=qe+"px",Fe="0px"):(Ce=-qe+"px",Fe="0px"),dt.addElement(fe.menuInnerEl).fromTo("transform",`translateX(${Ce})`,`translateX(${Fe})`);const ne="ios"===(0,pe.b)(fe),Ye=ne?.2:.25;return be.addElement(fe.backdropEl).fromTo("opacity",.01,Ye),ye(ne).addAnimation([dt,be])},Ie=fe=>{let Ce,Fe;const qe=(0,pe.b)(fe),dt=fe.width;fe.isEndSide?(Ce=-dt+"px",Fe=dt+"px"):(Ce=dt+"px",Fe=-dt+"px");const be=(0,ue.c)().addElement(fe.menuInnerEl).fromTo("transform",`translateX(${Fe})`,"translateX(0px)"),de=(0,ue.c)().addElement(fe.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ce})`),ne=(0,ue.c)().addElement(fe.backdropEl).fromTo("opacity",.01,.32);return ye("ios"===qe).addAnimation([be,de,ne])},Le=fe=>{const Ce=(0,pe.b)(fe),Fe=fe.width*(fe.isEndSide?-1:1)+"px",qe=(0,ue.c)().addElement(fe.contentEl).fromTo("transform","translateX(0px)",`translateX(${Fe})`);return ye("ios"===Ce).addAnimation(qe)},ae=(()=>{const fe=new Map,Ce=[],Fe=function(){var Me=(0,a.Z)(function*(Se){const Je=yield We(Se);return!!Je&&Je.open()});return function(Je){return Me.apply(this,arguments)}}(),qe=function(){var Me=(0,a.Z)(function*(Se){const Je=yield void 0!==Se?We(Se):Xe();return void 0!==Je&&Je.close()});return function(Je){return Me.apply(this,arguments)}}(),dt=function(){var Me=(0,a.Z)(function*(Se){const Je=yield We(Se);return!!Je&&Je.toggle()});return function(Je){return Me.apply(this,arguments)}}(),be=function(){var Me=(0,a.Z)(function*(Se,Je){const Ue=yield We(Je);return Ue&&(Ue.disabled=!Se),Ue});return function(Je,Ue){return Me.apply(this,arguments)}}(),de=function(){var Me=(0,a.Z)(function*(Se,Je){const Ue=yield We(Je);return Ue&&(Ue.swipeGesture=Se),Ue});return function(Je,Ue){return Me.apply(this,arguments)}}(),ne=function(){var Me=(0,a.Z)(function*(Se){if(null!=Se){const Je=yield We(Se);return void 0!==Je&&Je.isOpen()}return void 0!==(yield Xe())});return function(Je){return Me.apply(this,arguments)}}(),Ye=function(){var Me=(0,a.Z)(function*(Se){const Je=yield We(Se);return!!Je&&!Je.disabled});return function(Je){return Me.apply(this,arguments)}}(),We=function(){var Me=(0,a.Z)(function*(Se){return yield xe(),"start"===Se||"end"===Se?at(st=>st.side===Se&&!st.disabled)||at(st=>st.side===Se):null!=Se?at(Ue=>Ue.menuId===Se):at(Ue=>!Ue.disabled)||(Ce.length>0?Ce[0].el:void 0)});return function(Je){return Me.apply(this,arguments)}}(),Xe=function(){var Me=(0,a.Z)(function*(){return yield xe(),Qe()});return function(){return Me.apply(this,arguments)}}(),De=function(){var Me=(0,a.Z)(function*(){return yield xe(),He()});return function(){return Me.apply(this,arguments)}}(),we=function(){var Me=(0,a.Z)(function*(){return yield xe(),it()});return function(){return Me.apply(this,arguments)}}(),Q=(Me,Se)=>{fe.set(Me,Se)},Pe=Me=>{const Se=Me.side;Ce.filter(Je=>Je.side===Se&&Je!==Me).forEach(Je=>Je.disabled=!0)},Ve=function(){var Me=(0,a.Z)(function*(Se,Je,Ue){if(it())return!1;if(Je){const st=yield Xe();st&&Se.el!==st&&(yield st.setOpen(!1,!1))}return Se._setOpen(Je,Ue)});return function(Je,Ue,st){return Me.apply(this,arguments)}}(),Qe=()=>at(Me=>Me._isOpen),He=()=>Ce.map(Me=>Me.el),it=()=>Ce.some(Me=>Me.isAnimating),at=Me=>{const Se=Ce.find(Me);if(void 0!==Se)return Se.el},xe=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Me=>new Promise(Se=>(0,N.c)(Me,Se))));return Q("reveal",Le),Q("push",Ie),Q("overlay",le),typeof document<"u"&&document.addEventListener("ionBackButton",Me=>{const Se=Qe();Se&&Me.detail.register(B.MENU_BACK_BUTTON_PRIORITY,()=>Se.close())}),{registerAnimation:Q,get:We,getMenus:De,getOpen:Xe,isEnabled:Ye,swipeGesture:de,isAnimating:we,isOpen:ne,enable:be,toggle:dt,close:qe,open:Fe,_getOpenSync:Qe,_createAnimation:(Me,Se)=>{const Je=fe.get(Me);if(!Je)throw new Error("animation not registered");return Je(Se)},_register:Me=>{Ce.indexOf(Me)<0&&(Me.disabled||Pe(Me),Ce.push(Me))},_unregister:Me=>{const Se=Ce.indexOf(Me);Se>-1&&Ce.splice(Se,1)},_setOpen:Ve,_setActiveMenu:Pe}})()},3457:(zt,rt,k)=>{"use strict";k.d(rt,{w:()=>a});const a=typeof window<"u"?window:void 0},1898:(zt,rt,k)=>{"use strict";k.r(rt),k.d(rt,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>Le});var a=k(4349);const B=(Ce,Fe,qe,dt)=>{const be=N(Ce)?{capture:!!dt.capture,passive:!!dt.passive}:!!dt.capture;let de,ne;return Ce.__zone_symbol__addEventListener?(de="__zone_symbol__addEventListener",ne="__zone_symbol__removeEventListener"):(de="addEventListener",ne="removeEventListener"),Ce[de](Fe,qe,be),()=>{Ce[ne](Fe,qe,be)}},N=Ce=>{if(void 0===pe)try{const Fe=Object.defineProperty({},"passive",{get:()=>{pe=!0}});Ce.addEventListener("optsTest",()=>{},Fe)}catch(Fe){pe=!1}return!!pe};let pe;const le=Ce=>Ce instanceof Document?Ce:Ce.ownerDocument,Le=Ce=>{let Fe=!1,qe=!1,dt=!0,be=!1;const de=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ce),ne=de.canStart,Ye=de.onWillStart,We=de.onStart,Xe=de.onEnd,De=de.notCaptured,we=de.onMove,Q=de.threshold,te=de.passive,je=de.blurOnStart,Pe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ve=((Ce,Fe,qe)=>{const dt=qe*(Math.PI/180),be="x"===Ce,de=Math.cos(dt),ne=Fe*Fe;let Ye=0,We=0,Xe=!1,De=0;return{start(we,Q){Ye=we,We=Q,De=0,Xe=!0},detect(we,Q){if(!Xe)return!1;const te=we-Ye,je=Q-We,Pe=te*te+je*je;if(Pe<ne)return!1;const Ve=Math.sqrt(Pe),ze=(be?te:je)/Ve;return De=ze>de?1:ze<-de?-1:0,Xe=!1,!0},isGesture:()=>0!==De,getDirection:()=>De}})(de.direction,de.threshold,de.maxAngle),ze=a.G.createGesture({name:Ce.gestureName,priority:Ce.gesturePriority,disableScroll:Ce.disableScroll}),it=()=>{Fe&&(be=!1,we&&we(Pe))},at=()=>!!ze.capture()&&(Fe=!0,dt=!1,Pe.startX=Pe.currentX,Pe.startY=Pe.currentY,Pe.startTime=Pe.currentTime,Ye?Ye(Pe).then(Me):Me(),!0),Me=()=>{je&&(()=>{if(typeof document<"u"){const Ze=document.activeElement;null!=Ze&&Ze.blur&&Ze.blur()}})(),We&&We(Pe),dt=!0},Se=()=>{Fe=!1,qe=!1,be=!1,dt=!0,ze.release()},Je=Ze=>{const _t=Fe,bt=dt;if(Se(),bt){if(ce(Pe,Ze),_t)return void(Xe&&Xe(Pe));De&&De(Pe)}},Ue=((Ce,Fe,qe,dt,be)=>{let de,ne,Ye,We,Xe,De,we,Q=0;const te=xe=>{Q=Date.now()+2e3,Fe(xe)&&(!ne&&qe&&(ne=B(Ce,"touchmove",qe,be)),Ye||(Ye=B(xe.target,"touchend",Pe,be)),We||(We=B(xe.target,"touchcancel",Pe,be)))},je=xe=>{Q>Date.now()||Fe(xe)&&(!De&&qe&&(De=B(le(Ce),"mousemove",qe,be)),we||(we=B(le(Ce),"mouseup",Ve,be)))},Pe=xe=>{ze(),dt&&dt(xe)},Ve=xe=>{Qe(),dt&&dt(xe)},ze=()=>{ne&&ne(),Ye&&Ye(),We&&We(),ne=Ye=We=void 0},Qe=()=>{De&&De(),we&&we(),De=we=void 0},He=()=>{ze(),Qe()},it=(xe=!0)=>{xe?(de||(de=B(Ce,"touchstart",te,be)),Xe||(Xe=B(Ce,"mousedown",je,be))):(de&&de(),Xe&&Xe(),de=Xe=void 0,He())};return{enable:it,stop:He,destroy:()=>{it(!1),dt=qe=Fe=void 0}}})(de.el,Ze=>{const _t=fe(Ze);return!(qe||!dt||(ae(Ze,Pe),Pe.startX=Pe.currentX,Pe.startY=Pe.currentY,Pe.startTime=Pe.currentTime=_t,Pe.velocityX=Pe.velocityY=Pe.deltaX=Pe.deltaY=0,Pe.event=Ze,ne&&!1===ne(Pe))||(ze.release(),!ze.start()))&&(qe=!0,0===Q?at():(Ve.start(Pe.startX,Pe.startY),!0))},Ze=>{Fe?!be&&dt&&(be=!0,ce(Pe,Ze),requestAnimationFrame(it)):(ce(Pe,Ze),Ve.detect(Pe.currentX,Pe.currentY)&&(!Ve.isGesture()||!at())&&st())},Je,{capture:!1,passive:te}),st=()=>{Se(),Ue.stop(),De&&De(Pe)};return{enable(Ze=!0){Ze||(Fe&&Je(void 0),Se()),Ue.enable(Ze)},destroy(){ze.destroy(),Ue.destroy()}}},ce=(Ce,Fe)=>{if(!Fe)return;const qe=Ce.currentX,dt=Ce.currentY,be=Ce.currentTime;ae(Fe,Ce);const de=Ce.currentX,ne=Ce.currentY,We=(Ce.currentTime=fe(Fe))-be;if(We>0&&We<100){const De=(ne-dt)/We;Ce.velocityX=(de-qe)/We*.7+.3*Ce.velocityX,Ce.velocityY=.7*De+.3*Ce.velocityY}Ce.deltaX=de-Ce.startX,Ce.deltaY=ne-Ce.startY,Ce.event=Fe},ae=(Ce,Fe)=>{let qe=0,dt=0;if(Ce){const be=Ce.changedTouches;if(be&&be.length>0){const de=be[0];qe=de.clientX,dt=de.clientY}else void 0!==Ce.pageX&&(qe=Ce.pageX,dt=Ce.pageY)}Fe.currentX=qe,Fe.currentY=dt},fe=Ce=>Ce.timeStamp||Date.now()},1308:(zt,rt,k)=>{"use strict";k.d(rt,{B:()=>et,H:()=>Sn,a:()=>st,b:()=>mr,c:()=>Qr,e:()=>In,f:()=>Yr,g:()=>Ze,h:()=>nn,i:()=>xn,j:()=>Ae,k:()=>ui,p:()=>dt,r:()=>jr,s:()=>Fe});var a=k(5861);let N,pe,ue,ye=!1,le=!1,Ie=!1,Le=!1,ce=!1;const ae=typeof window<"u"?window:{},fe=ae.document||{head:{}},Ce={$flags$:0,$resourcesUrl$:"",jmp:F=>F(),raf:F=>requestAnimationFrame(F),ael:(F,j,ie,me)=>F.addEventListener(j,ie,me),rel:(F,j,ie,me)=>F.removeEventListener(j,ie,me),ce:(F,j)=>new CustomEvent(F,j)},Fe=F=>{Object.assign(Ce,F)},dt=F=>Promise.resolve(F),be=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(F){}return!1})(),de=(F,j,ie,me)=>{ie&&ie.map(([Be,ee,ke])=>{const Ke=Ye(F,Be),pt=ne(j,ke),Dt=We(Be);Ce.ael(Ke,ee,pt,Dt),(j.$rmListeners$=j.$rmListeners$||[]).push(()=>Ce.rel(Ke,ee,pt,Dt))})},ne=(F,j)=>ie=>{try{256&F.$flags$?F.$lazyInstance$[j](ie):(F.$queuedListeners$=F.$queuedListeners$||[]).push([j,ie])}catch(me){qr(me)}},Ye=(F,j)=>4&j?fe:8&j?ae:16&j?fe.body:F,We=F=>0!=(2&F),te="s-id",je="sty-id",ze="http://www.w3.org/1999/xlink",it=new WeakMap,at=(F,j,ie)=>{let me=Zn.get(F);be&&ie?(me=me||new CSSStyleSheet,"string"==typeof me?me=j:me.replaceSync(j)):me=j,Zn.set(F,me)},xe=(F,j,ie,me)=>{let Be=Se(j,ie);const ee=Zn.get(Be);if(F=11===F.nodeType?F:fe,ee)if("string"==typeof ee){let Ke,ke=it.get(F=F.head||F);ke||it.set(F,ke=new Set),ke.has(Be)||(F.host&&(Ke=F.querySelector(`[${je}="${Be}"]`))?Ke.innerHTML=ee:(Ke=fe.createElement("style"),Ke.innerHTML=ee,F.insertBefore(Ke,F.querySelector("link"))),ke&&ke.add(Be))}else F.adoptedStyleSheets.includes(ee)||(F.adoptedStyleSheets=[...F.adoptedStyleSheets,ee]);return Be},Se=(F,j)=>"sc-"+(j&&32&F.$flags$?F.$tagName$+"-"+j:F.$tagName$),Je=F=>F.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),st=F=>Ar.push(F),Ze=F=>Kn(F).$modeName$,_t={},wt=F=>"object"==(F=typeof F)||"function"===F,nn=(F,j,...ie)=>{let me=null,Be=null,ee=null,ke=!1,Ke=!1;const pt=[],Dt=on=>{for(let an=0;an<on.length;an++)me=on[an],Array.isArray(me)?Dt(me):null!=me&&"boolean"!=typeof me&&((ke="function"!=typeof F&&!wt(me))&&(me=String(me)),ke&&Ke?pt[pt.length-1].$text$+=me:pt.push(ke?wn(null,me):me),Ke=ke)};if(Dt(ie),j){j.key&&(Be=j.key),j.name&&(ee=j.name);{const on=j.className||j.class;on&&(j.class="object"!=typeof on?on:Object.keys(on).filter(an=>on[an]).join(" "))}}if("function"==typeof F)return F(null===j?{}:j,pt,Fn);const Bt=wn(F,null);return Bt.$attrs$=j,pt.length>0&&(Bt.$children$=pt),Bt.$key$=Be,Bt.$name$=ee,Bt},wn=(F,j)=>({$flags$:0,$tag$:F,$text$:j,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Sn={},Fn={forEach:(F,j)=>F.map(Jn).forEach(j),map:(F,j)=>F.map(Jn).map(j).map(ur)},Jn=F=>({vattrs:F.$attrs$,vchildren:F.$children$,vkey:F.$key$,vname:F.$name$,vtag:F.$tag$,vtext:F.$text$}),ur=F=>{if("function"==typeof F.vtag){const ie=Object.assign({},F.vattrs);return F.vkey&&(ie.key=F.vkey),F.vname&&(ie.name=F.vname),nn(F.vtag,ie,...F.vchildren||[])}const j=wn(F.vtag,F.vtext);return j.$attrs$=F.vattrs,j.$children$=F.vchildren,j.$key$=F.vkey,j.$name$=F.vname,j},Ln=(F,j,ie,me,Be,ee)=>{if(ie!==me){let ke=oi(F,j),Ke=j.toLowerCase();if("class"===j){const pt=F.classList,Dt=Nt(ie),Bt=Nt(me);pt.remove(...Dt.filter(on=>on&&!Bt.includes(on))),pt.add(...Bt.filter(on=>on&&!Dt.includes(on)))}else if("style"===j){for(const pt in ie)(!me||null==me[pt])&&(pt.includes("-")?F.style.removeProperty(pt):F.style[pt]="");for(const pt in me)(!ie||me[pt]!==ie[pt])&&(pt.includes("-")?F.style.setProperty(pt,me[pt]):F.style[pt]=me[pt])}else if("key"!==j)if("ref"===j)me&&me(F);else if(ke||"o"!==j[0]||"n"!==j[1]){const pt=wt(me);if((ke||pt&&null!==me)&&!Be)try{if(F.tagName.includes("-"))F[j]=me;else{const Bt=null==me?"":me;"list"===j?ke=!1:(null==ie||F[j]!=Bt)&&(F[j]=Bt)}}catch(Bt){}let Dt=!1;Ke!==(Ke=Ke.replace(/^xlink\:?/,""))&&(j=Ke,Dt=!0),null==me||!1===me?(!1!==me||""===F.getAttribute(j))&&(Dt?F.removeAttributeNS(ze,j):F.removeAttribute(j)):(!ke||4&ee||Be)&&!pt&&(me=!0===me?"":me,Dt?F.setAttributeNS(ze,j,me):F.setAttribute(j,me))}else j="-"===j[2]?j.slice(3):oi(ae,Ke)?Ke.slice(2):Ke[2]+j.slice(3),ie&&Ce.rel(F,j,ie,!1),me&&Ce.ael(F,j,me,!1)}},qn=/\s/,Nt=F=>F?F.split(qn):[],Wn=(F,j,ie,me)=>{const Be=11===j.$elm$.nodeType&&j.$elm$.host?j.$elm$.host:j.$elm$,ee=F&&F.$attrs$||_t,ke=j.$attrs$||_t;for(me in ee)me in ke||Ln(Be,me,ee[me],void 0,ie,j.$flags$);for(me in ke)Ln(Be,me,ee[me],ke[me],ie,j.$flags$)},Gn=(F,j,ie,me)=>{const Be=j.$children$[ie];let ke,Ke,pt,ee=0;if(ye||(Ie=!0,"slot"===Be.$tag$&&(N&&me.classList.add(N+"-s"),Be.$flags$|=Be.$children$?2:1)),null!==Be.$text$)ke=Be.$elm$=fe.createTextNode(Be.$text$);else if(1&Be.$flags$)ke=Be.$elm$=fe.createTextNode("");else{if(Le||(Le="svg"===Be.$tag$),ke=Be.$elm$=fe.createElementNS(Le?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Be.$flags$?"slot-fb":Be.$tag$),Le&&"foreignObject"===Be.$tag$&&(Le=!1),Wn(null,Be,Le),(F=>null!=F)(N)&&ke["s-si"]!==N&&ke.classList.add(ke["s-si"]=N),Be.$children$)for(ee=0;ee<Be.$children$.length;++ee)Ke=Gn(F,Be,ee,ke),Ke&&ke.appendChild(Ke);"svg"===Be.$tag$?Le=!1:"foreignObject"===ke.tagName&&(Le=!0)}return ke["s-hn"]=ue,3&Be.$flags$&&(ke["s-sr"]=!0,ke["s-cr"]=pe,ke["s-sn"]=Be.$name$||"",pt=F&&F.$children$&&F.$children$[ie],pt&&pt.$tag$===Be.$tag$&&F.$elm$&&gr(F.$elm$,!1)),ke},gr=(F,j)=>{Ce.$flags$|=1;const ie=F.childNodes;for(let me=ie.length-1;me>=0;me--){const Be=ie[me];Be["s-hn"]!==ue&&Be["s-ol"]&&(Hn(Be).insertBefore(Be,gn(Be)),Be["s-ol"].remove(),Be["s-ol"]=void 0,Ie=!0),j&&gr(Be,j)}Ce.$flags$&=-2},Ir=(F,j,ie,me,Be,ee)=>{let Ke,ke=F["s-cr"]&&F["s-cr"].parentNode||F;for(ke.shadowRoot&&ke.tagName===ue&&(ke=ke.shadowRoot);Be<=ee;++Be)me[Be]&&(Ke=Gn(null,ie,Be,F),Ke&&(me[Be].$elm$=Ke,ke.insertBefore(Ke,gn(j))))},Vn=(F,j,ie,me,Be)=>{for(;j<=ie;++j)(me=F[j])&&(Be=me.$elm$,kn(me),le=!0,Be["s-ol"]?Be["s-ol"].remove():gr(Be,!0),Be.remove())},Qt=(F,j)=>F.$tag$===j.$tag$&&("slot"===F.$tag$?F.$name$===j.$name$:F.$key$===j.$key$),gn=F=>F&&F["s-ol"]||F,Hn=F=>(F["s-ol"]?F["s-ol"]:F).parentNode,rn=(F,j)=>{const ie=j.$elm$=F.$elm$,me=F.$children$,Be=j.$children$,ee=j.$tag$,ke=j.$text$;let Ke;null===ke?(Le="svg"===ee||"foreignObject"!==ee&&Le,"slot"===ee||Wn(F,j,Le),null!==me&&null!==Be?((F,j,ie,me)=>{let ni,tr,Be=0,ee=0,ke=0,Ke=0,pt=j.length-1,Dt=j[0],Bt=j[pt],on=me.length-1,an=me[0],er=me[on];for(;Be<=pt&&ee<=on;)if(null==Dt)Dt=j[++Be];else if(null==Bt)Bt=j[--pt];else if(null==an)an=me[++ee];else if(null==er)er=me[--on];else if(Qt(Dt,an))rn(Dt,an),Dt=j[++Be],an=me[++ee];else if(Qt(Bt,er))rn(Bt,er),Bt=j[--pt],er=me[--on];else if(Qt(Dt,er))("slot"===Dt.$tag$||"slot"===er.$tag$)&&gr(Dt.$elm$.parentNode,!1),rn(Dt,er),F.insertBefore(Dt.$elm$,Bt.$elm$.nextSibling),Dt=j[++Be],er=me[--on];else if(Qt(Bt,an))("slot"===Dt.$tag$||"slot"===er.$tag$)&&gr(Bt.$elm$.parentNode,!1),rn(Bt,an),F.insertBefore(Bt.$elm$,Dt.$elm$),Bt=j[--pt],an=me[++ee];else{for(ke=-1,Ke=Be;Ke<=pt;++Ke)if(j[Ke]&&null!==j[Ke].$key$&&j[Ke].$key$===an.$key$){ke=Ke;break}ke>=0?(tr=j[ke],tr.$tag$!==an.$tag$?ni=Gn(j&&j[ee],ie,ke,F):(rn(tr,an),j[ke]=void 0,ni=tr.$elm$),an=me[++ee]):(ni=Gn(j&&j[ee],ie,ee,F),an=me[++ee]),ni&&Hn(Dt.$elm$).insertBefore(ni,gn(Dt.$elm$))}Be>pt?Ir(F,null==me[on+1]?null:me[on+1].$elm$,ie,me,ee,on):ee>on&&Vn(j,Be,pt)})(ie,me,j,Be):null!==Be?(null!==F.$text$&&(ie.textContent=""),Ir(ie,null,j,Be,0,Be.length-1)):null!==me&&Vn(me,0,me.length-1),Le&&"svg"===ee&&(Le=!1)):(Ke=ie["s-cr"])?Ke.parentNode.textContent=ke:F.$text$!==ke&&(ie.data=ke)},cr=F=>{const j=F.childNodes;let ie,me,Be,ee,ke,Ke;for(me=0,Be=j.length;me<Be;me++)if(ie=j[me],1===ie.nodeType){if(ie["s-sr"])for(ke=ie["s-sn"],ie.hidden=!1,ee=0;ee<Be;ee++)if(Ke=j[ee].nodeType,j[ee]["s-hn"]!==ie["s-hn"]||""!==ke){if(1===Ke&&ke===j[ee].getAttribute("slot")){ie.hidden=!0;break}}else if(1===Ke||3===Ke&&""!==j[ee].textContent.trim()){ie.hidden=!0;break}cr(ie)}},Rt=[],dr=F=>{let j,ie,me,Be,ee,ke,Ke=0;const pt=F.childNodes,Dt=pt.length;for(;Ke<Dt;Ke++){if(j=pt[Ke],j["s-sr"]&&(ie=j["s-cr"])&&ie.parentNode)for(me=ie.parentNode.childNodes,Be=j["s-sn"],ke=me.length-1;ke>=0;ke--)ie=me[ke],!ie["s-cn"]&&!ie["s-nr"]&&ie["s-hn"]!==j["s-hn"]&&(Rr(ie,Be)?(ee=Rt.find(Bt=>Bt.$nodeToRelocate$===ie),le=!0,ie["s-sn"]=ie["s-sn"]||Be,ee?ee.$slotRefNode$=j:Rt.push({$slotRefNode$:j,$nodeToRelocate$:ie}),ie["s-sr"]&&Rt.map(Bt=>{Rr(Bt.$nodeToRelocate$,ie["s-sn"])&&(ee=Rt.find(on=>on.$nodeToRelocate$===ie),ee&&!Bt.$slotRefNode$&&(Bt.$slotRefNode$=ee.$slotRefNode$))})):Rt.some(Bt=>Bt.$nodeToRelocate$===ie)||Rt.push({$nodeToRelocate$:ie}));1===j.nodeType&&dr(j)}},Rr=(F,j)=>1===F.nodeType?null===F.getAttribute("slot")&&""===j||F.getAttribute("slot")===j:F["s-sn"]===j||""===j,kn=F=>{F.$attrs$&&F.$attrs$.ref&&F.$attrs$.ref(null),F.$children$&&F.$children$.map(kn)},xn=F=>Kn(F).$hostElement$,In=(F,j,ie)=>{const me=xn(F);return{emit:Be=>or(me,j,{bubbles:!!(4&ie),composed:!!(2&ie),cancelable:!!(1&ie),detail:Be})}},or=(F,j,ie)=>{const me=Ce.ce(j,ie);return F.dispatchEvent(me),me},xt=(F,j)=>{j&&!F.$onRenderResolve$&&j["s-p"]&&j["s-p"].push(new Promise(ie=>F.$onRenderResolve$=ie))},Et=(F,j)=>{if(F.$flags$|=16,!(4&F.$flags$))return xt(F,F.$ancestorComponent$),Qr(()=>qt(F,j));F.$flags$|=512},qt=(F,j)=>{const me=F.$lazyInstance$;let Be;return j&&(F.$flags$|=256,F.$queuedListeners$&&(F.$queuedListeners$.map(([ee,ke])=>$e(me,ee,ke)),F.$queuedListeners$=null),Be=$e(me,"componentWillLoad")),Be=he(Be,()=>$e(me,"componentWillRender")),he(Be,()=>un(F,me,j))},un=function(){var F=(0,a.Z)(function*(j,ie,me){const Be=j.$hostElement$,ke=Be["s-rc"];me&&(F=>{const j=F.$cmpMeta$,ie=F.$hostElement$,me=j.$flags$,ee=xe(ie.shadowRoot?ie.shadowRoot:ie.getRootNode(),j,F.$modeName$);10&me&&(ie["s-sc"]=ee,ie.classList.add(ee+"-h"),2&me&&ie.classList.add(ee+"-s"))})(j);dn(j,ie),ke&&(ke.map(pt=>pt()),Be["s-rc"]=void 0);{const pt=Be["s-p"],Dt=()=>Rn(j);0===pt.length?Dt():(Promise.all(pt).then(Dt),j.$flags$|=4,pt.length=0)}});return function(ie,me,Be){return F.apply(this,arguments)}}(),dn=(F,j,ie)=>{try{j=j.render&&j.render(),F.$flags$&=-17,F.$flags$|=2,((F,j)=>{const ie=F.$hostElement$,me=F.$cmpMeta$,Be=F.$vnode$||wn(null,null),ee=(F=>F&&F.$tag$===Sn)(j)?j:nn(null,null,j);if(ue=ie.tagName,me.$attrsToReflect$&&(ee.$attrs$=ee.$attrs$||{},me.$attrsToReflect$.map(([ke,Ke])=>ee.$attrs$[Ke]=ie[ke])),ee.$tag$=null,ee.$flags$|=4,F.$vnode$=ee,ee.$elm$=Be.$elm$=ie.shadowRoot||ie,N=ie["s-sc"],pe=ie["s-cr"],ye=0!=(1&me.$flags$),le=!1,rn(Be,ee),Ce.$flags$|=1,Ie){dr(ee.$elm$);let ke,Ke,pt,Dt,Bt,on,an=0;for(;an<Rt.length;an++)ke=Rt[an],Ke=ke.$nodeToRelocate$,Ke["s-ol"]||(pt=fe.createTextNode(""),pt["s-nr"]=Ke,Ke.parentNode.insertBefore(Ke["s-ol"]=pt,Ke));for(an=0;an<Rt.length;an++)if(ke=Rt[an],Ke=ke.$nodeToRelocate$,ke.$slotRefNode$){for(Dt=ke.$slotRefNode$.parentNode,Bt=ke.$slotRefNode$.nextSibling,pt=Ke["s-ol"];pt=pt.previousSibling;)if(on=pt["s-nr"],on&&on["s-sn"]===Ke["s-sn"]&&Dt===on.parentNode&&(on=on.nextSibling,!on||!on["s-nr"])){Bt=on;break}(!Bt&&Dt!==Ke.parentNode||Ke.nextSibling!==Bt)&&Ke!==Bt&&(!Ke["s-hn"]&&Ke["s-ol"]&&(Ke["s-hn"]=Ke["s-ol"].parentNode.nodeName),Dt.insertBefore(Ke,Bt))}else 1===Ke.nodeType&&(Ke.hidden=!0)}le&&cr(ee.$elm$),Ce.$flags$&=-2,Rt.length=0})(F,j)}catch(me){qr(me,F.$hostElement$)}return null},Rn=F=>{const ie=F.$hostElement$,Be=F.$lazyInstance$,ee=F.$ancestorComponent$;$e(Be,"componentDidRender"),64&F.$flags$?$e(Be,"componentDidUpdate"):(F.$flags$|=64,X(ie),$e(Be,"componentDidLoad"),F.$onReadyResolve$(ie),ee||_e()),F.$onInstanceResolve$(ie),F.$onRenderResolve$&&(F.$onRenderResolve$(),F.$onRenderResolve$=void 0),512&F.$flags$&&fr(()=>Et(F,!1)),F.$flags$&=-517},Ae=F=>{{const j=Kn(F),ie=j.$hostElement$.isConnected;return ie&&2==(18&j.$flags$)&&Et(j,!1),ie}},_e=F=>{X(fe.documentElement),fr(()=>or(ae,"appload",{detail:{namespace:"ionic"}}))},$e=(F,j,ie)=>{if(F&&F[j])try{return F[j](ie)}catch(me){qr(me)}},he=(F,j)=>F&&F.then?F.then(j):j(),X=F=>F.classList.add("hydrated"),ut=(F,j,ie,me,Be,ee,ke)=>{let Ke,pt,Dt,Bt;if(1===ee.nodeType){for(Ke=ee.getAttribute("c-id"),Ke&&(pt=Ke.split("."),(pt[0]===ke||"0"===pt[0])&&(Dt={$flags$:0,$hostId$:pt[0],$nodeId$:pt[1],$depth$:pt[2],$index$:pt[3],$tag$:ee.tagName.toLowerCase(),$elm$:ee,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},j.push(Dt),ee.removeAttribute("c-id"),F.$children$||(F.$children$=[]),F.$children$[Dt.$index$]=Dt,F=Dt,me&&"0"===Dt.$depth$&&(me[Dt.$index$]=Dt.$elm$))),Bt=ee.childNodes.length-1;Bt>=0;Bt--)ut(F,j,ie,me,Be,ee.childNodes[Bt],ke);if(ee.shadowRoot)for(Bt=ee.shadowRoot.childNodes.length-1;Bt>=0;Bt--)ut(F,j,ie,me,Be,ee.shadowRoot.childNodes[Bt],ke)}else if(8===ee.nodeType)pt=ee.nodeValue.split("."),(pt[1]===ke||"0"===pt[1])&&(Ke=pt[0],Dt={$flags$:0,$hostId$:pt[1],$nodeId$:pt[2],$depth$:pt[3],$index$:pt[4],$elm$:ee,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ke?(Dt.$elm$=ee.nextSibling,Dt.$elm$&&3===Dt.$elm$.nodeType&&(Dt.$text$=Dt.$elm$.textContent,j.push(Dt),ee.remove(),F.$children$||(F.$children$=[]),F.$children$[Dt.$index$]=Dt,me&&"0"===Dt.$depth$&&(me[Dt.$index$]=Dt.$elm$))):Dt.$hostId$===ke&&("s"===Ke?(Dt.$tag$="slot",ee["s-sn"]=pt[5]?Dt.$name$=pt[5]:"",ee["s-sr"]=!0,me&&(Dt.$elm$=fe.createElement(Dt.$tag$),Dt.$name$&&Dt.$elm$.setAttribute("name",Dt.$name$),ee.parentNode.insertBefore(Dt.$elm$,ee),ee.remove(),"0"===Dt.$depth$&&(me[Dt.$index$]=Dt.$elm$)),ie.push(Dt),F.$children$||(F.$children$=[]),F.$children$[Dt.$index$]=Dt):"r"===Ke&&(me?ee.remove():(Be["s-cr"]=ee,ee["s-cn"]=!0))));else if(F&&"style"===F.$tag$){const on=wn(null,ee.textContent);on.$elm$=ee,on.$index$="0",F.$children$=[on]}},Tt=(F,j)=>{if(1===F.nodeType){let ie=0;for(;ie<F.childNodes.length;ie++)Tt(F.childNodes[ie],j);if(F.shadowRoot)for(ie=0;ie<F.shadowRoot.childNodes.length;ie++)Tt(F.shadowRoot.childNodes[ie],j)}else if(8===F.nodeType){const ie=F.nodeValue.split(".");"o"===ie[0]&&(j.set(ie[1]+"."+ie[2],F),F.nodeValue="",F["s-en"]=ie[3])}},oe=(F,j,ie)=>{if(j.$members$){F.watchers&&(j.$watchers$=F.watchers);const me=Object.entries(j.$members$),Be=F.prototype;if(me.map(([ee,[ke]])=>{31&ke||2&ie&&32&ke?Object.defineProperty(Be,ee,{get(){return((F,j)=>Kn(this).$instanceValues$.get(j))(0,ee)},set(Ke){((F,j,ie,me)=>{const Be=Kn(F),ee=Be.$hostElement$,ke=Be.$instanceValues$.get(j),Ke=Be.$flags$,pt=Be.$lazyInstance$;ie=((F,j)=>null==F||wt(F)?F:4&j?"false"!==F&&(""===F||!!F):2&j?parseFloat(F):1&j?String(F):F)(ie,me.$members$[j][0]);const Dt=Number.isNaN(ke)&&Number.isNaN(ie);if((!(8&Ke)||void 0===ke)&&ie!==ke&&!Dt&&(Be.$instanceValues$.set(j,ie),pt)){if(me.$watchers$&&128&Ke){const on=me.$watchers$[j];on&&on.map(an=>{try{pt[an](ie,ke,j)}catch(er){qr(er,ee)}})}2==(18&Ke)&&Et(Be,!1)}})(this,ee,Ke,j)},configurable:!0,enumerable:!0}):1&ie&&64&ke&&Object.defineProperty(Be,ee,{value(...Ke){const pt=Kn(this);return pt.$onInstancePromise$.then(()=>pt.$lazyInstance$[ee](...Ke))}})}),1&ie){const ee=new Map;Be.attributeChangedCallback=function(ke,Ke,pt){Ce.jmp(()=>{const Dt=ee.get(ke);if(this.hasOwnProperty(Dt))pt=this[Dt],delete this[Dt];else if(Be.hasOwnProperty(Dt)&&"number"==typeof this[Dt]&&this[Dt]==pt)return;this[Dt]=(null!==pt||"boolean"!=typeof this[Dt])&&pt})},F.observedAttributes=me.filter(([ke,Ke])=>15&Ke[0]).map(([ke,Ke])=>{const pt=Ke[1]||ke;return ee.set(pt,ke),512&Ke[0]&&j.$attrsToReflect$.push([ke,pt]),pt})}}return F},lt=function(){var F=(0,a.Z)(function*(j,ie,me,Be,ee){if(!(32&ie.$flags$)){{if(ie.$flags$|=32,(ee=Nn(me)).then){const Dt=()=>{};ee=yield ee,Dt()}ee.isProxied||(me.$watchers$=ee.watchers,oe(ee,me,2),ee.isProxied=!0);const pt=()=>{};ie.$flags$|=8;try{new ee(ie)}catch(Dt){qr(Dt)}ie.$flags$&=-9,ie.$flags$|=128,pt(),At(ie.$lazyInstance$)}if(ee.style){let pt=ee.style;"string"!=typeof pt&&(pt=pt[ie.$modeName$=(F=>Ar.map(j=>j(F)).find(j=>!!j))(j)]);const Dt=Se(me,ie.$modeName$);if(!Zn.has(Dt)){const Bt=()=>{};at(Dt,pt,!!(1&me.$flags$)),Bt()}}}const ke=ie.$ancestorComponent$,Ke=()=>Et(ie,!0);ke&&ke["s-rc"]?ke["s-rc"].push(Ke):Ke()});return function(ie,me,Be,ee,ke){return F.apply(this,arguments)}}(),At=F=>{$e(F,"connectedCallback")},sn=F=>{const j=F["s-cr"]=fe.createComment("");j["s-cn"]=!0,F.insertBefore(j,F.firstChild)},mr=(F,j={})=>{const me=[],Be=j.exclude||[],ee=ae.customElements,ke=fe.head,Ke=ke.querySelector("meta[charset]"),pt=fe.createElement("style"),Dt=[],Bt=fe.querySelectorAll(`[${je}]`);let on,an=!0,er=0;for(Object.assign(Ce,j),Ce.$resourcesUrl$=new URL(j.resourcesUrl||"./",fe.baseURI).href,Ce.$flags$|=2;er<Bt.length;er++)at(Bt[er].getAttribute(je),Je(Bt[er].innerHTML),!0);F.map(ni=>{ni[1].map(tr=>{const Dr={$flags$:tr[0],$tagName$:tr[1],$members$:tr[2],$listeners$:tr[3]};Dr.$members$=tr[2],Dr.$listeners$=tr[3],Dr.$attrsToReflect$=[],Dr.$watchers$={};const Yi=Dr.$tagName$,_o=class extends HTMLElement{constructor(to){super(to),eo(to=this,Dr),1&Dr.$flags$&&to.attachShadow({mode:"open",delegatesFocus:!!(16&Dr.$flags$)})}connectedCallback(){on&&(clearTimeout(on),on=null),an?Dt.push(this):Ce.jmp(()=>(F=>{if(!(1&Ce.$flags$)){const j=Kn(F),ie=j.$cmpMeta$,me=()=>{};if(1&j.$flags$)de(F,j,ie.$listeners$),At(j.$lazyInstance$);else{let Be;if(j.$flags$|=1,Be=F.getAttribute(te),Be){if(1&ie.$flags$){const ee=xe(F.shadowRoot,ie,F.getAttribute("s-mode"));F.classList.remove(ee+"-h",ee+"-s")}((F,j,ie,me)=>{const ee=F.shadowRoot,ke=[],pt=ee?[]:null,Dt=me.$vnode$=wn(j,null);Ce.$orgLocNodes$||Tt(fe.body,Ce.$orgLocNodes$=new Map),F[te]=ie,F.removeAttribute(te),ut(Dt,ke,[],pt,F,F,ie),ke.map(Bt=>{const on=Bt.$hostId$+"."+Bt.$nodeId$,an=Ce.$orgLocNodes$.get(on),er=Bt.$elm$;an&&""===an["s-en"]&&an.parentNode.insertBefore(er,an.nextSibling),ee||(er["s-hn"]=j,an&&(er["s-ol"]=an,er["s-ol"]["s-nr"]=er)),Ce.$orgLocNodes$.delete(on)}),ee&&pt.map(Bt=>{Bt&&ee.appendChild(Bt)})})(F,ie.$tagName$,Be,j)}Be||12&ie.$flags$&&sn(F);{let ee=F;for(;ee=ee.parentNode||ee.host;)if(1===ee.nodeType&&ee.hasAttribute("s-id")&&ee["s-p"]||ee["s-p"]){xt(j,j.$ancestorComponent$=ee);break}}ie.$members$&&Object.entries(ie.$members$).map(([ee,[ke]])=>{if(31&ke&&F.hasOwnProperty(ee)){const Ke=F[ee];delete F[ee],F[ee]=Ke}}),fr(()=>lt(F,j,ie))}me()}})(this))}disconnectedCallback(){Ce.jmp(()=>(F=>{if(!(1&Ce.$flags$)){const j=Kn(this),ie=j.$lazyInstance$;j.$rmListeners$&&(j.$rmListeners$.map(me=>me()),j.$rmListeners$=void 0),$e(ie,"disconnectedCallback")}})())}componentOnReady(){return Kn(this).$onReadyPromise$}};Dr.$lazyBundleId$=ni[0],!Be.includes(Yi)&&!ee.get(Yi)&&(me.push(Yi),ee.define(Yi,oe(_o,Dr,1)))})}),pt.innerHTML=me+"{visibility:hidden}.hydrated{visibility:inherit}",pt.setAttribute("data-styles",""),ke.insertBefore(pt,Ke?Ke.nextSibling:ke.firstChild),an=!1,Dt.length?Dt.map(ni=>ni.connectedCallback()):Ce.jmp(()=>on=setTimeout(_e,30))},ui=F=>{const j=new URL(F,Ce.$resourcesUrl$);return j.origin!==ae.location.origin?j.href:j.pathname},Tr=new WeakMap,Kn=F=>Tr.get(F),jr=(F,j)=>Tr.set(j.$lazyInstance$=F,j),eo=(F,j)=>{const ie={$flags$:0,$hostElement$:F,$cmpMeta$:j,$instanceValues$:new Map};return ie.$onInstancePromise$=new Promise(me=>ie.$onInstanceResolve$=me),ie.$onReadyPromise$=new Promise(me=>ie.$onReadyResolve$=me),F["s-p"]=[],F["s-rc"]=[],de(F,ie,j.$listeners$),Tr.set(F,ie)},oi=(F,j)=>j in F,qr=(F,j)=>(0,console.error)(F,j),Si=new Map,Nn=(F,j,ie)=>{const me=F.$tagName$.replace(/-/g,"_"),Be=F.$lazyBundleId$,ee=Si.get(Be);return ee?ee[me]:k(863)(`./${Be}.entry.js`).then(ke=>(Si.set(Be,ke),ke[me]),qr)},Zn=new Map,Ar=[],rr=[],Lr=[],Vr=(F,j)=>ie=>{F.push(ie),ce||(ce=!0,j&&4&Ce.$flags$?fr(_n):Ce.raf(_n))},Jt=F=>{for(let j=0;j<F.length;j++)try{F[j](performance.now())}catch(ie){qr(ie)}F.length=0},_n=()=>{Jt(rr),Jt(Lr),(ce=rr.length>0)&&Ce.raf(_n)},fr=F=>dt().then(F),Yr=Vr(rr,!1),Qr=Vr(Lr,!0),et={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5179:(zt,rt,k)=>{"use strict";k.d(rt,{a:()=>ae,b:()=>it,c:()=>N,g:()=>ce,i:()=>at});var a=k(1308);class B{constructor(){this.m=new Map}reset(Me){this.m=new Map(Object.entries(Me))}get(Me,Se){const Je=this.m.get(Me);return void 0!==Je?Je:Se}getBoolean(Me,Se=!1){const Je=this.m.get(Me);return void 0===Je?Se:"string"==typeof Je?"true"===Je:!!Je}getNumber(Me,Se){const Je=parseFloat(this.m.get(Me));return isNaN(Je)?void 0!==Se?Se:NaN:Je}set(Me,Se){this.m.set(Me,Se)}}const N=new B,Le="ionic-persist-config",ce=xe=>fe(xe),ae=(xe,Me)=>("string"==typeof xe&&(Me=xe,xe=void 0),ce(xe).includes(Me)),fe=(xe=window)=>{if(typeof xe>"u")return[];xe.Ionic=xe.Ionic||{};let Me=xe.Ionic.platforms;return null==Me&&(Me=xe.Ionic.platforms=Ce(xe),Me.forEach(Se=>xe.document.documentElement.classList.add(`plt-${Se}`))),Me},Ce=xe=>{const Me=N.get("platform");return Object.keys(Qe).filter(Se=>{const Je=null==Me?void 0:Me[Se];return"function"==typeof Je?Je(xe):Qe[Se](xe)})},qe=xe=>!!(Ve(xe,/iPad/i)||Ve(xe,/Macintosh/i)&&Xe(xe)),de=xe=>Ve(xe,/android|sink/i),Xe=xe=>ze(xe,"(any-pointer:coarse)"),we=xe=>Q(xe)||te(xe),Q=xe=>!!(xe.cordova||xe.phonegap||xe.PhoneGap),te=xe=>{const Me=xe.Capacitor;return!(null==Me||!Me.isNative)},Ve=(xe,Me)=>Me.test(xe.navigator.userAgent),ze=(xe,Me)=>{var Se;return null===(Se=xe.matchMedia)||void 0===Se?void 0:Se.call(xe,Me).matches},Qe={ipad:qe,iphone:xe=>Ve(xe,/iPhone/i),ios:xe=>Ve(xe,/iPhone|iPod/i)||qe(xe),android:de,phablet:xe=>{const Me=xe.innerWidth,Se=xe.innerHeight,Je=Math.min(Me,Se),Ue=Math.max(Me,Se);return Je>390&&Je<520&&Ue>620&&Ue<800},tablet:xe=>{const Me=xe.innerWidth,Se=xe.innerHeight,Je=Math.min(Me,Se),Ue=Math.max(Me,Se);return qe(xe)||(xe=>de(xe)&&!Ve(xe,/mobile/i))(xe)||Je>460&&Je<820&&Ue>780&&Ue<1400},cordova:Q,capacitor:te,electron:xe=>Ve(xe,/electron/i),pwa:xe=>{var Me;return!!(null!==(Me=xe.matchMedia)&&void 0!==Me&&Me.call(xe,"(display-mode: standalone)").matches||xe.navigator.standalone)},mobile:Xe,mobileweb:xe=>Xe(xe)&&!we(xe),desktop:xe=>!Xe(xe),hybrid:we};let He;const it=xe=>xe&&(0,a.g)(xe)||He,at=(xe={})=>{if(typeof window>"u")return;const Me=window.document,Se=window,Je=Se.Ionic=Se.Ionic||{},Ue={};xe._ael&&(Ue.ael=xe._ael),xe._rel&&(Ue.rel=xe._rel),xe._ce&&(Ue.ce=xe._ce),(0,a.s)(Ue);const st=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(xe=>{try{const Me=xe.sessionStorage.getItem(Le);return null!==Me?JSON.parse(Me):{}}catch(Me){return{}}})(Se)),{persistConfig:!1}),Je.config),(xe=>{const Me={};return xe.location.search.slice(1).split("&").map(Se=>Se.split("=")).map(([Se,Je])=>[decodeURIComponent(Se),decodeURIComponent(Je)]).filter(([Se])=>((xe,Me)=>xe.substr(0,Me.length)===Me)(Se,"ionic:")).map(([Se,Je])=>[Se.slice("ionic:".length),Je]).forEach(([Se,Je])=>{Me[Se]=Je}),Me})(Se)),xe);N.reset(st),N.getBoolean("persistConfig")&&((xe,Me)=>{try{xe.sessionStorage.setItem(Le,JSON.stringify(Me))}catch(Se){return}})(Se,st),fe(Se),Je.config=N,Je.mode=He=N.get("mode",Me.documentElement.getAttribute("mode")||(ae(Se,"ios")?"ios":"md")),N.set("mode",He),Me.documentElement.setAttribute("mode",He),Me.documentElement.classList.add(He),N.getBoolean("_testing")&&N.set("animated",!1);const Ze=bt=>{var Ot;return null===(Ot=bt.tagName)||void 0===Ot?void 0:Ot.startsWith("ION-")},_t=bt=>["ios","md"].includes(bt);(0,a.a)(bt=>{for(;bt;){const Ot=bt.mode||bt.getAttribute("mode");if(Ot){if(_t(Ot))return Ot;Ze(bt)&&console.warn('Invalid ionic mode: "'+Ot+'", expected: "ios" or "md"')}bt=bt.parentElement}return He})}},6439:(zt,rt,k)=>{"use strict";k.r(rt),k.d(rt,{iosTransitionAnimation:()=>Ce,shadow:()=>le});var a=k(181),B=k(1843);k(3457),k(1308);const ye=Fe=>document.querySelector(`${Fe}.ion-cloned-element`),le=Fe=>Fe.shadowRoot||Fe,Ie=Fe=>{const qe="ION-TABS"===Fe.tagName?Fe:Fe.querySelector("ion-tabs"),dt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=qe){const be=qe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=be?be.querySelector(dt):null}return Fe.querySelector(dt)},Le=(Fe,qe)=>{const dt="ION-TABS"===Fe.tagName?Fe:Fe.querySelector("ion-tabs");let be=[];if(null!=dt){const de=dt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=de&&(be=de.querySelectorAll("ion-buttons"))}else be=Fe.querySelectorAll("ion-buttons");for(const de of be){const ne=de.closest("ion-header"),Ye=ne&&!ne.classList.contains("header-collapse-condense-inactive"),We=de.querySelector("ion-back-button"),Xe=de.classList.contains("buttons-collapse");if(null!==We&&("start"===de.slot||""===de.slot)&&(Xe&&Ye&&qe||!Xe))return We}return null},ae=(Fe,qe,dt,be,de,ne)=>{const Ye=qe?`calc(100% - ${ne.right+4}px)`:ne.left-4+"px",We=qe?"7px":"-7px",Xe=qe?"-4px":"4px",De=qe?"-4px":"4px",we=qe?"right":"left",Q=qe?"left":"right",Pe=dt?[{offset:0,opacity:1,transform:`translate3d(${Xe}, ${ne.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${We}, ${de.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${We}, ${de.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Xe}, ${ne.top-46}px, 0) scale(1)`}],Qe=dt?[{offset:0,opacity:1,transform:`translate3d(${De}, ${ne.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${De}, ${ne.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${De}, ${ne.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${De}, ${ne.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${De}, ${ne.top-46}px, 0) scale(1)`}],He=(0,a.c)(),it=(0,a.c)(),at=ye("ion-back-button"),xe=le(at).querySelector(".button-text"),Me=le(at).querySelector("ion-icon");at.text=be.text,at.mode=be.mode,at.icon=be.icon,at.color=be.color,at.disabled=be.disabled,at.style.setProperty("display","block"),at.style.setProperty("position","fixed"),it.addElement(Me),He.addElement(xe),He.beforeStyles({"transform-origin":`${we} center`}).beforeAddWrite(()=>{be.style.setProperty("display","none"),at.style.setProperty(we,Ye)}).afterAddWrite(()=>{be.style.setProperty("display",""),at.style.setProperty("display","none"),at.style.removeProperty(we)}).keyframes(Pe),it.beforeStyles({"transform-origin":`${Q} center`}).keyframes(Qe),Fe.addAnimation([He,it])},fe=(Fe,qe,dt,be,de,ne)=>{const Ye=qe?`calc(100% - ${de.right}px)`:`${de.left}px`,We=qe?"-18px":"18px",Xe=qe?"right":"left",Q=dt?[{offset:0,opacity:0,transform:`translate3d(${We}, ${ne.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${de.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${de.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${We}, ${ne.top-4}px, 0) scale(0.5)`}],te=ye("ion-title"),je=(0,a.c)();te.innerText=be.innerText,te.size=be.size,te.color=be.color,je.addElement(te),je.beforeStyles({"transform-origin":`${Xe} center`,height:"46px",display:"",position:"relative",[Xe]:Ye}).beforeAddWrite(()=>{be.style.setProperty("display","none")}).afterAddWrite(()=>{be.style.setProperty("display",""),te.style.setProperty("display","none")}).keyframes(Q),Fe.addAnimation(je)},Ce=(Fe,qe)=>{var dt;try{const be="cubic-bezier(0.32,0.72,0,1)",de="opacity",ne="transform",Ye="0%",Xe="rtl"===Fe.ownerDocument.dir,De=Xe?"-99.5%":"99.5%",we=Xe?"33%":"-33%",Q=qe.enteringEl,te=qe.leavingEl,je="back"===qe.direction,Pe=Q.querySelector(":scope > ion-content"),Ve=Q.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ze=Q.querySelectorAll(":scope > ion-header > ion-toolbar"),Qe=(0,a.c)(),He=(0,a.c)();if(Qe.addElement(Q).duration((null!==(dt=qe.duration)&&void 0!==dt?dt:0)||540).easing(qe.easing||be).fill("both").beforeRemoveClass("ion-page-invisible"),te&&null!=Fe){const Me=(0,a.c)();Me.addElement(Fe),Qe.addAnimation(Me)}if(Pe||0!==ze.length||0!==Ve.length?(He.addElement(Pe),He.addElement(Ve)):He.addElement(Q.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Qe.addAnimation(He),je?He.beforeClearStyles([de]).fromTo("transform",`translateX(${we})`,`translateX(${Ye})`).fromTo(de,.8,1):He.beforeClearStyles([de]).fromTo("transform",`translateX(${De})`,`translateX(${Ye})`),Pe){const Me=le(Pe).querySelector(".transition-effect");if(Me){const Se=Me.querySelector(".transition-cover"),Je=Me.querySelector(".transition-shadow"),Ue=(0,a.c)(),st=(0,a.c)(),Ze=(0,a.c)();Ue.addElement(Me).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),st.addElement(Se).beforeClearStyles([de]).fromTo(de,0,.1),Ze.addElement(Je).beforeClearStyles([de]).fromTo(de,.03,.7),Ue.addAnimation([st,Ze]),He.addAnimation([Ue])}}const it=Q.querySelector("ion-header.header-collapse-condense"),{forward:at,backward:xe}=((Fe,qe,dt,be,de)=>{const ne=Le(be,dt),Ye=Ie(de),We=Ie(be),Xe=Le(de,dt),De=null!==ne&&null!==Ye&&!dt,we=null!==We&&null!==Xe&&dt;if(De){const Q=Ye.getBoundingClientRect(),te=ne.getBoundingClientRect();fe(Fe,qe,dt,Ye,Q,te),ae(Fe,qe,dt,ne,Q,te)}else if(we){const Q=We.getBoundingClientRect(),te=Xe.getBoundingClientRect();fe(Fe,qe,dt,We,Q,te),ae(Fe,qe,dt,Xe,Q,te)}return{forward:De,backward:we}})(Qe,Xe,je,Q,te);if(ze.forEach(Me=>{const Se=(0,a.c)();Se.addElement(Me),Qe.addAnimation(Se);const Je=(0,a.c)();Je.addElement(Me.querySelector("ion-title"));const Ue=(0,a.c)(),st=Array.from(Me.querySelectorAll("ion-buttons,[menuToggle]")),Ze=Me.closest("ion-header"),_t=null==Ze?void 0:Ze.classList.contains("header-collapse-condense-inactive");let bt;bt=st.filter(je?wn=>{const Sn=wn.classList.contains("buttons-collapse");return Sn&&!_t||!Sn}:wn=>!wn.classList.contains("buttons-collapse")),Ue.addElement(bt);const Ot=(0,a.c)();Ot.addElement(Me.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Gt=(0,a.c)();Gt.addElement(le(Me).querySelector(".toolbar-background"));const wt=(0,a.c)(),nn=Me.querySelector("ion-back-button");if(nn&&wt.addElement(nn),Se.addAnimation([Je,Ue,Ot,Gt,wt]),Ue.fromTo(de,.01,1),Ot.fromTo(de,.01,1),je)_t||Je.fromTo("transform",`translateX(${we})`,`translateX(${Ye})`).fromTo(de,.01,1),Ot.fromTo("transform",`translateX(${we})`,`translateX(${Ye})`),wt.fromTo(de,.01,1);else if(it||Je.fromTo("transform",`translateX(${De})`,`translateX(${Ye})`).fromTo(de,.01,1),Ot.fromTo("transform",`translateX(${De})`,`translateX(${Ye})`),Gt.beforeClearStyles([de,"transform"]),(null==Ze?void 0:Ze.translucent)?Gt.fromTo("transform",Xe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Gt.fromTo(de,.01,"var(--opacity)"),at||wt.fromTo(de,.01,1),nn&&!at){const Sn=(0,a.c)();Sn.addElement(le(nn).querySelector(".button-text")).fromTo("transform",Xe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Se.addAnimation(Sn)}}),te){const Me=(0,a.c)(),Se=te.querySelector(":scope > ion-content"),Je=te.querySelectorAll(":scope > ion-header > ion-toolbar"),Ue=te.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Se||0!==Je.length||0!==Ue.length?(Me.addElement(Se),Me.addElement(Ue)):Me.addElement(te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Qe.addAnimation(Me),je){Me.beforeClearStyles([de]).fromTo("transform",`translateX(${Ye})`,Xe?"translateX(-100%)":"translateX(100%)");const st=(0,B.g)(te);Qe.afterAddWrite(()=>{"normal"===Qe.getDirection()&&st.style.setProperty("display","none")})}else Me.fromTo("transform",`translateX(${Ye})`,`translateX(${we})`).fromTo(de,1,.8);if(Se){const st=le(Se).querySelector(".transition-effect");if(st){const Ze=st.querySelector(".transition-cover"),_t=st.querySelector(".transition-shadow"),bt=(0,a.c)(),Ot=(0,a.c)(),Gt=(0,a.c)();bt.addElement(st).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ot.addElement(Ze).beforeClearStyles([de]).fromTo(de,.1,0),Gt.addElement(_t).beforeClearStyles([de]).fromTo(de,.7,.03),bt.addAnimation([Ot,Gt]),Me.addAnimation([bt])}}Je.forEach(st=>{const Ze=(0,a.c)();Ze.addElement(st);const _t=(0,a.c)();_t.addElement(st.querySelector("ion-title"));const bt=(0,a.c)(),Ot=st.querySelectorAll("ion-buttons,[menuToggle]"),Gt=st.closest("ion-header"),wt=null==Gt?void 0:Gt.classList.contains("header-collapse-condense-inactive"),nn=Array.from(Ot).filter(ur=>{const Ln=ur.classList.contains("buttons-collapse");return Ln&&!wt||!Ln});bt.addElement(nn);const wn=(0,a.c)(),Sn=st.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Sn.length>0&&wn.addElement(Sn);const Ht=(0,a.c)();Ht.addElement(le(st).querySelector(".toolbar-background"));const Fn=(0,a.c)(),Jn=st.querySelector("ion-back-button");if(Jn&&Fn.addElement(Jn),Ze.addAnimation([_t,bt,wn,Fn,Ht]),Qe.addAnimation(Ze),Fn.fromTo(de,.99,0),bt.fromTo(de,.99,0),wn.fromTo(de,.99,0),je){if(wt||_t.fromTo("transform",`translateX(${Ye})`,Xe?"translateX(-100%)":"translateX(100%)").fromTo(de,.99,0),wn.fromTo("transform",`translateX(${Ye})`,Xe?"translateX(-100%)":"translateX(100%)"),Ht.beforeClearStyles([de,"transform"]),(null==Gt?void 0:Gt.translucent)?Ht.fromTo("transform","translateX(0px)",Xe?"translateX(-100%)":"translateX(100%)"):Ht.fromTo(de,"var(--opacity)",0),Jn&&!xe){const Ln=(0,a.c)();Ln.addElement(le(Jn).querySelector(".button-text")).fromTo("transform",`translateX(${Ye})`,`translateX(${(Xe?-124:124)+"px"})`),Ze.addAnimation(Ln)}}else wt||_t.fromTo("transform",`translateX(${Ye})`,`translateX(${we})`).fromTo(de,.99,0).afterClearStyles([ne,de]),wn.fromTo("transform",`translateX(${Ye})`,`translateX(${we})`).afterClearStyles([ne,de]),Fn.afterClearStyles([de]),_t.afterClearStyles([de]),bt.afterClearStyles([de])})}return Qe}catch(be){throw be}}},7838:(zt,rt,k)=>{"use strict";k.r(rt),k.d(rt,{mdTransitionAnimation:()=>ue});var a=k(181),B=k(1843);k(3457),k(1308);const ue=(ye,le)=>{var Ie,Le,ce;const Ce="back"===le.direction,qe=le.leavingEl,dt=(0,B.g)(le.enteringEl),be=dt.querySelector("ion-toolbar"),de=(0,a.c)();if(de.addElement(dt).fill("both").beforeRemoveClass("ion-page-invisible"),Ce?de.duration((null!==(Ie=le.duration)&&void 0!==Ie?Ie:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):de.duration((null!==(Le=le.duration)&&void 0!==Le?Le:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),be){const ne=(0,a.c)();ne.addElement(be),de.addAnimation(ne)}if(qe&&Ce){de.duration((null!==(ce=le.duration)&&void 0!==ce?ce:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ne=(0,a.c)();ne.addElement((0,B.g)(qe)).onFinish(Ye=>{1===Ye&&ne.elements.length>0&&ne.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),de.addAnimation(ne)}return de}},7996:(zt,rt,k)=>{"use strict";k.d(rt,{B:()=>Se,G:()=>Je,a:()=>Ie,b:()=>Le,c:()=>Ce,d:()=>je,e:()=>qe,f:()=>Ve,g:()=>He,h:()=>ye,i:()=>at,j:()=>de,k:()=>Q,l:()=>ce,m:()=>ae,s:()=>Me,t:()=>Fe});var a=k(5861),B=k(5179),N=k(7593),pe=k(5730);let ue=0;const ye=new WeakMap,le=Ue=>({create:st=>dt(Ue,st),dismiss:(st,Ze,_t)=>De(document,st,Ze,Ue,_t),getTop:()=>(0,a.Z)(function*(){return Q(document,Ue)})()}),Ie=le("ion-alert"),Le=le("ion-action-sheet"),ce=le("ion-loading"),ae=le("ion-modal"),Ce=le("ion-popover"),Fe=le("ion-toast"),qe=Ue=>{typeof document<"u"&&Xe(document);const st=ue++;Ue.overlayIndex=st,Ue.hasAttribute("id")||(Ue.id=`ion-overlay-${st}`)},dt=(Ue,st)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ue).then(()=>{const Ze=document.createElement(Ue);return Ze.classList.add("overlay-hidden"),Object.assign(Ze,Object.assign(Object.assign({},st),{hasController:!0})),ze(document).appendChild(Ze),new Promise(_t=>(0,pe.c)(Ze,_t))}):Promise.resolve(),be='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',de=(Ue,st)=>{let Ze=Ue.querySelector(be);const _t=null==Ze?void 0:Ze.shadowRoot;_t&&(Ze=_t.querySelector(be)||Ze),Ze?(0,pe.f)(Ze):st.focus()},Ye=(Ue,st)=>{const Ze=Array.from(Ue.querySelectorAll(be));let _t=Ze.length>0?Ze[Ze.length-1]:null;const bt=null==_t?void 0:_t.shadowRoot;bt&&(_t=bt.querySelector(be)||_t),_t?_t.focus():st.focus()},Xe=Ue=>{0===ue&&(ue=1,Ue.addEventListener("focus",st=>{((Ue,st)=>{const Ze=Q(st,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),_t=Ue.target;Ze&&_t&&!Ze.classList.contains("ion-disable-focus-trap")&&(Ze.shadowRoot?(()=>{if(Ze.contains(_t))Ze.lastFocus=_t;else{const Gt=Ze.lastFocus;de(Ze,Ze),Gt===st.activeElement&&Ye(Ze,Ze),Ze.lastFocus=st.activeElement}})():(()=>{if(Ze===_t)Ze.lastFocus=void 0;else{const Gt=(0,pe.g)(Ze);if(!Gt.contains(_t))return;const wt=Gt.querySelector(".ion-overlay-wrapper");if(!wt)return;if(wt.contains(_t))Ze.lastFocus=_t;else{const nn=Ze.lastFocus;de(wt,Ze),nn===st.activeElement&&Ye(wt,Ze),Ze.lastFocus=st.activeElement}}})())})(st,Ue)},!0),Ue.addEventListener("ionBackButton",st=>{const Ze=Q(Ue);null!=Ze&&Ze.backdropDismiss&&st.detail.register(N.OVERLAY_BACK_BUTTON_PRIORITY,()=>Ze.dismiss(void 0,Se))}),Ue.addEventListener("keyup",st=>{if("Escape"===st.key){const Ze=Q(Ue);null!=Ze&&Ze.backdropDismiss&&Ze.dismiss(void 0,Se)}}))},De=(Ue,st,Ze,_t,bt)=>{const Ot=Q(Ue,_t,bt);return Ot?Ot.dismiss(st,Ze):Promise.reject("overlay does not exist")},Q=(Ue,st,Ze)=>{const _t=((Ue,st)=>(void 0===st&&(st="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ue.querySelectorAll(st)).filter(Ze=>Ze.overlayIndex>0)))(Ue,st).filter(bt=>!(Ue=>Ue.classList.contains("overlay-hidden"))(bt));return void 0===Ze?_t[_t.length-1]:_t.find(bt=>bt.id===Ze)},te=(Ue=!1)=>{const Ze=ze(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ze&&(Ue?Ze.setAttribute("aria-hidden","true"):Ze.removeAttribute("aria-hidden"))},je=function(){var Ue=(0,a.Z)(function*(st,Ze,_t,bt,Ot){var Gt,wt;if(st.presented)return;te(!0),st.presented=!0,st.willPresent.emit(),null===(Gt=st.willPresentShorthand)||void 0===Gt||Gt.emit();const nn=(0,B.b)(st),wn=st.enterAnimation?st.enterAnimation:B.c.get(Ze,"ios"===nn?_t:bt);(yield Qe(st,wn,st.el,Ot))&&(st.didPresent.emit(),null===(wt=st.didPresentShorthand)||void 0===wt||wt.emit()),"ION-TOAST"!==st.el.tagName&&Pe(st.el),st.keyboardClose&&(null===document.activeElement||!st.el.contains(document.activeElement))&&st.el.focus()});return function(Ze,_t,bt,Ot,Gt){return Ue.apply(this,arguments)}}(),Pe=function(){var Ue=(0,a.Z)(function*(st){let Ze=document.activeElement;if(!Ze)return;const _t=null==Ze?void 0:Ze.shadowRoot;_t&&(Ze=_t.querySelector(be)||Ze),yield st.onDidDismiss(),Ze.focus()});return function(Ze){return Ue.apply(this,arguments)}}(),Ve=function(){var Ue=(0,a.Z)(function*(st,Ze,_t,bt,Ot,Gt,wt){var nn,wn;if(!st.presented)return!1;te(!1),st.presented=!1;try{st.el.style.setProperty("pointer-events","none"),st.willDismiss.emit({data:Ze,role:_t}),null===(nn=st.willDismissShorthand)||void 0===nn||nn.emit({data:Ze,role:_t});const Sn=(0,B.b)(st),Ht=st.leaveAnimation?st.leaveAnimation:B.c.get(bt,"ios"===Sn?Ot:Gt);_t!==Je&&(yield Qe(st,Ht,st.el,wt)),st.didDismiss.emit({data:Ze,role:_t}),null===(wn=st.didDismissShorthand)||void 0===wn||wn.emit({data:Ze,role:_t}),ye.delete(st),st.el.classList.add("overlay-hidden"),st.el.style.removeProperty("pointer-events")}catch(Sn){console.error(Sn)}return st.el.remove(),!0});return function(Ze,_t,bt,Ot,Gt,wt,nn){return Ue.apply(this,arguments)}}(),ze=Ue=>Ue.querySelector("ion-app")||Ue.body,Qe=function(){var Ue=(0,a.Z)(function*(st,Ze,_t,bt){_t.classList.remove("overlay-hidden");const Gt=Ze(st.el,bt);(!st.animated||!B.c.getBoolean("animated",!0))&&Gt.duration(0),st.keyboardClose&&Gt.beforeAddWrite(()=>{const nn=_t.ownerDocument.activeElement;null!=nn&&nn.matches("input,ion-input, ion-textarea")&&nn.blur()});const wt=ye.get(st)||[];return ye.set(st,[...wt,Gt]),yield Gt.play(),!0});return function(Ze,_t,bt,Ot){return Ue.apply(this,arguments)}}(),He=(Ue,st)=>{let Ze;const _t=new Promise(bt=>Ze=bt);return it(Ue,st,bt=>{Ze(bt.detail)}),_t},it=(Ue,st,Ze)=>{const _t=bt=>{(0,pe.b)(Ue,st,_t),Ze(bt)};(0,pe.a)(Ue,st,_t)},at=Ue=>"cancel"===Ue||Ue===Se,xe=Ue=>Ue(),Me=(Ue,st)=>{if("function"==typeof Ue)return B.c.get("_zoneGate",xe)(()=>{try{return Ue(st)}catch(_t){throw _t}})},Se="backdrop",Je="gesture"},881:(zt,rt,k)=>{"use strict";k.d(rt,{m:()=>pe});var a=k(6895),B=k(2078),N=k(4650);let pe=(()=>{class ue{}return ue.\u0275fac=function(le){return new(le||ue)},ue.\u0275mod=N.oAB({type:ue}),ue.\u0275inj=N.cJS({imports:[a.ez,B.Pc]}),ue})()},7786:(zt,rt,k)=>{"use strict";k.d(rt,{j:()=>N});var a=k(4650),B=k(2385);let N=(()=>{class pe{constructor(ye){this.Firestore=ye}createDocument(ye,le,Ie){return this.Firestore.collection(le).doc(Ie).set(ye)}creatId(){return this.Firestore.createId()}deleteDoc(ye,le){return this.Firestore.collection(ye).doc(le).delete()}updateDoc(ye,le,Ie){return this.Firestore.collection(le).doc(Ie).update(ye)}getCollectionChange(ye){return this.Firestore.collection(ye).valueChanges()}getCollectionQuery(ye,le,Ie,Le){return this.Firestore.collection(ye,ae=>ae.where(le,Ie,Le)).valueChanges()}getCollection(ye){return this.Firestore.collection(ye).valueChanges()}getDoc(ye,le){return this.Firestore.collection(ye).doc(le).valueChanges()}}return pe.\u0275fac=function(ye){return new(ye||pe)(a.LFG(B.ST))},pe.\u0275prov=a.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})()},9726:(zt,rt,k)=>{"use strict";var a=k(1481),B=k(4650),N=k(2435),pe=k(433),ue=k(2078),ye=k(6895);const le=function(De){return[De]};function Ie(De,we){if(1&De&&(B.TgZ(0,"ion-menu-toggle",5)(1,"ion-item",6),B._UZ(2,"ion-icon",7),B.TgZ(3,"ion-label"),B._uU(4),B.qZA()()()),2&De){const Q=we.$implicit;B.xp6(1),B.Q6J("routerLink",B.VKq(4,le,Q.url)),B.xp6(1),B.Q6J("ios",Q.icon+"-outline")("md",Q.icon+"-sharp"),B.xp6(2),B.Oqu(Q.title)}}let Le=(()=>{class De{constructor(){this.appPages=[{title:"Home",url:"/home",icon:"home"},{title:"Productos",url:"/productos"},{title:"Login",url:"/login"},{title:"Register",url:"/register"},{title:"Cerrar Seccion",url:"/logut"}]}}return De.\u0275fac=function(Q){return new(Q||De)},De.\u0275cmp=B.Xpm({type:De,selectors:[["app-root"]],decls:11,vars:1,consts:[["contentId","main-content"],["contentId","main-content","type","overlay"],["id","inbox-list"],["auto-hide","false",4,"ngFor","ngForOf"],["id","main-content"],["auto-hide","false"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"routerLink"],["slot","start",3,"ios","md"]],template:function(Q,te){1&Q&&(B.TgZ(0,"ion-app")(1,"ion-split-pane",0)(2,"ion-menu",1)(3,"ion-content")(4,"ion-list",2)(5,"ion-list-header"),B._uU(6,"Hola"),B.qZA(),B.TgZ(7,"ion-note"),B._uU(8,"Bienvenidos a la App Veloti "),B.qZA(),B.YNc(9,Ie,5,6,"ion-menu-toggle",3),B.qZA()()(),B._UZ(10,"ion-router-outlet",4),B.qZA()()),2&Q&&(B.xp6(9),B.Q6J("ngForOf",te.appPages))},dependencies:[ye.sg,ue.dr,ue.W2,ue.gu,ue.Ie,ue.Q$,ue.q_,ue.yh,ue.z0,ue.zc,ue.uN,ue.jI,ue.jP,ue.YI,N.rH,N.Od],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #f9f8f8))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 30px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #f5efef)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-inicial), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-inicial)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-inicial)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]}),De})();var ce=k(655),ae=k(7786);const Ce=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"home",loadChildren:()=>k.e(4851).then(k.bind(k,4851)).then(De=>De.HomePageModule)},{path:"productos",component:(()=>{class De{constructor(Q,te,je){this.database=Q,this.toastCtrl=te,this.loadingCtrl=je,this.productos={nombre:"",precio:null,stock:null,descripcion:"",id:""}}ngOnInit(){this.ver_producto()}save(){return(0,ce.mG)(this,void 0,void 0,function*(){this.presentLoading(),console.log("esto vamos a guardar --\x3e",this.productos);const Q=this.productos;Q.id=this.database.creatId(),yield this.database.createDocument(Q,"items",Q.id),this.presentToast("Guardado con Exito",2e3),this.productos={nombre:"",precio:null,stock:null,descripcion:"",id:""},this.loading.dismiss()})}presentToast(Q,te){return(0,ce.mG)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:Q,duration:te})).present()})}presentLoading(){return(0,ce.mG)(this,void 0,void 0,function*(){this.loading=yield this.loadingCtrl.create({message:"Guardando"}),yield this.loading.present()})}ver_producto(){this.database.getCollection("Items").subscribe(Q=>console.log("esta es la nueva respuesta",Q))}}return De.\u0275fac=function(Q){return new(Q||De)(B.Y36(ae.j),B.Y36(ue.yF),B.Y36(ue.HT))},De.\u0275cmp=B.Xpm({type:De,selectors:[["app-productos"]],decls:34,vars:4,consts:[[1,""],["slot","start"],[1,"btn-menu"],[1,"itemInput"],["position","stacked"],[3,"ngModel","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],["slot","end"],[3,"click"],["slot","icon-only","name","save-sharp"]],template:function(Q,te){1&Q&&(B.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),B._UZ(3,"ion-menu-button",2),B.qZA(),B._UZ(4,"ion-content"),B.TgZ(5,"ion-title"),B._uU(6,"Productos"),B.qZA()()(),B.TgZ(7,"ion-content")(8,"div")(9,"ion-card")(10,"ion-item",3)(11,"ion-label",4),B._uU(12," nombre"),B.qZA(),B.TgZ(13,"ion-input",5),B.NdJ("ngModelChange",function(Pe){return te.productos.nombre=Pe}),B.qZA()(),B.TgZ(14,"ion-item",3)(15,"ion-label",4),B._uU(16," precio"),B.qZA(),B.TgZ(17,"ion-input",6),B.NdJ("ngModelChange",function(Pe){return te.productos.precio=Pe}),B.qZA()(),B.TgZ(18,"ion-item",3)(19,"ion-label",4),B._uU(20," stock"),B.qZA(),B.TgZ(21,"ion-input",6),B.NdJ("ngModelChange",function(Pe){return te.productos.stock=Pe}),B.qZA()(),B.TgZ(22,"ion-item",3)(23,"ion-label",4),B._uU(24," descripcion"),B.qZA(),B.TgZ(25,"ion-input",5),B.NdJ("ngModelChange",function(Pe){return te.productos.descripcion=Pe}),B.qZA()(),B.TgZ(26,"ion-item",3)(27,"ion-buttons",7)(28,"ion-label"),B._uU(29,"guardar"),B.qZA(),B.TgZ(30,"ion-button",8),B.NdJ("click",function(){return te.save()}),B._UZ(31,"ion-icon",9),B.qZA()()()(),B._uU(32,"> "),B.qZA(),B._UZ(33,"div"),B.qZA()),2&Q&&(B.xp6(13),B.Q6J("ngModel",te.productos.nombre),B.xp6(4),B.Q6J("ngModel",te.productos.precio),B.xp6(4),B.Q6J("ngModel",te.productos.stock),B.xp6(4),B.Q6J("ngModel",te.productos.descripcion))},dependencies:[ue.YG,ue.Sm,ue.PM,ue.W2,ue.Gu,ue.gu,ue.pK,ue.Ie,ue.Q$,ue.fG,ue.wd,ue.sr,ue.as,ue.j9,pe.JJ,pe.On]}),De})()},{path:"login",loadChildren:()=>Promise.all([k.e(8592),k.e(4987)]).then(k.bind(k,4987)).then(De=>De.LoginPageModule)},{path:"register",loadChildren:()=>Promise.all([k.e(8592),k.e(4657)]).then(k.bind(k,4657)).then(De=>De.RegisterPageModule)},{path:"logut",loadChildren:()=>Promise.all([k.e(8592),k.e(9915)]).then(k.bind(k,9915)).then(De=>De.LogutPageModule)}];let Fe=(()=>{class De{}return De.\u0275fac=function(Q){return new(Q||De)},De.\u0275mod=B.oAB({type:De}),De.\u0275inj=B.cJS({imports:[N.Bz.forRoot(Ce,{preloadingStrategy:N.wm}),N.Bz]}),De})();var qe=k(2011);const dt_firebaseConfig={apiKey:"AIzaSyB9F3Rr3HgdR8m5ge1ExNSpf9835hlC5Uc",authDomain:"veloti-e68b3.firebaseapp.com",projectId:"veloti-e68b3",storageBucket:"veloti-e68b3.appspot.com",messagingSenderId:"495937430800",appId:"1:495937430800:web:d141a45abe3a18b9c63195",measurementId:"G-VSTVPNKKFE"};var be=k(2385),de=k(7246),ne=k(3692),Ye=k(881);let We=(()=>{class De{}return De.\u0275fac=function(Q){return new(Q||De)},De.\u0275mod=B.oAB({type:De,bootstrap:[Le]}),De.\u0275inj=B.cJS({providers:[{provide:N.wN,useClass:ue.r4}],imports:[a.b2,ue.Pc.forRoot(),Fe,qe.hO.initializeApp(dt_firebaseConfig),be.yb,pe.u5,pe.UX,Ye.m,(0,ne.hX)(()=>(0,ne.ZF)(dt_firebaseConfig)),(0,de.AR)(()=>(0,de.v0)())]}),De})();(0,B.G48)(),a.q6().bootstrapModule(We).catch(De=>console.log(De))},1135:(zt,rt,k)=>{"use strict";k.d(rt,{X:()=>B});var a=k(7579);class B extends a.x{constructor(pe){super(),this._value=pe}get value(){return this.getValue()}_subscribe(pe){const ue=super._subscribe(pe);return!ue.closed&&pe.next(this._value),ue}getValue(){const{hasError:pe,thrownError:ue,_value:ye}=this;if(pe)throw ue;return this._throwIfClosed(),ye}next(pe){super.next(this._value=pe)}}},9751:(zt,rt,k)=>{"use strict";k.d(rt,{y:()=>Ie});var a=k(2961),B=k(727),N=k(8822),pe=k(9635),ue=k(2416),ye=k(576),le=k(2806);let Ie=(()=>{class fe{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const qe=new fe;return qe.source=this,qe.operator=Fe,qe}subscribe(Fe,qe,dt){const be=function ae(fe){return fe&&fe instanceof a.Lv||function ce(fe){return fe&&(0,ye.m)(fe.next)&&(0,ye.m)(fe.error)&&(0,ye.m)(fe.complete)}(fe)&&(0,B.Nn)(fe)}(Fe)?Fe:new a.Hp(Fe,qe,dt);return(0,le.x)(()=>{const{operator:de,source:ne}=this;be.add(de?de.call(be,ne):ne?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(qe){Fe.error(qe)}}forEach(Fe,qe){return new(qe=Le(qe))((dt,be)=>{const de=new a.Hp({next:ne=>{try{Fe(ne)}catch(Ye){be(Ye),de.unsubscribe()}},error:be,complete:dt});this.subscribe(de)})}_subscribe(Fe){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(Fe)}[N.L](){return this}pipe(...Fe){return(0,pe.U)(Fe)(this)}toPromise(Fe){return new(Fe=Le(Fe))((qe,dt)=>{let be;this.subscribe(de=>be=de,de=>dt(de),()=>qe(be))})}}return fe.create=Ce=>new fe(Ce),fe})();function Le(fe){var Ce;return null!==(Ce=null!=fe?fe:ue.v.Promise)&&void 0!==Ce?Ce:Promise}},7579:(zt,rt,k)=>{"use strict";k.d(rt,{x:()=>le});var a=k(9751),B=k(727);const pe=(0,k(3888).d)(Le=>function(){Le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=k(8737),ye=k(2806);let le=(()=>{class Le extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const fe=new Ie(this,this);return fe.operator=ae,fe}_throwIfClosed(){if(this.closed)throw new pe}next(ae){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const fe of this.currentObservers)fe.next(ae)}})}error(ae){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:fe}=this;for(;fe.length;)fe.shift().error(ae)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:fe,isStopped:Ce,observers:Fe}=this;return fe||Ce?B.Lc:(this.currentObservers=null,Fe.push(ae),new B.w0(()=>{this.currentObservers=null,(0,ue.P)(Fe,ae)}))}_checkFinalizedStatuses(ae){const{hasError:fe,thrownError:Ce,isStopped:Fe}=this;fe?ae.error(Ce):Fe&&ae.complete()}asObservable(){const ae=new a.y;return ae.source=this,ae}}return Le.create=(ce,ae)=>new Ie(ce,ae),Le})();class Ie extends le{constructor(ce,ae){super(),this.destination=ce,this.source=ae}next(ce){var ae,fe;null===(fe=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===fe||fe.call(ae,ce)}error(ce){var ae,fe;null===(fe=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===fe||fe.call(ae,ce)}complete(){var ce,ae;null===(ae=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===ae||ae.call(ce)}_subscribe(ce){var ae,fe;return null!==(fe=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(ce))&&void 0!==fe?fe:B.Lc}}},2961:(zt,rt,k)=>{"use strict";k.d(rt,{Hp:()=>dt,Lv:()=>fe});var a=k(576),B=k(727),N=k(2416),pe=k(7849);function ue(){}const ye=Le("C",void 0,void 0);function Le(We,Xe,De){return{kind:We,value:Xe,error:De}}var ce=k(3410),ae=k(2806);class fe extends B.w0{constructor(Xe){super(),this.isStopped=!1,Xe?(this.destination=Xe,(0,B.Nn)(Xe)&&Xe.add(this)):this.destination=Ye}static create(Xe,De,we){return new dt(Xe,De,we)}next(Xe){this.isStopped?ne(function Ie(We){return Le("N",We,void 0)}(Xe),this):this._next(Xe)}error(Xe){this.isStopped?ne(function le(We){return Le("E",void 0,We)}(Xe),this):(this.isStopped=!0,this._error(Xe))}complete(){this.isStopped?ne(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Xe){this.destination.next(Xe)}_error(Xe){try{this.destination.error(Xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ce=Function.prototype.bind;function Fe(We,Xe){return Ce.call(We,Xe)}class qe{constructor(Xe){this.partialObserver=Xe}next(Xe){const{partialObserver:De}=this;if(De.next)try{De.next(Xe)}catch(we){be(we)}}error(Xe){const{partialObserver:De}=this;if(De.error)try{De.error(Xe)}catch(we){be(we)}else be(Xe)}complete(){const{partialObserver:Xe}=this;if(Xe.complete)try{Xe.complete()}catch(De){be(De)}}}class dt extends fe{constructor(Xe,De,we){let Q;if(super(),(0,a.m)(Xe)||!Xe)Q={next:null!=Xe?Xe:void 0,error:null!=De?De:void 0,complete:null!=we?we:void 0};else{let te;this&&N.v.useDeprecatedNextContext?(te=Object.create(Xe),te.unsubscribe=()=>this.unsubscribe(),Q={next:Xe.next&&Fe(Xe.next,te),error:Xe.error&&Fe(Xe.error,te),complete:Xe.complete&&Fe(Xe.complete,te)}):Q=Xe}this.destination=new qe(Q)}}function be(We){N.v.useDeprecatedSynchronousErrorHandling?(0,ae.O)(We):(0,pe.h)(We)}function ne(We,Xe){const{onStoppedNotification:De}=N.v;De&&ce.z.setTimeout(()=>De(We,Xe))}const Ye={closed:!0,next:ue,error:function de(We){throw We},complete:ue}},727:(zt,rt,k)=>{"use strict";k.d(rt,{Lc:()=>ye,w0:()=>ue,Nn:()=>le});var a=k(576);const N=(0,k(3888).d)(Le=>function(ae){Le(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((fe,Ce)=>`${Ce+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var pe=k(8737);class ue{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const Fe of ae)Fe.remove(this);else ae.remove(this);const{initialTeardown:fe}=this;if((0,a.m)(fe))try{fe()}catch(Fe){ce=Fe instanceof N?Fe.errors:[Fe]}const{_finalizers:Ce}=this;if(Ce){this._finalizers=null;for(const Fe of Ce)try{Ie(Fe)}catch(qe){ce=null!=ce?ce:[],qe instanceof N?ce=[...ce,...qe.errors]:ce.push(qe)}}if(ce)throw new N(ce)}}add(ce){var ae;if(ce&&ce!==this)if(this.closed)Ie(ce);else{if(ce instanceof ue){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(ce)}}_hasParent(ce){const{_parentage:ae}=this;return ae===ce||Array.isArray(ae)&&ae.includes(ce)}_addParent(ce){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(ce),ae):ae?[ae,ce]:ce}_removeParent(ce){const{_parentage:ae}=this;ae===ce?this._parentage=null:Array.isArray(ae)&&(0,pe.P)(ae,ce)}remove(ce){const{_finalizers:ae}=this;ae&&(0,pe.P)(ae,ce),ce instanceof ue&&ce._removeParent(this)}}ue.EMPTY=(()=>{const Le=new ue;return Le.closed=!0,Le})();const ye=ue.EMPTY;function le(Le){return Le instanceof ue||Le&&"closed"in Le&&(0,a.m)(Le.remove)&&(0,a.m)(Le.add)&&(0,a.m)(Le.unsubscribe)}function Ie(Le){(0,a.m)(Le)?Le():Le.unsubscribe()}},2416:(zt,rt,k)=>{"use strict";k.d(rt,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(zt,rt,k)=>{"use strict";k.d(rt,{z:()=>ue});var a=k(8189),N=k(7669),pe=k(8996);function ue(...ye){return function B(){return(0,a.J)(1)}()((0,pe.D)(ye,(0,N.yG)(ye)))}},515:(zt,rt,k)=>{"use strict";k.d(rt,{E:()=>B});const B=new(k(9751).y)(ue=>ue.complete())},8996:(zt,rt,k)=>{"use strict";k.d(rt,{D:()=>Xe});var a=k(8421),B=k(5363),N=k(9468),ye=k(9751),Ie=k(2202),Le=k(576),ce=k(9672);function fe(De,we){if(!De)throw new Error("Iterable cannot be null");return new ye.y(Q=>{(0,ce.f)(Q,we,()=>{const te=De[Symbol.asyncIterator]();(0,ce.f)(Q,we,()=>{te.next().then(je=>{je.done?Q.complete():Q.next(je.value)})},0,!0)})})}var Ce=k(3670),Fe=k(8239),qe=k(1144),dt=k(6495),be=k(2206),de=k(4532),ne=k(3260);function Xe(De,we){return we?function We(De,we){if(null!=De){if((0,Ce.c)(De))return function pe(De,we){return(0,a.Xf)(De).pipe((0,N.R)(we),(0,B.Q)(we))}(De,we);if((0,qe.z)(De))return function le(De,we){return new ye.y(Q=>{let te=0;return we.schedule(function(){te===De.length?Q.complete():(Q.next(De[te++]),Q.closed||this.schedule())})})}(De,we);if((0,Fe.t)(De))return function ue(De,we){return(0,a.Xf)(De).pipe((0,N.R)(we),(0,B.Q)(we))}(De,we);if((0,be.D)(De))return fe(De,we);if((0,dt.T)(De))return function ae(De,we){return new ye.y(Q=>{let te;return(0,ce.f)(Q,we,()=>{te=De[Ie.h](),(0,ce.f)(Q,we,()=>{let je,Pe;try{({value:je,done:Pe}=te.next())}catch(Ve){return void Q.error(Ve)}Pe?Q.complete():Q.next(je)},0,!0)}),()=>(0,Le.m)(null==te?void 0:te.return)&&te.return()})}(De,we);if((0,ne.L)(De))return function Ye(De,we){return fe((0,ne.Q)(De),we)}(De,we)}throw(0,de.z)(De)}(De,we):(0,a.Xf)(De)}},8421:(zt,rt,k)=>{"use strict";k.d(rt,{Xf:()=>Ce});var a=k(655),B=k(1144),N=k(8239),pe=k(9751),ue=k(3670),ye=k(2206),le=k(4532),Ie=k(6495),Le=k(3260),ce=k(576),ae=k(7849),fe=k(8822);function Ce(We){if(We instanceof pe.y)return We;if(null!=We){if((0,ue.c)(We))return function Fe(We){return new pe.y(Xe=>{const De=We[fe.L]();if((0,ce.m)(De.subscribe))return De.subscribe(Xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,B.z)(We))return function qe(We){return new pe.y(Xe=>{for(let De=0;De<We.length&&!Xe.closed;De++)Xe.next(We[De]);Xe.complete()})}(We);if((0,N.t)(We))return function dt(We){return new pe.y(Xe=>{We.then(De=>{Xe.closed||(Xe.next(De),Xe.complete())},De=>Xe.error(De)).then(null,ae.h)})}(We);if((0,ye.D)(We))return de(We);if((0,Ie.T)(We))return function be(We){return new pe.y(Xe=>{for(const De of We)if(Xe.next(De),Xe.closed)return;Xe.complete()})}(We);if((0,Le.L)(We))return function ne(We){return de((0,Le.Q)(We))}(We)}throw(0,le.z)(We)}function de(We){return new pe.y(Xe=>{(function Ye(We,Xe){var De,we,Q,te;return(0,a.mG)(this,void 0,void 0,function*(){try{for(De=(0,a.KL)(We);!(we=yield De.next()).done;)if(Xe.next(we.value),Xe.closed)return}catch(je){Q={error:je}}finally{try{we&&!we.done&&(te=De.return)&&(yield te.call(De))}finally{if(Q)throw Q.error}}Xe.complete()})})(We,Xe).catch(De=>Xe.error(De))})}},6451:(zt,rt,k)=>{"use strict";k.d(rt,{T:()=>ye});var a=k(8189),B=k(8421),N=k(515),pe=k(7669),ue=k(8996);function ye(...le){const Ie=(0,pe.yG)(le),Le=(0,pe._6)(le,1/0),ce=le;return ce.length?1===ce.length?(0,B.Xf)(ce[0]):(0,a.J)(Le)((0,ue.D)(ce,Ie)):N.E}},9646:(zt,rt,k)=>{"use strict";k.d(rt,{of:()=>N});var a=k(7669),B=k(8996);function N(...pe){const ue=(0,a.yG)(pe);return(0,B.D)(pe,ue)}},5403:(zt,rt,k)=>{"use strict";k.d(rt,{x:()=>B});var a=k(2961);function B(pe,ue,ye,le,Ie){return new N(pe,ue,ye,le,Ie)}class N extends a.Lv{constructor(ue,ye,le,Ie,Le,ce){super(ue),this.onFinalize=Le,this.shouldUnsubscribe=ce,this._next=ye?function(ae){try{ye(ae)}catch(fe){ue.error(fe)}}:super._next,this._error=Ie?function(ae){try{Ie(ae)}catch(fe){ue.error(fe)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(ae){ue.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},6590:(zt,rt,k)=>{"use strict";k.d(rt,{d:()=>N});var a=k(4482),B=k(5403);function N(pe){return(0,a.e)((ue,ye)=>{let le=!1;ue.subscribe((0,B.x)(ye,Ie=>{le=!0,ye.next(Ie)},()=>{le||ye.next(pe),ye.complete()}))})}},1884:(zt,rt,k)=>{"use strict";k.d(rt,{x:()=>pe});var a=k(4671),B=k(4482),N=k(5403);function pe(ye,le=a.y){return ye=null!=ye?ye:ue,(0,B.e)((Ie,Le)=>{let ce,ae=!0;Ie.subscribe((0,N.x)(Le,fe=>{const Ce=le(fe);(ae||!ye(ce,Ce))&&(ae=!1,ce=Ce,Le.next(fe))}))})}function ue(ye,le){return ye===le}},9300:(zt,rt,k)=>{"use strict";k.d(rt,{h:()=>N});var a=k(4482),B=k(5403);function N(pe,ue){return(0,a.e)((ye,le)=>{let Ie=0;ye.subscribe((0,B.x)(le,Le=>pe.call(ue,Le,Ie++)&&le.next(Le)))})}},590:(zt,rt,k)=>{"use strict";k.d(rt,{P:()=>le});var a=k(6805),B=k(9300),N=k(5698),pe=k(6590),ue=k(8068),ye=k(4671);function le(Ie,Le){const ce=arguments.length>=2;return ae=>ae.pipe(Ie?(0,B.h)((fe,Ce)=>Ie(fe,Ce,ae)):ye.y,(0,N.q)(1),ce?(0,pe.d)(Le):(0,ue.T)(()=>new a.K))}},4004:(zt,rt,k)=>{"use strict";k.d(rt,{U:()=>N});var a=k(4482),B=k(5403);function N(pe,ue){return(0,a.e)((ye,le)=>{let Ie=0;ye.subscribe((0,B.x)(le,Le=>{le.next(pe.call(ue,Le,Ie++))}))})}},8189:(zt,rt,k)=>{"use strict";k.d(rt,{J:()=>N});var a=k(5577),B=k(4671);function N(pe=1/0){return(0,a.z)(B.y,pe)}},5577:(zt,rt,k)=>{"use strict";k.d(rt,{z:()=>Ie});var a=k(4004),B=k(8421),N=k(4482),pe=k(9672),ue=k(5403),le=k(576);function Ie(Le,ce,ae=1/0){return(0,le.m)(ce)?Ie((fe,Ce)=>(0,a.U)((Fe,qe)=>ce(fe,Fe,Ce,qe))((0,B.Xf)(Le(fe,Ce))),ae):("number"==typeof ce&&(ae=ce),(0,N.e)((fe,Ce)=>function ye(Le,ce,ae,fe,Ce,Fe,qe,dt){const be=[];let de=0,ne=0,Ye=!1;const We=()=>{Ye&&!be.length&&!de&&ce.complete()},Xe=we=>de<fe?De(we):be.push(we),De=we=>{Fe&&ce.next(we),de++;let Q=!1;(0,B.Xf)(ae(we,ne++)).subscribe((0,ue.x)(ce,te=>{null==Ce||Ce(te),Fe?Xe(te):ce.next(te)},()=>{Q=!0},void 0,()=>{if(Q)try{for(de--;be.length&&de<fe;){const te=be.shift();qe?(0,pe.f)(ce,qe,()=>De(te)):De(te)}We()}catch(te){ce.error(te)}}))};return Le.subscribe((0,ue.x)(ce,Xe,()=>{Ye=!0,We()})),()=>{null==dt||dt()}}(fe,Ce,Le,ae)))}},5363:(zt,rt,k)=>{"use strict";k.d(rt,{Q:()=>pe});var a=k(9672),B=k(4482),N=k(5403);function pe(ue,ye=0){return(0,B.e)((le,Ie)=>{le.subscribe((0,N.x)(Ie,Le=>(0,a.f)(Ie,ue,()=>Ie.next(Le),ye),()=>(0,a.f)(Ie,ue,()=>Ie.complete(),ye),Le=>(0,a.f)(Ie,ue,()=>Ie.error(Le),ye)))})}},5026:(zt,rt,k)=>{"use strict";k.d(rt,{R:()=>pe});var a=k(4482),B=k(5403);function N(ue,ye,le,Ie,Le){return(ce,ae)=>{let fe=le,Ce=ye,Fe=0;ce.subscribe((0,B.x)(ae,qe=>{const dt=Fe++;Ce=fe?ue(Ce,qe,dt):(fe=!0,qe),Ie&&ae.next(Ce)},Le&&(()=>{fe&&ae.next(Ce),ae.complete()})))}}function pe(ue,ye){return(0,a.e)(N(ue,ye,arguments.length>=2,!0))}},3099:(zt,rt,k)=>{"use strict";k.d(rt,{B:()=>ue});var a=k(8421),B=k(7579),N=k(2961),pe=k(4482);function ue(le={}){const{connector:Ie=(()=>new B.x),resetOnError:Le=!0,resetOnComplete:ce=!0,resetOnRefCountZero:ae=!0}=le;return fe=>{let Ce,Fe,qe,dt=0,be=!1,de=!1;const ne=()=>{null==Fe||Fe.unsubscribe(),Fe=void 0},Ye=()=>{ne(),Ce=qe=void 0,be=de=!1},We=()=>{const Xe=Ce;Ye(),null==Xe||Xe.unsubscribe()};return(0,pe.e)((Xe,De)=>{dt++,!de&&!be&&ne();const we=qe=null!=qe?qe:Ie();De.add(()=>{dt--,0===dt&&!de&&!be&&(Fe=ye(We,ae))}),we.subscribe(De),!Ce&&dt>0&&(Ce=new N.Hp({next:Q=>we.next(Q),error:Q=>{de=!0,ne(),Fe=ye(Ye,Le,Q),we.error(Q)},complete:()=>{be=!0,ne(),Fe=ye(Ye,ce),we.complete()}}),(0,a.Xf)(Xe).subscribe(Ce))})(fe)}}function ye(le,Ie,...Le){if(!0===Ie)return void le();if(!1===Ie)return;const ce=new N.Hp({next:()=>{ce.unsubscribe(),le()}});return Ie(...Le).subscribe(ce)}},8675:(zt,rt,k)=>{"use strict";k.d(rt,{O:()=>pe});var a=k(7272),B=k(7669),N=k(4482);function pe(...ue){const ye=(0,B.yG)(ue);return(0,N.e)((le,Ie)=>{(ye?(0,a.z)(ue,le,ye):(0,a.z)(ue,le)).subscribe(Ie)})}},9468:(zt,rt,k)=>{"use strict";k.d(rt,{R:()=>B});var a=k(4482);function B(N,pe=0){return(0,a.e)((ue,ye)=>{ye.add(N.schedule(()=>ue.subscribe(ye),pe))})}},3900:(zt,rt,k)=>{"use strict";k.d(rt,{w:()=>pe});var a=k(8421),B=k(4482),N=k(5403);function pe(ue,ye){return(0,B.e)((le,Ie)=>{let Le=null,ce=0,ae=!1;const fe=()=>ae&&!Le&&Ie.complete();le.subscribe((0,N.x)(Ie,Ce=>{null==Le||Le.unsubscribe();let Fe=0;const qe=ce++;(0,a.Xf)(ue(Ce,qe)).subscribe(Le=(0,N.x)(Ie,dt=>Ie.next(ye?ye(Ce,dt,qe,Fe++):dt),()=>{Le=null,fe()}))},()=>{ae=!0,fe()}))})}},5698:(zt,rt,k)=>{"use strict";k.d(rt,{q:()=>pe});var a=k(515),B=k(4482),N=k(5403);function pe(ue){return ue<=0?()=>a.E:(0,B.e)((ye,le)=>{let Ie=0;ye.subscribe((0,N.x)(le,Le=>{++Ie<=ue&&(le.next(Le),ue<=Ie&&le.complete())}))})}},8505:(zt,rt,k)=>{"use strict";k.d(rt,{b:()=>ue});var a=k(576),B=k(4482),N=k(5403),pe=k(4671);function ue(ye,le,Ie){const Le=(0,a.m)(ye)||le||Ie?{next:ye,error:le,complete:Ie}:ye;return Le?(0,B.e)((ce,ae)=>{var fe;null===(fe=Le.subscribe)||void 0===fe||fe.call(Le);let Ce=!0;ce.subscribe((0,N.x)(ae,Fe=>{var qe;null===(qe=Le.next)||void 0===qe||qe.call(Le,Fe),ae.next(Fe)},()=>{var Fe;Ce=!1,null===(Fe=Le.complete)||void 0===Fe||Fe.call(Le),ae.complete()},Fe=>{var qe;Ce=!1,null===(qe=Le.error)||void 0===qe||qe.call(Le,Fe),ae.error(Fe)},()=>{var Fe,qe;Ce&&(null===(Fe=Le.unsubscribe)||void 0===Fe||Fe.call(Le)),null===(qe=Le.finalize)||void 0===qe||qe.call(Le)}))}):pe.y}},8068:(zt,rt,k)=>{"use strict";k.d(rt,{T:()=>pe});var a=k(6805),B=k(4482),N=k(5403);function pe(ye=ue){return(0,B.e)((le,Ie)=>{let Le=!1;le.subscribe((0,N.x)(Ie,ce=>{Le=!0,Ie.next(ce)},()=>Le?Ie.complete():Ie.error(ye())))})}function ue(){return new a.K}},4408:(zt,rt,k)=>{"use strict";k.d(rt,{o:()=>ue});var a=k(727);class B extends a.w0{constructor(le,Ie){super()}schedule(le,Ie=0){return this}}const N={setInterval(ye,le,...Ie){const{delegate:Le}=N;return null!=Le&&Le.setInterval?Le.setInterval(ye,le,...Ie):setInterval(ye,le,...Ie)},clearInterval(ye){const{delegate:le}=N;return((null==le?void 0:le.clearInterval)||clearInterval)(ye)},delegate:void 0};var pe=k(8737);class ue extends B{constructor(le,Ie){super(le,Ie),this.scheduler=le,this.work=Ie,this.pending=!1}schedule(le,Ie=0){var Le;if(this.closed)return this;this.state=le;const ce=this.id,ae=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(ae,ce,Ie)),this.pending=!0,this.delay=Ie,this.id=null!==(Le=this.id)&&void 0!==Le?Le:this.requestAsyncId(ae,this.id,Ie),this}requestAsyncId(le,Ie,Le=0){return N.setInterval(le.flush.bind(le,this),Le)}recycleAsyncId(le,Ie,Le=0){if(null!=Le&&this.delay===Le&&!1===this.pending)return Ie;null!=Ie&&N.clearInterval(Ie)}execute(le,Ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Le=this._execute(le,Ie);if(Le)return Le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,Ie){let ce,Le=!1;try{this.work(le)}catch(ae){Le=!0,ce=ae||new Error("Scheduled action threw falsy error")}if(Le)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:le,scheduler:Ie}=this,{actions:Le}=Ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Le,this),null!=le&&(this.id=this.recycleAsyncId(Ie,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(zt,rt,k)=>{"use strict";k.d(rt,{v:()=>N});var a=k(6063);class B{constructor(ue,ye=B.now){this.schedulerActionCtor=ue,this.now=ye}schedule(ue,ye=0,le){return new this.schedulerActionCtor(this,ue).schedule(le,ye)}}B.now=a.l.now;class N extends B{constructor(ue,ye=B.now){super(ue,ye),this.actions=[],this._active=!1}flush(ue){const{actions:ye}=this;if(this._active)return void ye.push(ue);let le;this._active=!0;do{if(le=ue.execute(ue.state,ue.delay))break}while(ue=ye.shift());if(this._active=!1,le){for(;ue=ye.shift();)ue.unsubscribe();throw le}}}},4986:(zt,rt,k)=>{"use strict";k.d(rt,{z:()=>N});var a=k(4408);const N=new(k(7565).v)(a.o)},6063:(zt,rt,k)=>{"use strict";k.d(rt,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(zt,rt,k)=>{"use strict";k.d(rt,{z:()=>a});const a={setTimeout(B,N,...pe){const{delegate:ue}=a;return null!=ue&&ue.setTimeout?ue.setTimeout(B,N,...pe):setTimeout(B,N,...pe)},clearTimeout(B){const{delegate:N}=a;return((null==N?void 0:N.clearTimeout)||clearTimeout)(B)},delegate:void 0}},2202:(zt,rt,k)=>{"use strict";k.d(rt,{h:()=>B});const B=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(zt,rt,k)=>{"use strict";k.d(rt,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(zt,rt,k)=>{"use strict";k.d(rt,{K:()=>B});const B=(0,k(3888).d)(N=>function(){N(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(zt,rt,k)=>{"use strict";k.d(rt,{_6:()=>ye,jO:()=>pe,yG:()=>ue});var a=k(576);function N(le){return le[le.length-1]}function pe(le){return(0,a.m)(N(le))?le.pop():void 0}function ue(le){return function B(le){return le&&(0,a.m)(le.schedule)}(N(le))?le.pop():void 0}function ye(le,Ie){return"number"==typeof N(le)?le.pop():Ie}},4742:(zt,rt,k)=>{"use strict";k.d(rt,{D:()=>ue});const{isArray:a}=Array,{getPrototypeOf:B,prototype:N,keys:pe}=Object;function ue(le){if(1===le.length){const Ie=le[0];if(a(Ie))return{args:Ie,keys:null};if(function ye(le){return le&&"object"==typeof le&&B(le)===N}(Ie)){const Le=pe(Ie);return{args:Le.map(ce=>Ie[ce]),keys:Le}}}return{args:le,keys:null}}},8737:(zt,rt,k)=>{"use strict";function a(B,N){if(B){const pe=B.indexOf(N);0<=pe&&B.splice(pe,1)}}k.d(rt,{P:()=>a})},3888:(zt,rt,k)=>{"use strict";function a(B){const pe=B(ue=>{Error.call(ue),ue.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}k.d(rt,{d:()=>a})},1810:(zt,rt,k)=>{"use strict";function a(B,N){return B.reduce((pe,ue,ye)=>(pe[ue]=N[ye],pe),{})}k.d(rt,{n:()=>a})},2806:(zt,rt,k)=>{"use strict";k.d(rt,{O:()=>pe,x:()=>N});var a=k(2416);let B=null;function N(ue){if(a.v.useDeprecatedSynchronousErrorHandling){const ye=!B;if(ye&&(B={errorThrown:!1,error:null}),ue(),ye){const{errorThrown:le,error:Ie}=B;if(B=null,le)throw Ie}}else ue()}function pe(ue){a.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ue)}},9672:(zt,rt,k)=>{"use strict";function a(B,N,pe,ue=0,ye=!1){const le=N.schedule(function(){pe(),ye?B.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(B.add(le),!ye)return le}k.d(rt,{f:()=>a})},4671:(zt,rt,k)=>{"use strict";function a(B){return B}k.d(rt,{y:()=>a})},1144:(zt,rt,k)=>{"use strict";k.d(rt,{z:()=>a});const a=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(zt,rt,k)=>{"use strict";k.d(rt,{D:()=>B});var a=k(576);function B(N){return Symbol.asyncIterator&&(0,a.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(zt,rt,k)=>{"use strict";function a(B){return"function"==typeof B}k.d(rt,{m:()=>a})},3670:(zt,rt,k)=>{"use strict";k.d(rt,{c:()=>N});var a=k(8822),B=k(576);function N(pe){return(0,B.m)(pe[a.L])}},6495:(zt,rt,k)=>{"use strict";k.d(rt,{T:()=>N});var a=k(2202),B=k(576);function N(pe){return(0,B.m)(null==pe?void 0:pe[a.h])}},8239:(zt,rt,k)=>{"use strict";k.d(rt,{t:()=>B});var a=k(576);function B(N){return(0,a.m)(null==N?void 0:N.then)}},3260:(zt,rt,k)=>{"use strict";k.d(rt,{L:()=>pe,Q:()=>N});var a=k(655),B=k(576);function N(ue){return(0,a.FC)(this,arguments,function*(){const le=ue.getReader();try{for(;;){const{value:Ie,done:Le}=yield(0,a.qq)(le.read());if(Le)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(Ie)}}finally{le.releaseLock()}})}function pe(ue){return(0,B.m)(null==ue?void 0:ue.getReader)}},4482:(zt,rt,k)=>{"use strict";k.d(rt,{A:()=>B,e:()=>N});var a=k(576);function B(pe){return(0,a.m)(null==pe?void 0:pe.lift)}function N(pe){return ue=>{if(B(ue))return ue.lift(function(ye){try{return pe(ye,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(zt,rt,k)=>{"use strict";k.d(rt,{Z:()=>pe});var a=k(4004);const{isArray:B}=Array;function pe(ue){return(0,a.U)(ye=>function N(ue,ye){return B(ye)?ue(...ye):ue(ye)}(ue,ye))}},9635:(zt,rt,k)=>{"use strict";k.d(rt,{U:()=>N,z:()=>B});var a=k(4671);function B(...pe){return N(pe)}function N(pe){return 0===pe.length?a.y:1===pe.length?pe[0]:function(ye){return pe.reduce((le,Ie)=>Ie(le),ye)}}},7849:(zt,rt,k)=>{"use strict";k.d(rt,{h:()=>N});var a=k(2416),B=k(3410);function N(pe){B.z.setTimeout(()=>{const{onUnhandledError:ue}=a.v;if(!ue)throw pe;ue(pe)})}},4532:(zt,rt,k)=>{"use strict";function a(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(rt,{z:()=>a})},863:(zt,rt,k)=>{var a={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,1435,9230],"./ion-datetime_3.entry.js":[4959,1435,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function B(N){if(!k.o(a,N))return Promise.resolve().then(()=>{var ye=new Error("Cannot find module '"+N+"'");throw ye.code="MODULE_NOT_FOUND",ye});var pe=a[N],ue=pe[0];return Promise.all(pe.slice(1).map(k.e)).then(()=>k(ue))}B.keys=()=>Object.keys(a),B.id=863,zt.exports=B},655:(zt,rt,k)=>{"use strict";function pe(He,it){var at={};for(var xe in He)Object.prototype.hasOwnProperty.call(He,xe)&&it.indexOf(xe)<0&&(at[xe]=He[xe]);if(null!=He&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(xe=Object.getOwnPropertySymbols(He);Me<xe.length;Me++)it.indexOf(xe[Me])<0&&Object.prototype.propertyIsEnumerable.call(He,xe[Me])&&(at[xe[Me]]=He[xe[Me]])}return at}function ue(He,it,at,xe){var Je,Me=arguments.length,Se=Me<3?it:null===xe?xe=Object.getOwnPropertyDescriptor(it,at):xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Se=Reflect.decorate(He,it,at,xe);else for(var Ue=He.length-1;Ue>=0;Ue--)(Je=He[Ue])&&(Se=(Me<3?Je(Se):Me>3?Je(it,at,Se):Je(it,at))||Se);return Me>3&&Se&&Object.defineProperty(it,at,Se),Se}function fe(He,it,at,xe){return new(at||(at=Promise))(function(Se,Je){function Ue(_t){try{Ze(xe.next(_t))}catch(bt){Je(bt)}}function st(_t){try{Ze(xe.throw(_t))}catch(bt){Je(bt)}}function Ze(_t){_t.done?Se(_t.value):function Me(Se){return Se instanceof at?Se:new at(function(Je){Je(Se)})}(_t.value).then(Ue,st)}Ze((xe=xe.apply(He,it||[])).next())})}function We(He){return this instanceof We?(this.v=He,this):new We(He)}function Xe(He,it,at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,xe=at.apply(He,it||[]),Se=[];return Me={},Je("next"),Je("throw"),Je("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function Je(Ot){xe[Ot]&&(Me[Ot]=function(Gt){return new Promise(function(wt,nn){Se.push([Ot,Gt,wt,nn])>1||Ue(Ot,Gt)})})}function Ue(Ot,Gt){try{!function st(Ot){Ot.value instanceof We?Promise.resolve(Ot.value.v).then(Ze,_t):bt(Se[0][2],Ot)}(xe[Ot](Gt))}catch(wt){bt(Se[0][3],wt)}}function Ze(Ot){Ue("next",Ot)}function _t(Ot){Ue("throw",Ot)}function bt(Ot,Gt){Ot(Gt),Se.shift(),Se.length&&Ue(Se[0][0],Se[0][1])}}function we(He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var at,it=He[Symbol.asyncIterator];return it?it.call(He):(He=function dt(He){var it="function"==typeof Symbol&&Symbol.iterator,at=it&&He[it],xe=0;if(at)return at.call(He);if(He&&"number"==typeof He.length)return{next:function(){return He&&xe>=He.length&&(He=void 0),{value:He&&He[xe++],done:!He}}};throw new TypeError(it?"Object is not iterable.":"Symbol.iterator is not defined.")}(He),at={},xe("next"),xe("throw"),xe("return"),at[Symbol.asyncIterator]=function(){return this},at);function xe(Se){at[Se]=He[Se]&&function(Je){return new Promise(function(Ue,st){!function Me(Se,Je,Ue,st){Promise.resolve(st).then(function(Ze){Se({value:Ze,done:Ue})},Je)}(Ue,st,(Je=He[Se](Je)).done,Je.value)})}}}k.d(rt,{FC:()=>Xe,KL:()=>we,_T:()=>pe,gn:()=>ue,mG:()=>fe,qq:()=>We})},6895:(zt,rt,k)=>{"use strict";k.d(rt,{Do:()=>ne,EM:()=>ji,HT:()=>pe,JF:()=>Do,K0:()=>ye,Mx:()=>Lr,O5:()=>me,PM:()=>As,S$:()=>dt,V_:()=>Le,Ye:()=>Ye,b0:()=>de,bD:()=>Di,ez:()=>Po,mk:()=>_n,q:()=>N,sg:()=>F,tP:()=>ni,w_:()=>ue});var a=k(4650);let B=null;function N(){return B}function pe(M){B||(B=M)}class ue{}const ye=new a.OlP("DocumentToken");let le=(()=>{class M{historyGo(P){throw new Error("Not implemented")}}return M.\u0275fac=function(P){return new(P||M)},M.\u0275prov=a.Yz7({token:M,factory:function(){return function Ie(){return(0,a.LFG)(ce)}()},providedIn:"platform"}),M})();const Le=new a.OlP("Location Initialized");let ce=(()=>{class M extends le{constructor(P){super(),this._doc=P,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(P){const Z=N().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",P,!1),()=>Z.removeEventListener("popstate",P)}onHashChange(P){const Z=N().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",P,!1),()=>Z.removeEventListener("hashchange",P)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(P){this._location.pathname=P}pushState(P,Z,Ee){ae()?this._history.pushState(P,Z,Ee):this._location.hash=Ee}replaceState(P,Z,Ee){ae()?this._history.replaceState(P,Z,Ee):this._location.hash=Ee}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return M.\u0275fac=function(P){return new(P||M)(a.LFG(ye))},M.\u0275prov=a.Yz7({token:M,factory:function(){return function fe(){return new ce((0,a.LFG)(ye))}()},providedIn:"platform"}),M})();function ae(){return!!window.history.pushState}function Ce(M,H){if(0==M.length)return H;if(0==H.length)return M;let P=0;return M.endsWith("/")&&P++,H.startsWith("/")&&P++,2==P?M+H.substring(1):1==P?M+H:M+"/"+H}function Fe(M){const H=M.match(/#|\?|$/),P=H&&H.index||M.length;return M.slice(0,P-("/"===M[P-1]?1:0))+M.slice(P)}function qe(M){return M&&"?"!==M[0]?"?"+M:M}let dt=(()=>{class M{historyGo(P){throw new Error("Not implemented")}}return M.\u0275fac=function(P){return new(P||M)},M.\u0275prov=a.Yz7({token:M,factory:function(){return(0,a.f3M)(de)},providedIn:"root"}),M})();const be=new a.OlP("appBaseHref");let de=(()=>{class M extends dt{constructor(P,Z){var Ee,ct,Ct;super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=null!==(Ee=null!==(ct=null!=Z?Z:this._platformLocation.getBaseHrefFromDOM())&&void 0!==ct?ct:null===(Ct=(0,a.f3M)(ye).location)||void 0===Ct?void 0:Ct.origin)&&void 0!==Ee?Ee:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return Ce(this._baseHref,P)}path(P=!1){const Z=this._platformLocation.pathname+qe(this._platformLocation.search),Ee=this._platformLocation.hash;return Ee&&P?`${Z}${Ee}`:Z}pushState(P,Z,Ee,ct){const Ct=this.prepareExternalUrl(Ee+qe(ct));this._platformLocation.pushState(P,Z,Ct)}replaceState(P,Z,Ee,ct){const Ct=this.prepareExternalUrl(Ee+qe(ct));this._platformLocation.replaceState(P,Z,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){var Z,Ee;null===(Z=(Ee=this._platformLocation).historyGo)||void 0===Z||Z.call(Ee,P)}}return M.\u0275fac=function(P){return new(P||M)(a.LFG(le),a.LFG(be,8))},M.\u0275prov=a.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),ne=(()=>{class M extends dt{constructor(P,Z){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(P){const Z=Ce(this._baseHref,P);return Z.length>0?"#"+Z:Z}pushState(P,Z,Ee,ct){let Ct=this.prepareExternalUrl(Ee+qe(ct));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.pushState(P,Z,Ct)}replaceState(P,Z,Ee,ct){let Ct=this.prepareExternalUrl(Ee+qe(ct));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.replaceState(P,Z,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){var Z,Ee;null===(Z=(Ee=this._platformLocation).historyGo)||void 0===Z||Z.call(Ee,P)}}return M.\u0275fac=function(P){return new(P||M)(a.LFG(le),a.LFG(be,8))},M.\u0275prov=a.Yz7({token:M,factory:M.\u0275fac}),M})(),Ye=(()=>{class M{constructor(P){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const Z=this._locationStrategy.getBaseHref();this._basePath=function we(M){if(new RegExp("^(https?:)?//").test(M)){const[,P]=M.split(/\/\/[^\/]+/);return P}return M}(Fe(De(Z))),this._locationStrategy.onPopState(Ee=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ee.state,type:Ee.type})})}ngOnDestroy(){var P;null===(P=this._urlChangeSubscription)||void 0===P||P.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,Z=""){return this.path()==this.normalize(P+qe(Z))}normalize(P){return M.stripTrailingSlash(function Xe(M,H){return M&&new RegExp(`^${M}([/;?#]|$)`).test(H)?H.substring(M.length):H}(this._basePath,De(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,Z="",Ee=null){this._locationStrategy.pushState(Ee,"",P,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+qe(Z)),Ee)}replaceState(P,Z="",Ee=null){this._locationStrategy.replaceState(Ee,"",P,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+qe(Z)),Ee)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){var Z,Ee;null===(Z=(Ee=this._locationStrategy).historyGo)||void 0===Z||Z.call(Ee,P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)})),()=>{const Z=this._urlChangeListeners.indexOf(P);var Ee;this._urlChangeListeners.splice(Z,1),0===this._urlChangeListeners.length&&(null===(Ee=this._urlChangeSubscription)||void 0===Ee||Ee.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",Z){this._urlChangeListeners.forEach(Ee=>Ee(P,Z))}subscribe(P,Z,Ee){return this._subject.subscribe({next:P,error:Z,complete:Ee})}}return M.normalizeQueryParams=qe,M.joinWithSlash=Ce,M.stripTrailingSlash=Fe,M.\u0275fac=function(P){return new(P||M)(a.LFG(dt))},M.\u0275prov=a.Yz7({token:M,factory:function(){return function We(){return new Ye((0,a.LFG)(dt))}()},providedIn:"root"}),M})();function De(M){return M.replace(/\/index.html$/,"")}function Lr(M,H){H=encodeURIComponent(H);for(const P of M.split(";")){const Z=P.indexOf("="),[Ee,ct]=-1==Z?[P,""]:[P.slice(0,Z),P.slice(Z+1)];if(Ee.trim()===H)return decodeURIComponent(ct)}return null}const Vr=/\s+/,Jt=[];let _n=(()=>{class M{constructor(P,Z,Ee,ct){this._iterableDiffers=P,this._keyValueDiffers=Z,this._ngEl=Ee,this._renderer=ct,this.initialClasses=Jt,this.stateMap=new Map}set klass(P){this.initialClasses=null!=P?P.trim().split(Vr):Jt}set ngClass(P){this.rawClass="string"==typeof P?P.trim().split(Vr):P}ngDoCheck(){for(const Z of this.initialClasses)this._updateState(Z,!0);const P=this.rawClass;if(Array.isArray(P)||P instanceof Set)for(const Z of P)this._updateState(Z,!0);else if(null!=P)for(const Z of Object.keys(P))this._updateState(Z,Boolean(P[Z]));this._applyStateDiff()}_updateState(P,Z){const Ee=this.stateMap.get(P);void 0!==Ee?(Ee.enabled!==Z&&(Ee.changed=!0,Ee.enabled=Z),Ee.touched=!0):this.stateMap.set(P,{enabled:Z,changed:!0,touched:!0})}_applyStateDiff(){for(const P of this.stateMap){const Z=P[0],Ee=P[1];Ee.changed?(this._toggleClass(Z,Ee.enabled),Ee.changed=!1):Ee.touched||(Ee.enabled&&this._toggleClass(Z,!1),this.stateMap.delete(Z)),Ee.touched=!1}}_toggleClass(P,Z){(P=P.trim()).length>0&&P.split(Vr).forEach(Ee=>{Z?this._renderer.addClass(this._ngEl.nativeElement,Ee):this._renderer.removeClass(this._ngEl.nativeElement,Ee)})}}return M.\u0275fac=function(P){return new(P||M)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},M.\u0275dir=a.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),M})();class et{constructor(H,P,Z,Ee){this.$implicit=H,this.ngForOf=P,this.index=Z,this.count=Ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let F=(()=>{class M{set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}constructor(P,Z,Ee){this._viewContainer=P,this._template=Z,this._differs=Ee,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const Z=this._viewContainer;P.forEachOperation((Ee,ct,Ct)=>{if(null==Ee.previousIndex)Z.createEmbeddedView(this._template,new et(Ee.item,this._ngForOf,-1,-1),null===Ct?void 0:Ct);else if(null==Ct)Z.remove(null===ct?void 0:ct);else if(null!==ct){const fn=Z.get(ct);Z.move(fn,Ct),j(fn,Ee)}});for(let Ee=0,ct=Z.length;Ee<ct;Ee++){const fn=Z.get(Ee).context;fn.index=Ee,fn.count=ct,fn.ngForOf=this._ngForOf}P.forEachIdentityChange(Ee=>{j(Z.get(Ee.currentIndex),Ee)})}static ngTemplateContextGuard(P,Z){return!0}}return M.\u0275fac=function(P){return new(P||M)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},M.\u0275dir=a.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),M})();function j(M,H){M.context.$implicit=H.item}let me=(()=>{class M{constructor(P,Z){this._viewContainer=P,this._context=new Be,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){ee("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){ee("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,Z){return!0}}return M.\u0275fac=function(P){return new(P||M)(a.Y36(a.s_b),a.Y36(a.Rgc))},M.\u0275dir=a.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),M})();class Be{constructor(){this.$implicit=null,this.ngIf=null}}function ee(M,H){if(H&&!H.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,a.AaK)(H)}'.`)}let ni=(()=>{class M{constructor(P){this._viewContainerRef=P,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(P){if(P.ngTemplateOutlet||P.ngTemplateOutletInjector){const Z=this._viewContainerRef;if(this._viewRef&&Z.remove(Z.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ee,ngTemplateOutletContext:ct,ngTemplateOutletInjector:Ct}=this;this._viewRef=Z.createEmbeddedView(Ee,ct,Ct?{injector:Ct}:void 0)}else this._viewRef=null}else this._viewRef&&P.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return M.\u0275fac=function(P){return new(P||M)(a.Y36(a.s_b))},M.\u0275dir=a.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),M})(),Po=(()=>{class M{}return M.\u0275fac=function(P){return new(P||M)},M.\u0275mod=a.oAB({type:M}),M.\u0275inj=a.cJS({}),M})();const Di="browser";function As(M){return"server"===M}let ji=(()=>{class M{}return M.\u0275prov=(0,a.Yz7)({token:M,providedIn:"root",factory:()=>new ko((0,a.LFG)(ye),window)}),M})();class ko{constructor(H,P){this.document=H,this.window=P,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const P=function Hi(M,H){const P=M.getElementById(H)||M.getElementsByName(H)[0];if(P)return P;if("function"==typeof M.createTreeWalker&&M.body&&(M.body.createShadowRoot||M.body.attachShadow)){const Z=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let Ee=Z.currentNode;for(;Ee;){const ct=Ee.shadowRoot;if(ct){const Ct=ct.getElementById(H)||ct.querySelector(`[name="${H}"]`);if(Ct)return Ct}Ee=Z.nextNode()}}return null}(this.document,H);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(H){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=H)}}scrollToElement(H){const P=H.getBoundingClientRect(),Z=P.left+this.window.pageXOffset,Ee=P.top+this.window.pageYOffset,ct=this.offset();this.window.scrollTo(Z-ct[0],Ee-ct[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const H=Ri(this.window.history)||Ri(Object.getPrototypeOf(this.window.history));return!(!H||!H.writable&&!H.set)}catch(H){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(H){return!1}}}function Ri(M){return Object.getOwnPropertyDescriptor(M,"scrollRestoration")}class Do{}},4650:(zt,rt,k)=>{"use strict";k.d(rt,{$8M:()=>Na,$WT:()=>rr,$Z:()=>Em,AFp:()=>mE,AaK:()=>Ie,CHM:()=>m,CRH:()=>q0,CZH:()=>Gy,CqO:()=>Hh,D6c:()=>RD,DdM:()=>O0,EJc:()=>WI,EpF:()=>Gm,F$t:()=>Km,F4k:()=>Lp,FYo:()=>Wf,FiY:()=>gi,G48:()=>fD,Gf:()=>G0,GfV:()=>qf,GkF:()=>jh,Gpc:()=>ae,Hsn:()=>$p,JOm:()=>is,KtG:()=>f,LFG:()=>xt,Lbi:()=>HI,Lck:()=>t,MAs:()=>md,MMx:()=>C,NdJ:()=>zh,OlP:()=>br,Oqu:()=>Sl,P3R:()=>Jd,PXZ:()=>aD,Q6J:()=>Nr,QGY:()=>Dc,Qsj:()=>Qc,R0b:()=>Ja,RDi:()=>Rg,Rgc:()=>Dg,SBq:()=>Yl,Sil:()=>YI,Suo:()=>W0,TTD:()=>ki,TgZ:()=>yd,VKq:()=>P0,X6Q:()=>hD,XFs:()=>Nt,Xpm:()=>mr,Xts:()=>Yc,Y36:()=>hc,YKP:()=>e,YNc:()=>Fp,Yjl:()=>Si,Yz7:()=>bt,Z0I:()=>nn,ZZ4:()=>f0,_Bn:()=>Vy,_UZ:()=>Uh,_Vd:()=>Wl,_c5:()=>MD,_uU:()=>Zp,aQg:()=>p0,c2e:()=>zI,cJS:()=>Gt,cg1:()=>Qa,dDg:()=>rD,dqk:()=>ln,eFA:()=>ME,ekj:()=>Wp,eoX:()=>SE,f3M:()=>qt,g9A:()=>vE,h0i:()=>i,hGG:()=>xD,hij:()=>Dd,iGM:()=>z0,ifc:()=>Tt,ip1:()=>gE,jDz:()=>z,kL8:()=>ag,lG2:()=>qr,lqb:()=>zl,lri:()=>wE,n5z:()=>rl,oAB:()=>jr,oxw:()=>Ym,q4F:()=>Yf,qLn:()=>sc,qOj:()=>Cp,qZA:()=>ou,rWj:()=>CE,sBO:()=>pD,s_b:()=>jy,soG:()=>Wy,tb:()=>_E,tp0:()=>R,uIk:()=>Op,vHH:()=>be,vpe:()=>uu,wAp:()=>Yn,xp6:()=>Qf,z2F:()=>qy,zSh:()=>rh,zs3:()=>Zl});var a=k(7579),B=k(727),N=k(9751),pe=k(6451),ue=k(3099);function ye(n){for(let r in n)if(n[r]===ye)return r;throw Error("Could not find renamed property on target object.")}function le(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Ie(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ie).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Le(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ce=ye({__forward_ref__:ye});function ae(n){return n.__forward_ref__=ae,n.toString=function(){return Ie(this())},n}function fe(n){return Ce(n)?n():n}function Ce(n){return"function"==typeof n&&n.hasOwnProperty(ce)&&n.__forward_ref__===ae}function Fe(n){return n&&!!n.\u0275providers}const dt="https://g.co/ng/security#xss";class be extends Error{constructor(r,s){super(function de(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function ne(n){return"string"==typeof n?n:null==n?"":String(n)}function we(n,r){throw new be(-201,!1)}function Je(n,r){null==n&&function Ue(n,r,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${r} <=Actual]`))}(r,n,null,"!=")}function bt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Gt(n){return{providers:n.providers||[],imports:n.imports||[]}}function wt(n){return wn(n,Jn)||wn(n,Ln)}function nn(n){return null!==wt(n)}function wn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Fn(n){return n&&(n.hasOwnProperty(ur)||n.hasOwnProperty(qn))?n[ur]:null}const Jn=ye({\u0275prov:ye}),ur=ye({\u0275inj:ye}),Ln=ye({ngInjectableDef:ye}),qn=ye({ngInjectorDef:ye});var Nt=(()=>((Nt=Nt||{})[Nt.Default=0]="Default",Nt[Nt.Host=1]="Host",Nt[Nt.Self=2]="Self",Nt[Nt.SkipSelf=4]="SkipSelf",Nt[Nt.Optional=8]="Optional",Nt))();let Wn;function gr(n){const r=Wn;return Wn=n,r}function Ir(n,r,s){const l=wt(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&Nt.Optional?null:void 0!==r?r:void we(Ie(n))}const ln=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),rn={},cr="__NG_DI_FLAG__",Rt="ngTempTokenPath",Rr=/\n/gm,Fr="__source";let xn;function In(n){const r=xn;return xn=n,r}function or(n,r=Nt.Default){if(void 0===xn)throw new be(-203,!1);return null===xn?Ir(n,void 0,r):xn.get(n,r&Nt.Optional?null:void 0,r)}function xt(n,r=Nt.Default){return(function Gn(){return Wn}()||or)(fe(n),r)}function qt(n,r=Nt.Default){return xt(n,un(r))}function un(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function dn(n){const r=[];for(let s=0;s<n.length;s++){const l=fe(n[s]);if(Array.isArray(l)){if(0===l.length)throw new be(900,!1);let d,p=Nt.Default;for(let E=0;E<l.length;E++){const S=l[E],O=Ae(S);"number"==typeof O?-1===O?d=S.token:p|=O:d=S}r.push(xt(d,p))}else r.push(xt(l))}return r}function Rn(n,r){return n[cr]=r,n.prototype[cr]=r,n}function Ae(n){return n[cr]}function he(n){return{toString:n}.toString()}var X=(()=>((X=X||{})[X.OnPush=0]="OnPush",X[X.Default=1]="Default",X))(),Tt=(()=>{return(n=Tt||(Tt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Tt;var n})();const en={},Oe=[],Re=ye({\u0275cmp:ye}),oe=ye({\u0275dir:ye}),lt=ye({\u0275pipe:ye}),At=ye({\u0275mod:ye}),Mt=ye({\u0275fac:ye}),sn=ye({__NG_ELEMENT_ID__:ye});let hr=0;function mr(n){return he(()=>{const s=!0===n.standalone,l={},d={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===X.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Oe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Tt.Emulated,id:"c"+hr++,styles:n.styles||Oe,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},p=n.dependencies,E=n.features;return d.inputs=oi(n.inputs,l),d.outputs=oi(n.outputs),E&&E.forEach(S=>S(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(Tr).filter(Kn):null,d.pipeDefs=p?()=>("function"==typeof p?p():p).map(Ar).filter(Kn):null,d})}function Tr(n){return Nn(n)||Zn(n)}function Kn(n){return null!==n}function jr(n){return he(()=>({type:n.type,bootstrap:n.bootstrap||Oe,declarations:n.declarations||Oe,imports:n.imports||Oe,exports:n.exports||Oe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function oi(n,r){if(null==n)return en;const s={};for(const l in n)if(n.hasOwnProperty(l)){let d=n[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),s[d]=l,r&&(r[d]=p)}return s}const qr=mr;function Si(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Nn(n){return n[Re]||null}function Zn(n){return n[oe]||null}function Ar(n){return n[lt]||null}function rr(n){const r=Nn(n)||Zn(n)||Ar(n);return null!==r&&r.standalone}function Lr(n,r){const s=n[At]||null;if(!s&&!0===r)throw new Error(`Type ${Ie(n)} does not have '\u0275mod' property.`);return s}function ri(n){return Array.isArray(n)&&"object"==typeof n[1]}function ii(n){return Array.isArray(n)&&!0===n[1]}function Vi(n){return 0!=(4&n.flags)}function ss(n){return n.componentOffset>-1}function as(n){return 1==(1&n.flags)}function Jr(n){return null!==n.template}function Ss(n){return 0!=(256&n[2])}function ar(n,r){return n.hasOwnProperty(Mt)?n[Mt]:null}class xi{constructor(r,s,l){this.previousValue=r,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function ki(){return ji}function ji(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ri),ko}function ko(){const n=co(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===en)n.previous=r;else for(let l in r)s[l]=r[l];n.current=null,this.ngOnChanges(r)}}function Ri(n,r,s,l){const d=this.declaredInputs[s],p=co(n)||function Do(n,r){return n[Hi]=r}(n,{previous:en,current:null}),E=p.current||(p.current={}),S=p.previous,O=S[d];E[d]=new xi(O&&O.currentValue,r,S===en),n[l]=r}ki.ngInherit=!0;const Hi="__ngSimpleChanges__";function co(n){return n[Hi]||null}function Ur(n){for(;Array.isArray(n);)n=n[0];return n}function Co(n,r){return Ur(r[n])}function di(n,r){return Ur(r[n.index])}function No(n,r){return n.data[r]}function si(n,r){const s=r[n];return ri(s)?s:s[0]}function ai(n){return 64==(64&n[2])}function vi(n,r){return null==r?null:n[r]}function Zo(n){n[18]=0}function Fo(n,r){n[5]+=r;let s=n,l=n[3];for(;null!==l&&(1===r&&1===s[5]||-1===r&&0===s[5]);)l[5]+=r,s=l,l=l[3]}const Un={lFrame:el(null),bindingsEnabled:!0};function Fs(){return Un.bindingsEnabled}function x(){return Un.lFrame.lView}function c(){return Un.lFrame.tView}function m(n){return Un.lFrame.contextLView=n,n[8]}function f(n){return Un.lFrame.contextLView=null,n}function T(){let n=G();for(;null!==n&&64===n.type;)n=n.parent;return n}function G(){return Un.lFrame.currentTNode}function Lt(n,r){const s=Un.lFrame;s.currentTNode=n,s.isParent=r}function Xt(){return Un.lFrame.isParent}function Tn(){Un.lFrame.isParent=!1}function Or(){const n=Un.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Zi(){return Un.lFrame.bindingIndex++}function Ls(n,r){const s=Un.lFrame;s.bindingIndex=s.bindingRootIndex=n,ls(r)}function ls(n){Un.lFrame.currentDirectiveIndex=n}function Sa(){return Un.lFrame.currentQueryIndex}function $s(n){Un.lFrame.currentQueryIndex=n}function xs(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Ta(n,r,s){if(s&Nt.SkipSelf){let d=r,p=n;for(;!(d=d.parent,null!==d||s&Nt.Host||(d=xs(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;r=d,n=p}const l=Un.lFrame=Aa();return l.currentTNode=r,l.lView=n,!0}function Js(n){const r=Aa(),s=n[1];Un.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Aa(){const n=Un.lFrame,r=null===n?null:n.child;return null===r?el(n):r}function el(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function da(){const n=Un.lFrame;return Un.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const us=da;function za(){const n=da();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function zi(){return Un.lFrame.selectedIndex}function Gi(n){Un.lFrame.selectedIndex=n}function ir(){const n=Un.lFrame;return No(n.tView,n.selectedIndex)}function ta(n,r){for(let s=r.directiveStart,l=r.directiveEnd;s<l;s++){const p=n.data[s].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:S,ngAfterViewInit:O,ngAfterViewChecked:U,ngOnDestroy:J}=p;E&&(n.contentHooks||(n.contentHooks=[])).push(-s,E),S&&((n.contentHooks||(n.contentHooks=[])).push(s,S),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,S)),O&&(n.viewHooks||(n.viewHooks=[])).push(-s,O),U&&((n.viewHooks||(n.viewHooks=[])).push(s,U),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,U)),null!=J&&(n.destroyHooks||(n.destroyHooks=[])).push(s,J)}}function na(n,r,s){P(n,r,3,s)}function M(n,r,s,l){(3&n[2])===s&&P(n,r,s,l)}function H(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function P(n,r,s,l){const p=null!=l?l:-1,E=r.length-1;let S=0;for(let O=void 0!==l?65535&n[18]:0;O<E;O++)if("number"==typeof r[O+1]){if(S=r[O],null!=l&&S>=l)break}else r[O]<0&&(n[18]+=65536),(S<p||-1==p)&&(Z(n,s,r,O),n[18]=(4294901760&n[18])+O+2),O++}function Z(n,r,s,l){const d=s[l]<0,p=s[l+1],S=n[d?-s[l]:s[l]];if(d){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{p.call(S)}finally{}}}else try{p.call(S)}finally{}}class ct{constructor(r,s,l){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function Zt(n,r,s){let l=0;for(;l<s.length;){const d=s[l];if("number"==typeof d){if(0!==d)break;l++;const p=s[l++],E=s[l++],S=s[l++];n.setAttribute(r,E,S,p)}else{const p=d,E=s[++l];To(p)?n.setProperty(r,p,E):n.setAttribute(r,p,E),l++}}return l}function hn(n){return 3===n||4===n||6===n}function To(n){return 64===n.charCodeAt(0)}function Yt(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let l=0;l<r.length;l++){const d=r[l];"number"==typeof d?s=d:0===s||yt(n,s,d,null,-1===s||2===s?r[++l]:null)}}return n}function yt(n,r,s,l,d){let p=0,E=n.length;if(-1===r)E=-1;else for(;p<n.length;){const S=n[p++];if("number"==typeof S){if(S===r){E=-1;break}if(S>r){E=p-1;break}}}for(;p<n.length;){const S=n[p];if("number"==typeof S)break;if(S===s){if(null===l)return void(null!==d&&(n[p+1]=d));if(l===n[p+1])return void(n[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==E&&(n.splice(E,0,r),p=E+1),n.splice(p++,0,s),null!==l&&n.splice(p++,0,l),null!==d&&n.splice(p++,0,d)}function Pt(n){return-1!==n}function Zr(n){return 32767&n}function Qo(n,r){let s=function Vs(n){return n>>16}(n),l=r;for(;s>0;)l=l[15],s--;return l}let Us=!0;function js(n){const r=Us;return Us=n,r}let nl=0;const Ao={};function ms(n,r){const s=Hs(n,r);if(-1!==s)return s;const l=r[1];l.firstCreatePass&&(n.injectorIndex=r.length,jn(l.data,n),jn(r,null),jn(l.blueprint,null));const d=Oa(n,r),p=n.injectorIndex;if(Pt(d)){const E=Zr(d),S=Qo(d,r),O=S[1].data;for(let U=0;U<8;U++)r[p+U]=S[E+U]|O[E+U]}return r[p+8]=d,p}function jn(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Hs(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Oa(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,d=r;for(;null!==d;){if(l=ga(d),null===l)return-1;if(s++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return-1}function Gr(n,r,s){!function cu(n,r,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(sn)&&(l=s[sn]),null==l&&(l=s[sn]=nl++);const d=255&l;r.data[n+(d>>5)]|=1<<d}(n,r,s)}function fa(n,r,s){if(s&Nt.Optional||void 0!==n)return n;we()}function yr(n,r,s,l){if(s&Nt.Optional&&void 0===l&&(l=null),!(s&(Nt.Self|Nt.Host))){const d=n[9],p=gr(void 0);try{return d?d.get(r,l,s&Nt.Optional):Ir(r,l,s&Nt.Optional)}finally{gr(p)}}return fa(l,0,s)}function xl(n,r,s,l=Nt.Default,d){if(null!==n){if(1024&r[2]){const E=function Jo(n,r,s,l,d){let p=n,E=r;for(;null!==p&&null!==E&&1024&E[2]&&!(256&E[2]);){const S=Pr(p,E,s,l|Nt.Self,Ao);if(S!==Ao)return S;let O=p.parent;if(!O){const U=E[21];if(U){const J=U.get(s,Ao,l);if(J!==Ao)return J}O=ga(E),E=E[15]}p=O}return d}(n,r,s,l,Ao);if(E!==Ao)return E}const p=Pr(n,r,s,l,Ao);if(p!==Ao)return p}return yr(r,s,l,d)}function Pr(n,r,s,l,d){const p=function zs(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(sn)?n[sn]:void 0;return"number"==typeof r?r>=0?255&r:Pa:r}(s);if("function"==typeof p){if(!Ta(r,n,l))return l&Nt.Host?fa(d,0,l):yr(r,s,l,d);try{const E=p(l);if(null!=E||l&Nt.Optional)return E;we()}finally{us()}}else if("number"==typeof p){let E=null,S=Hs(n,r),O=-1,U=l&Nt.Host?r[16][6]:null;for((-1===S||l&Nt.SkipSelf)&&(O=-1===S?Oa(n,r):r[S+8],-1!==O&&Xi(l,!1)?(E=r[1],S=Zr(O),r=Qo(O,r)):S=-1);-1!==S;){const J=r[1];if(pa(p,S,J.data)){const ve=tn(S,r,s,E,l,U);if(ve!==Ao)return ve}O=r[S+8],-1!==O&&Xi(l,r[1].data[S+8]===U)&&pa(p,S,r)?(E=J,S=Zr(O),r=Qo(O,r)):S=-1}}return d}function tn(n,r,s,l,d,p){const E=r[1],S=E.data[n+8],J=Rs(S,E,s,null==l?ss(S)&&Us:l!=E&&0!=(3&S.type),d&Nt.Host&&p===S);return null!==J?ei(r,E,J,S):Ao}function Rs(n,r,s,l,d){const p=n.providerIndexes,E=r.data,S=1048575&p,O=n.directiveStart,J=p>>20,tt=d?S+J:n.directiveEnd;for(let mt=l?S:S+J;mt<tt;mt++){const Ft=E[mt];if(mt<O&&s===Ft||mt>=O&&Ft.type===s)return mt}if(d){const mt=E[O];if(mt&&Jr(mt)&&mt.type===s)return O}return null}function ei(n,r,s,l){let d=n[s];const p=r.data;if(function Ct(n){return n instanceof ct}(d)){const E=d;E.resolving&&function We(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new be(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Ye(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ne(n)}(p[s]));const S=js(E.canSeeViewProviders);E.resolving=!0;const O=E.injectImpl?gr(E.injectImpl):null;Ta(n,l,Nt.Default);try{d=n[s]=E.factory(void 0,p,n,l),r.firstCreatePass&&s>=l.directiveStart&&function ea(n,r,s){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=r.type.prototype;if(l){const E=ji(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,E),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,E)}d&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,d),p&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,p),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,p))}(s,p[s],r)}finally{null!==O&&gr(O),js(S),E.resolving=!1,us()}}return d}function pa(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Xi(n,r){return!(n&Nt.Self||n&Nt.Host&&r)}class Gs{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,l){return xl(this._tNode,this._lView,r,un(l),s)}}function Pa(){return new Gs(T(),x())}function rl(n){return he(()=>{const r=n.prototype.constructor,s=r[Mt]||ka(r),l=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==l;){const p=d[Mt]||ka(d);if(p&&p!==s)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function ka(n){return Ce(n)?()=>{const r=ka(fe(n));return r&&r()}:ar(n)}function ga(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function Na(n){return function On(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const l=s.length;let d=0;for(;d<l;){const p=s[d];if(hn(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof s[d];)d++;else{if(p===r)return s[d+1];d+=2}}}return null}(T(),n)}const cs="__parameters__";function po(n,r,s){return he(()=>{const l=function ra(n){return function(...s){if(n){const l=n(...s);for(const d in l)this[d]=l[d]}}}(r);function d(...p){if(this instanceof d)return l.apply(this,p),this;const E=new d(...p);return S.annotation=E,S;function S(O,U,J){const ve=O.hasOwnProperty(cs)?O[cs]:Object.defineProperty(O,cs,{value:[]})[cs];for(;ve.length<=J;)ve.push(null);return(ve[J]=ve[J]||[]).push(E),O}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class br{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=bt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _s(n,r){n.forEach(s=>Array.isArray(s)?_s(s,r):r(s))}function _i(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function va(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function oo(n,r){const s=[];for(let l=0;l<n;l++)s.push(r);return s}function I(n,r,s){let l=_(n,r);return l>=0?n[1|l]=s:(l=~l,function Ol(n,r,s,l){let d=n.length;if(d==r)n.push(s,l);else if(1===d)n.push(l,n[0]),n[0]=s;else{for(d--,n.push(n[d-1],n[d]);d>r;)n[d]=n[d-2],d--;n[r]=s,n[r+1]=l}}(n,l,r,s)),l}function D(n,r){const s=_(n,r);if(s>=0)return n[1|s]}function _(n,r){return function L(n,r,s){let l=0,d=n.length>>s;for(;d!==l;){const p=l+(d-l>>1),E=n[p<<s];if(r===E)return p<<s;E>r?d=p:l=p+1}return~(d<<s)}(n,r,1)}const gi=Rn(po("Optional"),8),R=Rn(po("SkipSelf"),4);var is=(()=>((is=is||{})[is.Important=1]="Important",is[is.DashCase=2]="DashCase",is))();const Qu=new Map;let ia=0;const _u="__ngContext__";function go(n,r){ri(r)?(n[_u]=r[20],function ll(n){Qu.set(n[20],n)}(r)):n[_u]=r}function Vt(n,r){return undefined(n,r)}function Mn(n){const r=n[3];return ii(r)?r[3]:r}function Ro(n){return Ia(n[13])}function oa(n){return Ia(n[4])}function Ia(n){for(;null!==n&&!ii(n);)n=n[4];return n}function Ya(n,r,s,l,d){if(null!=l){let p,E=!1;ii(l)?p=l:ri(l)&&(E=!0,l=l[0]);const S=Ur(l);0===n&&null!==s?null==d?Ag(r,s,S):dl(r,s,S,d||null,!0):1===n&&null!==s?dl(r,s,S,d||null,!0):2===n?function Of(n,r,s){const l=Vc(n,r);l&&function Wr(n,r,s,l){n.removeChild(r,s,l)}(n,l,r,s)}(r,S,E):3===n&&r.destroyNode(S),null!=p&&function Hc(n,r,s,l,d){const p=s[7];p!==Ur(s)&&Ya(r,n,l,p,d);for(let S=10;S<s.length;S++){const O=s[S];jc(O[1],O,n,r,l,p)}}(r,n,p,s,d)}}function Du(n,r,s){return n.createElement(r,s)}function zd(n,r){const s=n[9],l=s.indexOf(r),d=r[3];512&r[2]&&(r[2]&=-513,Fo(d,-1)),s.splice(l,1)}function Gd(n,r){if(n.length<=10)return;const s=10+r,l=n[s];if(l){const d=l[17];null!==d&&d!==n&&zd(d,l),r>0&&(n[s-1][4]=l[4]);const p=va(n,10+r);!function Ci(n,r){jc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(l[1],l);const E=p[19];null!==E&&E.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function wu(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&jc(n,r,s,3,null,null),function Bc(n){let r=n[13];if(!r)return Ba(n[1],n);for(;r;){let s=null;if(ri(r))s=r[13];else{const l=r[10];l&&(s=l)}if(!s){for(;r&&!r[4]&&r!==n;)ri(r)&&Ba(r[1],r),r=r[3];null===r&&(r=n),ri(r)&&Ba(r[1],r),s=r&&r[4]}r=s}}(r)}}function Ba(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Tg(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const d=r[s[l]];if(!(d instanceof ct)){const p=s[l+1];if(Array.isArray(p))for(let E=0;E<p.length;E+=2){const S=d[p[E]],O=p[E+1];try{O.call(S)}finally{}}else try{p.call(d)}finally{}}}}(n,r),function Sg(n,r){const s=n.cleanup,l=r[7];let d=-1;if(null!==s)for(let p=0;p<s.length-1;p+=2)if("string"==typeof s[p]){const E=s[p+3];E>=0?l[d=E]():l[d=-E].unsubscribe(),p+=2}else{const E=l[d=s[p+1]];s[p].call(E)}if(null!==l){for(let p=d+1;p<l.length;p++)(0,l[p])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&ii(r[3])){s!==r[3]&&zd(s,r);const l=r[19];null!==l&&l.detachView(n)}!function vu(n){Qu.delete(n[20])}(r)}}function Af(n,r,s){return function Cu(n,r,s){let l=r;for(;null!==l&&40&l.type;)l=(r=l).parent;if(null===l)return s[0];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:p}=n.data[l.directiveStart+d];if(p===Tt.None||p===Tt.Emulated)return null}return di(l,s)}}(n,r.parent,s)}function dl(n,r,s,l,d){n.insertBefore(r,s,l,d)}function Ag(n,r,s){n.appendChild(r,s)}function mo(n,r,s,l,d){null!==l?dl(n,r,s,l,d):Ag(n,r,s)}function Vc(n,r){return n.parentNode(r)}function Mg(n,r,s){return Mf(n,r,s)}let Bl,qi,Mf=function Ps(n,r,s){return 40&n.type?di(n,s):null};function sa(n,r,s,l){const d=Af(n,l,r),p=r[11],S=Mg(l.parent||r[6],l,r);if(null!=d)if(Array.isArray(s))for(let O=0;O<s.length;O++)mo(p,d,s[O],S,!1);else mo(p,d,s,S,!1)}function Uc(n,r){if(null!==r){const s=r.type;if(3&s)return di(r,n);if(4&s)return Rf(-1,n[r.index]);if(8&s){const l=r.child;if(null!==l)return Uc(n,l);{const d=n[r.index];return ii(d)?Rf(-1,d):Ur(d)}}if(32&s)return Vt(r,n)()||Ur(n[r.index]);{const l=ec(n,r);return null!==l?Array.isArray(l)?l[0]:Uc(Mn(n[16]),l):Uc(n,r.next)}}return null}function ec(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Rf(n,r){const s=10+n+1;if(s<r.length){const l=r[s],d=l[1].firstChild;if(null!==d)return Uc(l,d)}return r[7]}function vr(n,r,s,l,d,p,E){for(;null!=s;){const S=l[s.index],O=s.type;if(E&&0===r&&(S&&go(Ur(S),l),s.flags|=2),32!=(32&s.flags))if(8&O)vr(n,r,s.child,l,d,p,!1),Ya(r,n,d,S,p);else if(32&O){const U=Vt(s,l);let J;for(;J=U();)Ya(r,n,d,J,p);Ya(r,n,d,S,p)}else 16&O?tc(n,r,l,s,d,p):Ya(r,n,d,S,p);s=E?s.projectionNext:s.next}}function jc(n,r,s,l,d,p){vr(s,l,n.firstChild,r,d,p,!1)}function tc(n,r,s,l,d,p){const E=s[16],O=E[6].projection[l.projection];if(Array.isArray(O))for(let U=0;U<O.length;U++)Ya(r,n,d,O[U],p);else vr(n,r,O,E[3],d,p,!0)}function Pf(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function kf(n,r,s){const{mergedAttrs:l,classes:d,styles:p}=s;null!==l&&Zt(n,r,l),null!==d&&Pf(n,r,d),null!==p&&function xg(n,r,s){n.setAttribute(r,"style",s)}(n,r,p)}function Rg(n){Bl=n}function Va(n){var r;return(null===(r=function zc(){if(void 0===qi&&(qi=null,ln.trustedTypes))try{qi=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return qi}())||void 0===r?void 0:r.createScriptURL(n))||n}class Zd{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dt})`}}function Vl(n){return n instanceof Zd?n.changingThisBreaksApplicationSecurity:n}function Wc(n,r){const s=function qc(n){return n instanceof Zd&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${dt})`)}return s===r}const ov=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Oo=(()=>((Oo=Oo||{})[Oo.NONE=0]="NONE",Oo[Oo.HTML=1]="HTML",Oo[Oo.STYLE=2]="STYLE",Oo[Oo.SCRIPT=3]="SCRIPT",Oo[Oo.URL=4]="URL",Oo[Oo.RESOURCE_URL=5]="RESOURCE_URL",Oo))();function zg(n){const r=Tu();return r?r.sanitize(Oo.URL,n)||"":Wc(n,"URL")?Vl(n):function Ul(n){return(n=String(n)).match(ov)?n:"unsafe:"+n}(ne(n))}function $f(n){const r=Tu();if(r)return Va(r.sanitize(Oo.RESOURCE_URL,n)||"");if(Wc(n,"ResourceURL"))return Va(Vl(n));throw new be(904,!1)}function Jd(n,r,s){return function yv(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?$f:zg}(r,s)(n)}function Tu(){const n=x();return n&&n[12]}const Yc=new br("ENVIRONMENT_INITIALIZER"),fl=new br("INJECTOR",-1),Bf=new br("INJECTOR_DEF_TYPES");class Yg{get(r,s=rn){if(s===rn){const l=new Error(`NullInjectorError: No provider for ${Ie(r)}!`);throw l.name="NullInjectorError",l}return s}}function eh(...n){return{\u0275providers:jl(0,n),\u0275fromNgModule:!0}}function jl(n,...r){const s=[],l=new Set;let d;return _s(r,p=>{const E=p;pl(E,s,[],l)&&(d||(d=[]),d.push(E))}),void 0!==d&&Hl(d,s),s}function Hl(n,r){for(let s=0;s<n.length;s++){const{providers:d}=n[s];nh(d,p=>{r.push(p)})}}function pl(n,r,s,l){if(!(n=fe(n)))return!1;let d=null,p=Fn(n);const E=!p&&Nn(n);if(p||E){if(E&&!E.standalone)return!1;d=n}else{const O=n.ngModule;if(p=Fn(O),!p)return!1;d=O}const S=l.has(d);if(E){if(S)return!1;if(l.add(d),E.dependencies){const O="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const U of O)pl(U,r,s,l)}}else{if(!p)return!1;{if(null!=p.imports&&!S){let U;l.add(d);try{_s(p.imports,J=>{pl(J,r,s,l)&&(U||(U=[]),U.push(J))})}finally{}void 0!==U&&Hl(U,r)}if(!S){const U=ar(d)||(()=>new d);r.push({provide:d,useFactory:U,deps:Oe},{provide:Bf,useValue:d,multi:!0},{provide:Yc,useValue:()=>xt(d),multi:!0})}const O=p.providers;null==O||S||nh(O,J=>{r.push(J)})}}return d!==n&&void 0!==n.providers}function nh(n,r){for(let s of n)Fe(s)&&(s=s.\u0275providers),Array.isArray(s)?nh(s,r):r(s)}const Vf=ye({provide:String,useValue:ye});function Kc(n){return null!==n&&"object"==typeof n&&Vf in n}function Au(n){return"function"==typeof n}const rh=new br("Set Injector scope."),Mu={},Zc={};let gl;function ih(){return void 0===gl&&(gl=new Yg),gl}class zl{}class Zg extends zl{get destroyed(){return this._destroyed}constructor(r,s,l,d){super(),this.parent=s,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zf(r,E=>this.processProvider(E)),this.records.set(fl,aa(void 0,this)),d.has("environment")&&this.records.set(zl,aa(void 0,this));const p=this.records.get(rh);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Bf.multi,Oe,Nt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=In(this),l=gr(void 0);try{return r()}finally{In(s),gr(l)}}get(r,s=rn,l=Nt.Default){this.assertNotDestroyed(),l=un(l);const d=In(this),p=gr(void 0);try{if(!(l&Nt.SkipSelf)){let S=this.records.get(r);if(void 0===S){const O=function Qg(n){return"function"==typeof n||"object"==typeof n&&n instanceof br}(r)&&wt(r);S=O&&this.injectableDefInScope(O)?aa(Hf(r),Mu):null,this.records.set(r,S)}if(null!=S)return this.hydrate(r,S)}return(l&Nt.Self?ih():this.parent).get(r,s=l&Nt.Optional&&s===rn?null:s)}catch(E){if("NullInjectorError"===E.name){if((E[Rt]=E[Rt]||[]).unshift(Ie(r)),d)throw E;return function _e(n,r,s,l){const d=n[Rt];throw r[Fr]&&d.unshift(r[Fr]),n.message=function $e(n,r,s,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let d=Ie(r);if(Array.isArray(r))d=r.map(Ie).join(" -> ");else if("object"==typeof r){let p=[];for(let E in r)if(r.hasOwnProperty(E)){let S=r[E];p.push(E+":"+("string"==typeof S?JSON.stringify(S):Ie(S)))}d=`{${p.join(", ")}}`}return`${s}${l?"("+l+")":""}[${d}]: ${n.replace(Rr,"\n  ")}`}("\n"+n.message,d,s,l),n.ngTokenPath=d,n[Rt]=null,n}(E,r,"R3InjectorError",this.source)}throw E}finally{gr(p),In(d)}}resolveInjectorInitializers(){const r=In(this),s=gr(void 0);try{const l=this.get(Yc.multi,Oe,Nt.Self);for(const d of l)d()}finally{In(r),gr(s)}}toString(){const r=[],s=this.records;for(const l of s.keys())r.push(Ie(l));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(r){let s=Au(r=fe(r))?r:fe(r&&r.provide);const l=function Xc(n){return Kc(n)?aa(void 0,n.useValue):aa(Gl(n),Mu)}(r);if(Au(r)||!0!==r.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=aa(void 0,Mu,!0),d.factory=()=>dn(d.multi),this.records.set(s,d)),s=r,d.multi.push(r)}this.records.set(s,l)}hydrate(r,s){return s.value===Mu&&(s.value=Zc,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Ev(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=fe(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Hf(n){const r=wt(n),s=null!==r?r.factory:ar(n);if(null!==s)return s;if(n instanceof br)throw new be(204,!1);if(n instanceof Function)return function _v(n){const r=n.length;if(r>0)throw oo(r,"?"),new be(204,!1);const s=function Sn(n){const r=n&&(n[Jn]||n[Ln]);if(r){const s=function Ht(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new be(204,!1)}function Gl(n,r,s){let l;if(Au(n)){const d=fe(n);return ar(d)||Hf(d)}if(Kc(n))l=()=>fe(n.useValue);else if(function jf(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...dn(n.deps||[]));else if(function Uf(n){return!(!n||!n.useExisting)}(n))l=()=>xt(fe(n.useExisting));else{const d=fe(n&&(n.useClass||n.provide));if(!function Xg(n){return!!n.deps}(n))return ar(d)||Hf(d);l=()=>new d(...dn(n.deps))}return l}function aa(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function zf(n,r){for(const s of n)Array.isArray(s)?zf(s,r):s&&Fe(s)?zf(s.\u0275providers,r):r(s)}class Gf{}class oh{}class tm{resolveComponentFactory(r){throw function Jg(n){const r=Error(`No component factory found for ${Ie(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Wl=(()=>{class n{}return n.NULL=new tm,n})();function Iv(){return ql(T(),x())}function ql(n,r){return new Yl(di(n,r))}let Yl=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Iv,n})();function Dv(n){return n instanceof Yl?n.nativeElement:n}class Wf{}let Qc=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function ah(){const n=x(),s=si(T().index,n);return(ri(s)?s:n)[11]}(),n})(),Jc=(()=>{class n{}return n.\u0275prov=bt({token:n,providedIn:"root",factory:()=>null}),n})();class qf{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Yf=new qf("15.1.5"),bs={};function oc(n){return n.ngOriginalError}class sc{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&oc(r);for(;s&&oc(s);)s=oc(s);return s||null}}function Ka(n){return n instanceof Function?n():n}function im(n,r,s){let l=n.length;for(;;){const d=n.indexOf(r,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const p=r.length;if(d+p===l||n.charCodeAt(d+p)<=32)return d}s=d+1}}const Kf="ng-template";function Tv(n,r,s){let l=0;for(;l<n.length;){let d=n[l++];if(s&&"class"===d){if(d=n[l],-1!==im(d.toLowerCase(),r,0))return!0}else if(1===d){for(;l<n.length&&"string"==typeof(d=n[l++]);)if(d.toLowerCase()===r)return!0;return!1}}return!1}function Zf(n){return 4===n.type&&n.value!==Kf}function Ru(n,r,s){return r===(4!==n.type||s?n.value:Kf)}function td(n,r,s){let l=4;const d=n.attrs||[],p=function Av(n){for(let r=0;r<n.length;r++)if(hn(n[r]))return r;return n.length}(d);let E=!1;for(let S=0;S<r.length;S++){const O=r[S];if("number"!=typeof O){if(!E)if(4&l){if(l=2|1&l,""!==O&&!Ru(n,O,s)||""===O&&1===r.length){if(Da(l))return!1;E=!0}}else{const U=8&l?O:r[++S];if(8&l&&null!==n.attrs){if(!Tv(n.attrs,U,s)){if(Da(l))return!1;E=!0}continue}const ve=om(8&l?"class":O,d,Zf(n),s);if(-1===ve){if(Da(l))return!1;E=!0;continue}if(""!==U){let tt;tt=ve>p?"":d[ve+1].toLowerCase();const mt=8&l?tt:null;if(mt&&-1!==im(mt,U,0)||2&l&&U!==tt){if(Da(l))return!1;E=!0}}}}else{if(!E&&!Da(l)&&!Da(O))return!1;if(E&&Da(O))continue;E=!1,l=O|1&l}}return Da(l)||E}function Da(n){return 0==(1&n)}function om(n,r,s,l){if(null===r)return-1;let d=0;if(l||!s){let p=!1;for(;d<r.length;){const E=r[d];if(E===n)return d;if(3===E||6===E)p=!0;else{if(1===E||2===E){let S=r[++d];for(;"string"==typeof S;)S=r[++d];continue}if(4===E)break;if(0===E){d+=4;continue}}d+=p?1:2}return-1}return function Mv(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===r)return s;s++}return-1}(r,n)}function sm(n,r,s=!1){for(let l=0;l<r.length;l++)if(td(n,r[l],s))return!0;return!1}function Xf(n,r){e:for(let s=0;s<r.length;s++){const l=r[s];if(n.length===l.length){for(let d=0;d<n.length;d++)if(n[d]!==l[d])continue e;return!0}}return!1}function Ho(n,r){return n?":not("+r.trim()+")":r}function xv(n){let r=n[0],s=1,l=2,d="",p=!1;for(;s<n.length;){let E=n[s];if("string"==typeof E)if(2&l){const S=n[++s];d+="["+E+(S.length>0?'="'+S+'"':"")+"]"}else 8&l?d+="."+E:4&l&&(d+=" "+E);else""!==d&&!Da(E)&&(r+=Ho(p,d),d=""),l=E,p=p||!Da(l);s++}return""!==d&&(r+=Ho(p,d)),r}const _r={};function Qf(n){lm(c(),x(),zi()+n,!1)}function lm(n,r,s,l){if(!l)if(3==(3&r[2])){const p=n.preOrderCheckHooks;null!==p&&na(r,p,s)}else{const p=n.preOrderHooks;null!==p&&M(r,p,0,s)}Gi(s)}function tp(n,r=null,s=null,l){const d=dm(n,r,s,l);return d.resolveInjectorInitializers(),d}function dm(n,r=null,s=null,l,d=new Set){const p=[s||Oe,eh(n)];return l=l||("object"==typeof n?void 0:Ie(n)),new Zg(p,r||ih(),l||null,d)}let Zl=(()=>{class n{static create(s,l){if(Array.isArray(s))return tp({name:""},l,s,"");{var d;const p=null!==(d=s.name)&&void 0!==d?d:"";return tp({name:p},s.parent,s.providers,p)}}}return n.THROW_IF_NOT_FOUND=rn,n.NULL=new Yg,n.\u0275prov=bt({token:n,providedIn:"any",factory:()=>xt(fl)}),n.__NG_ELEMENT_ID__=-1,n})();function hc(n,r=Nt.Default){const s=x();return null===s?xt(n,r):xl(T(),s,fe(n),r)}function Em(){throw new Error("invalid")}function od(n,r){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const p=s[l+1];if(-1!==p){const E=n.data[p];$s(s[l]),E.contentQueries(2,r[p],p)}}}function ad(n,r,s,l,d,p,E,S,O,U,J){const ve=r.blueprint.slice();return ve[0]=d,ve[2]=76|l,(null!==J||n&&1024&n[2])&&(ve[2]|=1024),Zo(ve),ve[3]=ve[15]=n,ve[8]=s,ve[10]=E||n&&n[10],ve[11]=S||n&&n[11],ve[12]=O||n&&n[12]||null,ve[9]=U||n&&n[9]||null,ve[6]=p,ve[20]=function jd(){return ia++}(),ve[21]=J,ve[16]=2==r.type?n[16]:ve,ve}function fc(n,r,s,l,d){let p=n.data[r];if(null===p)p=function up(n,r,s,l,d){const p=G(),E=Xt(),O=n.data[r]=function bm(n,r,s,l,d,p){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?p:p&&p.parent,s,r,l,d);return null===n.firstChild&&(n.firstChild=O),null!==p&&(E?null==p.child&&null!==O.parent&&(p.child=O):null===p.next&&(p.next=O)),O}(n,r,s,l,d),function Qs(){return Un.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=s,p.value=l,p.attrs=d;const E=function ot(){const n=Un.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();p.injectorIndex=null===E?-1:E.injectorIndex}return Lt(p,!0),p}function ld(n,r,s,l){if(0===s)return-1;const d=r.length;for(let p=0;p<s;p++)r.push(l),n.blueprint.push(l),n.data.push(null);return d}function cp(n,r,s){Js(r);try{const l=n.viewQuery;null!==l&&Jl(1,l,s);const d=n.template;null!==d&&Dm(n,r,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&od(n,r),n.staticViewQueries&&Jl(2,n.viewQuery,s);const p=n.components;null!==p&&function lp(n,r){for(let s=0;s<r.length;s++)gc(n,r[s])}(r,p)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{r[2]&=-5,za()}}function pc(n,r,s,l){const d=r[2];if(128!=(128&d)){Js(r);try{Zo(r),function hi(n){return Un.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Dm(n,r,s,2,l);const E=3==(3&d);if(E){const U=n.preOrderCheckHooks;null!==U&&na(r,U,null)}else{const U=n.preOrderHooks;null!==U&&M(r,U,0,null),H(r,0)}if(function _p(n){for(let r=Ro(n);null!==r;r=oa(r)){if(!r[2])continue;const s=r[9];for(let l=0;l<s.length;l++){const d=s[l];512&d[2]||Fo(d[3],1),d[2]|=512}}}(r),function Mm(n){for(let r=Ro(n);null!==r;r=oa(r))for(let s=10;s<r.length;s++){const l=r[s],d=l[1];ai(l)&&pc(d,l,d.template,l[8])}}(r),null!==n.contentQueries&&od(n,r),E){const U=n.contentCheckHooks;null!==U&&na(r,U)}else{const U=n.contentHooks;null!==U&&M(r,U,1),H(r,1)}!function Im(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const d=s[l];if(d<0)Gi(~d);else{const p=d,E=s[++l],S=s[++l];Ls(E,p),S(2,r[p])}}}finally{Gi(-1)}}(n,r);const S=n.components;null!==S&&function sd(n,r){for(let s=0;s<r.length;s++)Ep(n,r[s])}(r,S);const O=n.viewQuery;if(null!==O&&Jl(2,O,l),E){const U=n.viewCheckHooks;null!==U&&na(r,U)}else{const U=n.viewHooks;null!==U&&M(r,U,2),H(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Fo(r[3],-1))}finally{za()}}}function Dm(n,r,s,l,d){const p=zi(),E=2&l;try{Gi(-1),E&&r.length>22&&lm(n,r,22,!1),s(l,d)}finally{Gi(p)}}function dp(n,r,s){if(Vi(r)){const d=r.directiveEnd;for(let p=r.directiveStart;p<d;p++){const E=n.data[p];E.contentQueries&&E.contentQueries(1,s[p],p)}}}function ku(n,r,s){Fs()&&(function Sm(n,r,s,l){const d=s.directiveStart,p=s.directiveEnd;ss(s)&&function Bv(n,r,s){const l=di(r,n),d=Nu(s),p=n[10],E=mc(n,ad(n,d,null,s.onPush?32:16,l,r,p,p.createRenderer(l,s),null,null,null));n[r.index]=E}(r,s,n.data[d+s.componentOffset]),n.firstCreatePass||ms(s,r),go(l,r);const E=s.initialInputs;for(let S=d;S<p;S++){const O=n.data[S],U=ei(r,n,S,s);go(U,r),null!==E&&vp(0,S-d,U,O,0,E),Jr(O)&&(si(s.index,r)[8]=ei(r,n,S,s))}}(n,r,s,di(s,r)),64==(64&s.flags)&&Fu(n,r,s))}function ud(n,r,s=di){const l=r.localNames;if(null!==l){let d=r.index+1;for(let p=0;p<l.length;p+=2){const E=l[p+1],S=-1===E?s(r,n):n[E];n[d++]=S}}}function Nu(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=cd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function cd(n,r,s,l,d,p,E,S,O,U){const J=22+l,ve=J+d,tt=function vh(n,r){const s=[];for(let l=0;l<r;l++)s.push(l<n?null:_r);return s}(J,ve),mt="function"==typeof U?U():U;return tt[1]={type:n,blueprint:tt,template:s,queries:null,viewQuery:S,declTNode:r,data:tt.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:O,consts:mt,incompleteFirstPass:!1}}function _h(n,r,s,l){const d=xm(r);null===s?d.push(l):(d.push(s),n.firstCreatePass&&Sh(n).push(l,d.length-1))}function Eh(n,r,s,l){for(let d in n)if(n.hasOwnProperty(d)){s=null===s?{}:s;const p=n[d];null===l?Ih(s,r,d,p):l.hasOwnProperty(d)&&Ih(s,r,l[d],p)}return s}function Ih(n,r,s,l){n.hasOwnProperty(s)?n[s].push(r,l):n[s]=[r,l]}function Dh(n,r){const s=si(r,n);16&s[2]||(s[2]|=32)}function hp(n,r,s,l){let d=!1;if(Fs()){const p=null===l?null:{"":-1},E=function Lv(n,r){const s=n.directiveRegistry;let l=null,d=null;if(s)for(let E=0;E<s.length;E++){const S=s[E];if(sm(r,S.selectors,!1))if(l||(l=[]),Jr(S))if(null!==S.findHostDirectiveDefs){const O=[];d=d||new Map,S.findHostDirectiveDefs(S,O,d),l.unshift(...O,S),gp(n,r,O.length)}else l.unshift(S),gp(n,r,0);else{var p;d=d||new Map,null===(p=S.findHostDirectiveDefs)||void 0===p||p.call(S,S,l,d),l.push(S)}}return null===l?null:[l,d]}(n,s);let S,O;null===E?S=O=null:[S,O]=E,null!==S&&(d=!0,bh(n,r,s,S,p,O)),p&&function Tm(n,r,s){if(r){const l=n.localNames=[];for(let d=0;d<r.length;d+=2){const p=s[r[d+1]];if(null==p)throw new be(-301,!1);l.push(r[d],p)}}}(s,l,p)}return s.mergedAttrs=Yt(s.mergedAttrs,s.attrs),d}function bh(n,r,s,l,d,p){for(let U=0;U<l.length;U++)Gr(ms(s,r),n,l[U].type);!function $v(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}(s,n.data.length,l.length);for(let U=0;U<l.length;U++){const J=l[U];J.providersResolver&&J.providersResolver(J)}let E=!1,S=!1,O=ld(n,r,l.length,null);for(let U=0;U<l.length;U++){const J=l[U];s.mergedAttrs=Yt(s.mergedAttrs,J.hostAttrs),mp(n,s,r,O,J),Am(O,J,d),null!==J.contentQueries&&(s.flags|=4),(null!==J.hostBindings||null!==J.hostAttrs||0!==J.hostVars)&&(s.flags|=64);const ve=J.type.prototype;!E&&(ve.ngOnChanges||ve.ngOnInit||ve.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),E=!0),!S&&(ve.ngOnChanges||ve.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),S=!0),O++}!function ml(n,r,s){const d=r.directiveEnd,p=n.data,E=r.attrs,S=[];let O=null,U=null;for(let J=r.directiveStart;J<d;J++){const ve=p[J],tt=s?s.get(ve):null,Ft=tt?tt.outputs:null;O=Eh(ve.inputs,J,O,tt?tt.inputs:null),U=Eh(ve.outputs,J,U,Ft);const Kt=null===O||null===E||Zf(r)?null:Vv(O,J,E);S.push(Kt)}null!==O&&(O.hasOwnProperty("class")&&(r.flags|=8),O.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=S,r.inputs=O,r.outputs=U}(n,s,p)}function Fu(n,r,s){const l=s.directiveStart,d=s.directiveEnd,p=s.index,E=function Ha(){return Un.lFrame.currentDirectiveIndex}();try{Gi(p);for(let S=l;S<d;S++){const O=n.data[S],U=r[S];ls(S),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&pp(O,U)}}finally{Gi(-1),ls(E)}}function pp(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function gp(n,r,s){r.componentOffset=s,(n.components||(n.components=[])).push(r.index)}function Am(n,r,s){if(s){if(r.exportAs)for(let l=0;l<r.exportAs.length;l++)s[r.exportAs[l]]=n;Jr(r)&&(s[""]=n)}}function mp(n,r,s,l,d){n.data[l]=d;const p=d.factory||(d.factory=ar(d.type)),E=new ct(p,Jr(d),hc);n.blueprint[l]=E,s[l]=E,function wh(n,r,s,l,d){const p=d.hostBindings;if(p){let E=n.hostBindingOpCodes;null===E&&(E=n.hostBindingOpCodes=[]);const S=~r.index;(function fp(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(E)!=S&&E.push(S),E.push(s,l,p)}}(n,r,l,ld(n,s,d.hostVars,_r),d)}function ba(n,r,s,l,d,p){const E=di(n,r);!function yp(n,r,s,l,d,p,E){if(null==p)n.removeAttribute(r,d,s);else{const S=null==E?ne(p):E(p,l||"",d);n.setAttribute(r,d,S,s)}}(r[11],E,p,n.value,s,l,d)}function vp(n,r,s,l,d,p){const E=p[r];if(null!==E){const S=l.setInput;for(let O=0;O<E.length;){const U=E[O++],J=E[O++],ve=E[O++];null!==S?l.setInput(s,ve,U,J):s[J]=ve}}}function Vv(n,r,s){let l=null,d=0;for(;d<s.length;){const p=s[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(n.hasOwnProperty(p)){null===l&&(l=[]);const E=n[p];for(let S=0;S<E.length;S+=2)if(E[S]===r){l.push(p,E[S+1],s[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function Ch(n,r,s,l){return[n,!0,!1,r,null,0,l,s,null,null]}function Ep(n,r){const s=si(r,n);if(ai(s)){const l=s[1];48&s[2]?pc(l,s,l.template,s[8]):s[5]>0&&hd(s)}}function hd(n){for(let l=Ro(n);null!==l;l=oa(l))for(let d=10;d<l.length;d++){const p=l[d];if(ai(p))if(512&p[2]){const E=p[1];pc(E,p,E.template,p[8])}else p[5]>0&&hd(p)}const s=n[1].components;if(null!==s)for(let l=0;l<s.length;l++){const d=si(s[l],n);ai(d)&&d[5]>0&&hd(d)}}function gc(n,r){const s=si(r,n),l=s[1];(function Xl(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(l,s),cp(l,s,s[8])}function mc(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Ql(n){for(;n;){n[2]|=32;const r=Mn(n);if(Ss(n)&&!r)return n;n=r}return null}function yl(n,r,s,l=!0){const d=r[10];d.begin&&d.begin();try{pc(n,r,n.template,s)}catch(E){throw l&&Ah(r,E),E}finally{d.end&&d.end()}}function Jl(n,r,s){$s(0),r(n,s)}function xm(n){return n[7]||(n[7]=[])}function Sh(n){return n.cleanup||(n.cleanup=[])}function Ah(n,r){const s=n[9],l=s?s.get(sc,null):null;l&&l.handleError(r)}function fd(n,r,s,l,d){for(let p=0;p<s.length;){const E=s[p++],S=s[p++],O=r[E],U=n.data[E];null!==U.setInput?U.setInput(O,d,l,S):O[S]=d}}function Mh(n,r,s){let l=s?n.styles:null,d=s?n.classes:null,p=0;if(null!==r)for(let E=0;E<r.length;E++){const S=r[E];"number"==typeof S?p=S:1==p?d=Le(d,S):2==p&&(l=Le(l,S+": "+r[++E]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=d:n.classesWithoutHost=d}function yc(n,r,s,l,d=!1){for(;null!==s;){const p=r[s.index];if(null!==p&&l.push(Ur(p)),ii(p))for(let S=10;S<p.length;S++){const O=p[S],U=O[1].firstChild;null!==U&&yc(O[1],O,U,l)}const E=s.type;if(8&E)yc(n,r,s.child,l);else if(32&E){const S=Vt(s,r);let O;for(;O=S();)l.push(O)}else if(16&E){const S=ec(r,s);if(Array.isArray(S))l.push(...S);else{const O=Mn(r[16]);yc(O[1],O,S,l,!0)}}s=d?s.projectionNext:s.next}return l}class Lu{get rootNodes(){const r=this._lView,s=r[1];return yc(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(ii(r)){const s=r[8],l=s?s.indexOf(this):-1;l>-1&&(Gd(r,l),va(s,l))}this._attachedToViewContainer=!1}wu(this._lView[1],this._lView)}onDestroy(r){_h(this._lView[1],this._lView,null,r)}markForCheck(){Ql(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){yl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Fl(n,r){jc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=r}}class jv extends Lu{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;yl(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class Ip extends Wl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Nn(r);return new vc(s,this.ngModule)}}function Rm(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Pm{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,l){l=un(l);const d=this.injector.get(r,bs,l);return d!==bs||s===bs?d:this.parentInjector.get(r,s,l)}}class vc extends oh{get inputs(){return Rm(this.componentDef.inputs)}get outputs(){return Rm(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Rv(n){return n.map(xv).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,l,d){var p;let E=(d=d||this.ngModule)instanceof zl?d:null===(p=d)||void 0===p?void 0:p.injector;E&&null!==this.componentDef.getStandaloneInjector&&(E=this.componentDef.getStandaloneInjector(E)||E);const S=E?new Pm(r,E):r,O=S.get(Wf,null);if(null===O)throw new be(407,!1);const U=S.get(Jc,null),J=O.createRenderer(null,this.componentDef),ve=this.componentDef.selectors[0][0]||"div",tt=l?function dd(n,r,s){return n.selectRootElement(r,s===Tt.ShadowDom)}(J,l,this.componentDef.encapsulation):Du(J,ve,function Om(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ve)),mt=this.componentDef.onPush?288:272,Ft=cd(0,null,null,1,0,null,null,null,null,null),Kt=ad(null,Ft,null,mt,null,null,O,J,U,S,null);let En,Bn;Js(Kt);try{const Qn=this.componentDef;let jt,pr=null;Qn.findHostDirectiveDefs?(jt=[],pr=new Map,Qn.findHostDirectiveDefs(Qn,jt,pr),jt.push(Qn)):jt=[Qn];const Bi=function Hv(n,r){const s=n[1];return n[22]=r,fc(s,22,2,"#host",null)}(Kt,tt),vo=function zv(n,r,s,l,d,p,E,S){const O=d[1];!function Gv(n,r,s,l){for(const d of n)r.mergedAttrs=Yt(r.mergedAttrs,d.hostAttrs);null!==r.mergedAttrs&&(Mh(r,r.mergedAttrs,!0),null!==s&&kf(l,s,r))}(l,n,r,E);const U=p.createRenderer(r,s),J=ad(d,Nu(s),null,s.onPush?32:16,d[n.index],n,p,U,S||null,null,null);return O.firstCreatePass&&gp(O,n,l.length-1),mc(d,J),d[n.index]=J}(Bi,tt,Qn,jt,Kt,O,J);Bn=No(Ft,22),tt&&function bp(n,r,s,l){if(l)Zt(n,s,["ng-version",Yf.full]);else{const{attrs:d,classes:p}=function Ov(n){const r=[],s=[];let l=1,d=2;for(;l<n.length;){let p=n[l];if("string"==typeof p)2===d?""!==p&&r.push(p,n[++l]):8===d&&s.push(p);else{if(!Da(d))break;d=p}l++}return{attrs:r,classes:s}}(r.selectors[0]);d&&Zt(n,s,d),p&&p.length>0&&Pf(n,s,p.join(" "))}}(J,Qn,tt,l),void 0!==s&&function wp(n,r,s){const l=n.projection=[];for(let d=0;d<r.length;d++){const p=s[d];l.push(null!=p?Array.from(p):null)}}(Bn,this.ngContentSelectors,s),En=function Dp(n,r,s,l,d,p){const E=T(),S=d[1],O=di(E,d);bh(S,d,E,s,null,l);for(let J=0;J<s.length;J++)go(ei(d,S,E.directiveStart+J,E),d);Fu(S,d,E),O&&go(O,d);const U=ei(d,S,E.directiveStart+E.componentOffset,E);if(n[8]=d[8]=U,null!==p)for(const J of p)J(U,r);return dp(S,E,n),U}(vo,Qn,jt,pr,Kt,[Wv]),cp(Ft,Kt,null)}finally{za()}return new km(this.componentType,En,ql(Bn,Kt),Kt,Bn)}}class km extends Gf{constructor(r,s,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.instance=s,this.hostView=this.changeDetectorRef=new jv(d),this.componentType=r}setInput(r,s){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[r])){const p=this._rootLView;fd(p[1],p,d,r,s),Dh(p,this._tNode.index)}}get injector(){return new Gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Wv(){const n=T();ta(x()[1],n)}function Cp(n){let r=function xh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;r;){let d;if(Jr(n))d=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new be(903,!1);d=r.\u0275dir}if(d){if(s){l.push(d);const E=n;E.inputs=Rh(n.inputs),E.declaredInputs=Rh(n.declaredInputs),E.outputs=Rh(n.outputs);const S=d.hostBindings;S&&qv(n,S);const O=d.viewQuery,U=d.contentQueries;if(O&&Tp(n,O),U&&Nm(n,U),le(n.inputs,d.inputs),le(n.declaredInputs,d.declaredInputs),le(n.outputs,d.outputs),Jr(d)&&d.data.animation){const J=n.data;J.animation=(J.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let E=0;E<p.length;E++){const S=p[E];S&&S.ngInherit&&S(n),S===Cp&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Sp(n){let r=0,s=null;for(let l=n.length-1;l>=0;l--){const d=n[l];d.hostVars=r+=d.hostVars,d.hostAttrs=Yt(d.hostAttrs,s=Yt(s,d.hostAttrs))}}(l)}function Rh(n){return n===en?{}:n===Oe?[]:n}function Tp(n,r){const s=n.viewQuery;n.viewQuery=s?(l,d)=>{r(l,d),s(l,d)}:r}function Nm(n,r){const s=n.contentQueries;n.contentQueries=s?(l,d,p)=>{r(l,d,p),s(l,d,p)}:r}function qv(n,r){const s=n.hostBindings;n.hostBindings=s?(l,d)=>{r(l,d),s(l,d)}:r}let _l=null;function eu(){if(!_l){const n=ln.Symbol;if(n&&n.iterator)_l=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const l=r[s];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(_l=l)}}}return _l}function kh(n){return!!pd(n)&&(Array.isArray(n)||!(n instanceof Map)&&eu()in n)}function pd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function wa(n,r,s){return n[r]=s}function ws(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Op(n,r,s,l){const d=x();return ws(d,Zi(),r)&&(c(),ba(ir(),d,n,r,s,l)),Op}function Fp(n,r,s,l,d,p,E,S){const O=x(),U=c(),J=n+22,ve=U.firstCreatePass?function jm(n,r,s,l,d,p,E,S,O){const U=r.consts,J=fc(r,n,4,E||null,vi(U,S));hp(r,s,J,vi(U,O)),ta(r,J);const ve=J.tViews=cd(2,J,l,d,p,r.directiveRegistry,r.pipeRegistry,null,r.schemas,U);return null!==r.queries&&(r.queries.template(r,J),ve.queries=r.queries.embeddedTView(J)),J}(J,U,O,r,s,l,d,p,E):U.data[J];Lt(ve,!1);const tt=O[11].createComment("");sa(U,O,tt,ve),go(tt,O),mc(O,O[J]=Ch(tt,O,tt,ve)),as(ve)&&ku(U,O,ve),null!=E&&ud(O,ve,S)}function md(n){return function ro(n,r){return n[r]}(function Xn(){return Un.lFrame.contextLView}(),22+n)}function Nr(n,r,s){const l=x();return ws(l,Zi(),r)&&function ua(n,r,s,l,d,p,E,S){const O=di(r,s);let J,U=r.inputs;!S&&null!=U&&(J=U[l])?(fd(n,s,J,l,d),ss(r)&&Dh(s,r.index)):3&r.type&&(l=function wm(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),d=null!=E?E(d,r.value||"",l):d,p.setProperty(O,l,d))}(c(),ir(),l,n,r,l[11],s,!1),Nr}function Vh(n,r,s,l,d){const E=d?"class":"style";fd(n,s,r.inputs[E],E,l)}function yd(n,r,s,l){const d=x(),p=c(),E=22+n,S=d[11],O=d[E]=Du(S,r,function Ml(){return Un.lFrame.currentNamespace}()),U=p.firstCreatePass?function zm(n,r,s,l,d,p,E){const S=r.consts,U=fc(r,n,2,d,vi(S,p));return hp(r,s,U,vi(S,E)),null!==U.attrs&&Mh(U,U.attrs,!1),null!==U.mergedAttrs&&Mh(U,U.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,U),U}(E,p,d,0,r,s,l):p.data[E];return Lt(U,!0),kf(S,O,U),32!=(32&U.flags)&&sa(p,d,O,U),0===function $o(){return Un.lFrame.elementDepthCount}()&&go(O,d),function Bo(){Un.lFrame.elementDepthCount++}(),as(U)&&(ku(p,d,U),dp(p,U,d)),null!==l&&ud(d,U),yd}function ou(){let n=T();Xt()?Tn():(n=n.parent,Lt(n,!1));const r=n;!function io(){Un.lFrame.elementDepthCount--}();const s=c();return s.firstCreatePass&&(ta(s,n),Vi(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function St(n){return 0!=(8&n.flags)}(r)&&Vh(s,r,x(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Dn(n){return 0!=(16&n.flags)}(r)&&Vh(s,r,x(),r.stylesWithoutHost,!1),ou}function Uh(n,r,s,l){return yd(n,r,s,l),ou(),Uh}function zo(n,r,s){const l=x(),d=c(),p=n+22,E=d.firstCreatePass?function Li(n,r,s,l,d){const p=r.consts,E=vi(p,l),S=fc(r,n,8,"ng-container",E);return null!==E&&Mh(S,E,!0),hp(r,s,S,vi(p,d)),null!==r.queries&&r.queries.elementStart(r,S),S}(p,d,l,r,s):d.data[p];Lt(E,!0);const S=l[p]=l[11].createComment("");return sa(d,l,S,E),go(S,l),as(E)&&(ku(d,l,E),dp(d,E,l)),null!=s&&ud(l,E),zo}function Ca(){let n=T();const r=c();return Xt()?Tn():(n=n.parent,Lt(n,!1)),r.firstCreatePass&&(ta(r,n),Vi(n)&&r.queries.elementEnd(n)),Ca}function jh(n,r,s){return zo(n,r,s),Ca(),jh}function Gm(){return x()}function Dc(n){return!!n&&"function"==typeof n.then}function Lp(n){return!!n&&"function"==typeof n.subscribe}const Hh=Lp;function zh(n,r,s,l){const d=x(),p=c(),E=T();return function Qv(n,r,s,l,d,p,E){const S=as(l),U=n.firstCreatePass&&Sh(n),J=r[8],ve=xm(r);let tt=!0;if(3&l.type||E){const Kt=di(l,r),En=E?E(Kt):Kt,Bn=ve.length,Qn=E?pr=>E(Ur(pr[l.index])):l.index;let jt=null;if(!E&&S&&(jt=function Xv(n,r,s,l){const d=n.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const E=d[p];if(E===s&&d[p+1]===l){const S=r[7],O=d[p+2];return S.length>O?S[O]:null}"string"==typeof E&&(p+=2)}return null}(n,r,d,l.index)),null!==jt)(jt.__ngLastListenerFn__||jt).__ngNextListenerFn__=p,jt.__ngLastListenerFn__=p,tt=!1;else{p=qm(l,r,J,p,!1);const pr=s.listen(En,d,p);ve.push(p,pr),U&&U.push(d,Qn,Bn,Bn+1)}}else p=qm(l,r,J,p,!1);const mt=l.outputs;let Ft;if(tt&&null!==mt&&(Ft=mt[d])){const Kt=Ft.length;if(Kt)for(let En=0;En<Kt;En+=2){const Bi=r[Ft[En]][Ft[En+1]].subscribe(p),vo=ve.length;ve.push(p,Bi),U&&U.push(d,l.index,vo,-(vo+1))}}}(p,d,d[11],E,n,r,l),zh}function Wm(n,r,s,l){try{return!1!==s(l)}catch(d){return Ah(n,d),!1}}function qm(n,r,s,l,d){return function p(E){if(E===Function)return l;Ql(n.componentOffset>-1?si(n.index,r):r);let O=Wm(r,0,l,E),U=p.__ngNextListenerFn__;for(;U;)O=Wm(r,0,U,E)&&O,U=U.__ngNextListenerFn__;return d&&!1===O&&(E.preventDefault(),E.returnValue=!1),O}}function Ym(n=1){return function Ma(n){return(Un.lFrame.contextLView=function Bs(n,r){for(;n>0;)r=r[15],n--;return r}(n,Un.lFrame.contextLView))[8]}(n)}function Jv(n,r){let s=null;const l=function am(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(n);for(let d=0;d<r.length;d++){const p=r[d];if("*"!==p){if(null===l?sm(n,p,!0):Xf(l,p))return d}else s=d}return s}function Km(n){const r=x()[16][6];if(!r.projection){const l=r.projection=oo(n?n.length:1,null),d=l.slice();let p=r.child;for(;null!==p;){const E=n?Jv(p,n):0;null!==E&&(d[E]?d[E].projectionNext=p:l[E]=p,d[E]=p),p=p.next}}}function $p(n,r=0,s){const l=x(),d=c(),p=fc(d,22+n,16,null,s||null);null===p.projection&&(p.projection=r),Tn(),32!=(32&p.flags)&&function Wd(n,r,s){tc(r[11],0,r,s,Af(n,s,r),Mg(s.parent||r[6],s,r))}(d,l,p)}function bc(n,r){return n<<17|r<<2}function Dl(n){return n>>17&32767}function Up(n){return 2|n}function Vu(n){return(131068&n)>>2}function jp(n,r){return-131069&n|r<<2}function Hp(n){return 1|n}function Xm(n,r,s,l,d){const p=n[s+1],E=null===r;let S=l?Dl(p):Vu(p),O=!1;for(;0!==S&&(!1===O||E);){const J=n[S+1];zp(n[S],r)&&(O=!0,n[S+1]=l?Hp(J):Up(J)),S=l?Dl(J):Vu(J)}O&&(n[s+1]=l?Up(p):Hp(p))}function zp(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&_(n,r)>=0}function Wp(n,r){return function fs(n,r,s,l){const d=x(),p=c(),E=function Fi(n){const r=Un.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);p.firstUpdatePass&&function oy(n,r,s,l){const d=n.data;if(null===d[s+1]){const p=d[zi()],E=function iy(n,r){return r>=n.expandoStartIndex}(n,s);(function ef(n,r){return 0!=(n.flags&(r?8:16))})(p,l)&&null===r&&!E&&(r=!1),r=function sy(n,r,s,l){const d=function Vo(n){const r=Un.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let p=l?r.residualClasses:r.residualStyles;if(null===d)0===(l?r.classBindings:r.styleBindings)&&(s=su(s=Cl(null,n,r,s,l),r.attrs,l),p=null);else{const E=r.directiveStylingLast;if(-1===E||n[E]!==d)if(s=Cl(d,n,r,s,l),null===p){let O=function ay(n,r,s){const l=s?r.classBindings:r.styleBindings;if(0!==Vu(l))return n[Dl(l)]}(n,r,l);void 0!==O&&Array.isArray(O)&&(O=Cl(null,n,r,O[1],l),O=su(O,r.attrs,l),function Qh(n,r,s,l){n[Dl(s?r.classBindings:r.styleBindings)]=l}(n,r,l,O))}else p=function s_(n,r,s){let l;const d=r.directiveEnd;for(let p=1+r.directiveStylingLast;p<d;p++)l=su(l,n[p].hostAttrs,s);return su(l,r.attrs,s)}(n,r,l)}return void 0!==p&&(l?r.residualClasses=p:r.residualStyles=p),s}(d,p,r,l),function t_(n,r,s,l,d,p){let E=p?r.classBindings:r.styleBindings,S=Dl(E),O=Vu(E);n[l]=s;let J,U=!1;if(Array.isArray(s)?(J=s[1],(null===J||_(s,J)>0)&&(U=!0)):J=s,d)if(0!==O){const tt=Dl(n[S+1]);n[l+1]=bc(tt,S),0!==tt&&(n[tt+1]=jp(n[tt+1],l)),n[S+1]=function Vp(n,r){return 131071&n|r<<17}(n[S+1],l)}else n[l+1]=bc(S,0),0!==S&&(n[S+1]=jp(n[S+1],l)),S=l;else n[l+1]=bc(O,0),0===S?S=l:n[O+1]=jp(n[O+1],l),O=l;U&&(n[l+1]=Up(n[l+1])),Xm(n,J,l,!0),Xm(n,J,l,!1),function n_(n,r,s,l,d){const p=d?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof r&&_(p,r)>=0&&(s[l+1]=Hp(s[l+1]))}(r,J,n,l,p),E=bc(S,O),p?r.classBindings=E:r.styleBindings=E}(d,p,r,s,E,l)}}(p,n,E,l),r!==_r&&ws(d,E,r)&&function ly(n,r,s,l,d,p,E,S){if(!(3&r.type))return;const O=n.data,U=O[S+1],J=function Zm(n){return 1==(1&n)}(U)?uy(O,r,s,d,Vu(U),E):void 0;Jh(J)||(Jh(p)||function wc(n){return 2==(2&n)}(U)&&(p=uy(O,null,s,d,S,E)),function qd(n,r,s,l,d){if(r)d?n.addClass(s,l):n.removeClass(s,l);else{let p=-1===l.indexOf("-")?void 0:is.DashCase;null==d?n.removeStyle(s,l,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=is.Important),n.setStyle(s,l,d,p))}}(l,E,Co(zi(),s),d,p))}(p,p.data[zi()],d,d[11],n,d[E+1]=function Kp(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Ie(Vl(n)))),n}(r,s),l,E)}(n,r,null,!0),Wp}function Cl(n,r,s,l,d){let p=null;const E=s.directiveEnd;let S=s.directiveStylingLast;for(-1===S?S=s.directiveStart:S++;S<E&&(p=r[S],l=su(l,p.hostAttrs,d),p!==n);)S++;return null!==n&&(s.directiveStylingLast=S),l}function su(n,r,s){const l=s?1:2;let d=-1;if(null!==r)for(let p=0;p<r.length;p++){const E=r[p];"number"==typeof E?d=E:d===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),I(n,E,!!s||r[++p]))}return void 0===n?null:n}function uy(n,r,s,l,d,p){const E=null===r;let S;for(;d>0;){const O=n[d],U=Array.isArray(O),J=U?O[1]:O,ve=null===J;let tt=s[d+1];tt===_r&&(tt=ve?Oe:void 0);let mt=ve?D(tt,l):J===l?tt:void 0;if(U&&!Jh(mt)&&(mt=D(O,l)),Jh(mt)&&(S=mt,E))return S;const Ft=n[d+1];d=E?Dl(Ft):Vu(Ft)}if(null!==r){let O=p?r.residualClasses:r.residualStyles;null!=O&&(S=D(O,l))}return S}function Jh(n){return void 0!==n}function Zp(n,r=""){const s=x(),l=c(),d=n+22,p=l.firstCreatePass?fc(l,d,1,r,null):l.data[d],E=s[d]=function Nl(n,r){return n.createText(r)}(s[11],r);sa(l,s,E,p),Lt(p,!1)}function Sl(n){return Dd("",n,""),Sl}function Dd(n,r,s){const l=x(),d=function _c(n,r,s,l){return ws(n,Zi(),s)?r+ne(s)+l:_r}(l,n,r,s);return d!==_r&&function vl(n,r,s){const l=Co(r,n);!function ul(n,r,s){n.setValue(r,s)}(n[11],l,s)}(l,zi(),d),Dd}const Xa=void 0;var Uu=["en",[["a","p"],["AM","PM"],Xa],[["AM","PM"],Xa,Xa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xa,"{1} 'at' {0}",Xa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function f_(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let Ks={};function Qa(n){const r=function p_(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=gy(r);if(s)return s;const l=r.split("-")[0];if(s=gy(l),s)return s;if("en"===l)return Uu;throw new be(701,!1)}function ag(n){return Qa(n)[Yn.PluralCase]}function gy(n){return n in Ks||(Ks[n]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[n]),Ks[n]}var Yn=(()=>((Yn=Yn||{})[Yn.LocaleId=0]="LocaleId",Yn[Yn.DayPeriodsFormat=1]="DayPeriodsFormat",Yn[Yn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Yn[Yn.DaysFormat=3]="DaysFormat",Yn[Yn.DaysStandalone=4]="DaysStandalone",Yn[Yn.MonthsFormat=5]="MonthsFormat",Yn[Yn.MonthsStandalone=6]="MonthsStandalone",Yn[Yn.Eras=7]="Eras",Yn[Yn.FirstDayOfWeek=8]="FirstDayOfWeek",Yn[Yn.WeekendRange=9]="WeekendRange",Yn[Yn.DateFormat=10]="DateFormat",Yn[Yn.TimeFormat=11]="TimeFormat",Yn[Yn.DateTimeFormat=12]="DateTimeFormat",Yn[Yn.NumberSymbols=13]="NumberSymbols",Yn[Yn.NumberFormats=14]="NumberFormats",Yn[Yn.CurrencyCode=15]="CurrencyCode",Yn[Yn.CurrencySymbol=16]="CurrencySymbol",Yn[Yn.CurrencyName=17]="CurrencyName",Yn[Yn.Currencies=18]="Currencies",Yn[Yn.Directionality=19]="Directionality",Yn[Yn.PluralCase=20]="PluralCase",Yn[Yn.ExtraData=21]="ExtraData",Yn))();const Ac="en-US";let yy=Ac;function vf(n,r,s,l,d){if(n=fe(n),Array.isArray(n))for(let p=0;p<n.length;p++)vf(n[p],r,s,l,d);else{const p=c(),E=x();let S=Au(n)?n:fe(n.provide),O=Gl(n);const U=T(),J=1048575&U.providerIndexes,ve=U.directiveStart,tt=U.providerIndexes>>20;if(Au(n)||!n.multi){const mt=new ct(O,d,hc),Ft=_f(S,r,d?J:J+tt,ve);-1===Ft?(Gr(ms(U,E),p,S),vg(p,n,r.length),r.push(S),U.directiveStart++,U.directiveEnd++,d&&(U.providerIndexes+=1048576),s.push(mt),E.push(mt)):(s[Ft]=mt,E[Ft]=mt)}else{const mt=_f(S,r,J+tt,ve),Ft=_f(S,r,J,J+tt),En=Ft>=0&&s[Ft];if(d&&!En||!d&&!(mt>=0&&s[mt])){Gr(ms(U,E),p,S);const Bn=function By(n,r,s,l,d){const p=new ct(n,s,hc);return p.multi=[],p.index=r,p.componentProviders=0,_g(p,d,l&&!s),p}(d?j_:U_,s.length,d,l,O);!d&&En&&(s[Ft].providerFactory=Bn),vg(p,n,r.length,0),r.push(S),U.directiveStart++,U.directiveEnd++,d&&(U.providerIndexes+=1048576),s.push(Bn),E.push(Bn)}else vg(p,n,mt>-1?mt:Ft,_g(s[d?Ft:mt],O,!d&&l));!d&&l&&En&&s[Ft].componentProviders++}}}function vg(n,r,s,l){const d=Au(r),p=function Kg(n){return!!n.useClass}(r);if(d||p){const O=(p?fe(r.useClass):r).prototype.ngOnDestroy;if(O){const U=n.destroyHooks||(n.destroyHooks=[]);if(!d&&r.multi){const J=U.indexOf(s);-1===J?U.push(s,[l,O]):U[J+1].push(l,O)}else U.push(s,O)}}}function _g(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function _f(n,r,s,l){for(let d=s;d<l;d++)if(r[d]===n)return d;return-1}function U_(n,r,s,l){return Ef(this.multi,[])}function j_(n,r,s,l){const d=this.multi;let p;if(this.providerFactory){const E=this.providerFactory.componentProviders,S=ei(s,s[1],this.providerFactory.index,l);p=S.slice(0,E),Ef(d,p);for(let O=E;O<S.length;O++)p.push(S[O])}else p=[],Ef(d,p);return p}function Ef(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function Vy(n,r=[]){return s=>{s.providersResolver=(l,d)=>function $y(n,r,s){const l=c();if(l.firstCreatePass){const d=Jr(n);vf(s,l.data,l.blueprint,d,!0),vf(r,l.data,l.blueprint,d,!1)}}(l,d?d(n):n,r)}}class i{}class e{}function t(n,r){return new u(n,null!=r?r:null)}class u extends i{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ip(this);const l=Lr(r);this._bootstrapComponents=Ka(l.bootstrap),this._r3Injector=dm(r,s,[{provide:i,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver}],Ie(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class h extends e{constructor(r){super(),this.moduleType=r}create(r){return new u(this.moduleType,r)}}class y extends i{constructor(r,s,l){super(),this.componentFactoryResolver=new Ip(this),this.instance=null;const d=new Zg([...r,{provide:i,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver}],s||ih(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function C(n,r,s=null){return new y(n,r,s).injector}let V=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const l=jl(0,s.type),d=l.length>0?C([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,d)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=bt({token:n,providedIn:"environment",factory:()=>new n(xt(zl))}),n})();function z(n){n.getStandaloneInjector=r=>r.get(V).getOrCreateStandaloneInjector(n)}function O0(n,r,s){const l=Or()+n,d=x();return d[l]===_r?wa(d,l,s?r.call(s):r()):function gd(n,r){return n[r]}(d,l)}function P0(n,r,s,l){return function k0(n,r,s,l,d,p){const E=r+s;return ws(n,E,d)?wa(n,E+1,p?l.call(p,d):l(d)):function Eg(n,r){const s=n[r];return s===_r?void 0:s}(n,E+1)}(x(),Or(),n,r,s,l)}function H_(n){return r=>{setTimeout(n,void 0,r)}}const uu=class cI extends a.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,l){let d=r,p=s||(()=>null),E=l;if(r&&"object"==typeof r){var S,O,U;const ve=r;d=null===(S=ve.next)||void 0===S?void 0:S.bind(ve),p=null===(O=ve.error)||void 0===O?void 0:O.bind(ve),E=null===(U=ve.complete)||void 0===U?void 0:U.bind(ve)}this.__isAsync&&(p=H_(p),d&&(d=H_(d)),E&&(E=H_(E)));const J=super.subscribe({next:d,error:p,complete:E});return r instanceof B.w0&&r.add(J),J}};function dI(){return this._results[eu()]()}class z_{get changes(){return this._changes||(this._changes=new uu)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=eu(),l=z_.prototype;l[s]||(l[s]=dI)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const l=this;l.dirty=!1;const d=function Qi(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function La(n,r,s){if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++){let d=n[l],p=r[l];if(s&&(d=s(d),p=s(p)),p!==d)return!1}return!0}(l._results,d,s))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Dg=(()=>{class n{}return n.__NG_ELEMENT_ID__=pI,n})();const hI=Dg,fI=class extends hI{constructor(r,s,l){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(r,s){const l=this._declarationTContainer.tViews,d=ad(this._declarationLView,l,r,16,null,l.declTNode,null,null,null,null,s||null);d[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(d[19]=E.createEmbeddedView(l)),cp(l,d,r),new Lu(d)}};function pI(){return Uy(T(),x())}function Uy(n,r){return 4&n.type?new fI(r,n,ql(n,r)):null}let jy=(()=>{class n{}return n.__NG_ELEMENT_ID__=gI,n})();function gI(){return U0(T(),x())}const mI=jy,B0=class extends mI{constructor(r,s,l){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=l}get element(){return ql(this._hostTNode,this._hostLView)}get injector(){return new Gs(this._hostTNode,this._hostLView)}get parentInjector(){const r=Oa(this._hostTNode,this._hostLView);if(Pt(r)){const s=Qo(r,this._hostLView),l=Zr(r);return new Gs(s[1].data[l+8],s)}return new Gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=V0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,l){let d,p;"number"==typeof l?d=l:null!=l&&(d=l.index,p=l.injector);const E=r.createEmbeddedView(s||{},p);return this.insert(E,d),E}createComponent(r,s,l,d,p){const E=r&&!function vs(n){return"function"==typeof n}(r);let S;if(E)S=s;else{const ve=s||{};S=ve.index,l=ve.injector,d=ve.projectableNodes,p=ve.environmentInjector||ve.ngModuleRef}const O=E?r:new vc(Nn(r)),U=l||this.parentInjector;if(!p&&null==O.ngModule){const tt=(E?U:this.parentInjector).get(zl,null);tt&&(p=tt)}const J=O.create(U,d,void 0,p);return this.insert(J.hostView,S),J}insert(r,s){const l=r._lView,d=l[1];if(function Xs(n){return ii(n[3])}(l)){const J=this.indexOf(r);if(-1!==J)this.detach(J);else{const ve=l[3],tt=new B0(ve,ve[6],ve[3]);tt.detach(tt.indexOf(r))}}const p=this._adjustIndex(s),E=this._lContainer;!function Tf(n,r,s,l){const d=10+l,p=s.length;l>0&&(s[d-1][4]=r),l<p-10?(r[4]=s[d],_i(s,10+l,r)):(s.push(r),r[4]=null),r[3]=s;const E=r[17];null!==E&&s!==E&&function cl(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(E,r);const S=r[19];null!==S&&S.insertView(n),r[2]|=64}(d,l,E,p);const S=Rf(p,E),O=l[11],U=Vc(O,E[7]);return null!==U&&function bu(n,r,s,l,d,p){l[0]=d,l[6]=r,jc(n,l,s,1,d,p)}(d,E[6],O,l,U,S),r.attachToViewContainerRef(),_i(G_(E),p,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=V0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),l=Gd(this._lContainer,s);l&&(va(G_(this._lContainer),s),wu(l[1],l))}detach(r){const s=this._adjustIndex(r,-1),l=Gd(this._lContainer,s);return l&&null!=va(G_(this._lContainer),s)?new Lu(l):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function V0(n){return n[8]}function G_(n){return n[8]||(n[8]=[])}function U0(n,r){let s;const l=r[n.index];if(ii(l))s=l;else{let d;if(8&n.type)d=Ur(l);else{const p=r[11];d=p.createComment("");const E=di(n,r);dl(p,Vc(p,E),d,function Ll(n,r){return n.nextSibling(r)}(p,E),!1)}r[n.index]=s=Ch(l,r,d,n),mc(r,s)}return new B0(s,n,r)}class W_{constructor(r){this.queryList=r,this.matches=null}clone(){return new W_(this.queryList)}setDirty(){this.queryList.setDirty()}}class q_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const l=null!==r.contentQueries?r.contentQueries[0]:s.length,d=[];for(let p=0;p<l;p++){const E=s.getByIndex(p);d.push(this.queries[E.indexInDeclarationView].clone())}return new q_(d)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==Z0(r,s).matches&&this.queries[s].setDirty()}}class j0{constructor(r,s,l=null){this.predicate=r,this.flags=s,this.read=l}}class Y_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let l=0;l<this.length;l++){const d=null!==s?s.length:0,p=this.getByIndex(l).embeddedTView(r,d);p&&(p.indexInDeclarationView=l,null!==s?s.push(p):s=[p])}return null!==s?new Y_(s):null}template(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class K_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new K_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=r.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(r,s,yI(s,p)),this.matchTNodeWithReadOption(r,s,Rs(s,r,p,!1,!1))}else l===Dg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Rs(s,r,l,!1,!1))}matchTNodeWithReadOption(r,s,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Yl||d===jy||d===Dg&&4&s.type)this.addMatch(s.index,-2);else{const p=Rs(s,r,d,!1,!1);null!==p&&this.addMatch(s.index,p)}else this.addMatch(s.index,l)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function yI(n,r){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===r)return s[l+1];return null}function _I(n,r,s,l){return-1===s?function vI(n,r){return 11&n.type?ql(n,r):4&n.type?Uy(n,r):null}(r,n):-2===s?function EI(n,r,s){return s===Yl?ql(r,n):s===Dg?Uy(r,n):s===jy?U0(r,n):void 0}(n,r,l):ei(n,n[1],s,r)}function H0(n,r,s,l){const d=r[19].queries[l];if(null===d.matches){const p=n.data,E=s.matches,S=[];for(let O=0;O<E.length;O+=2){const U=E[O];S.push(U<0?null:_I(r,p[U],E[O+1],s.metadata.read))}d.matches=S}return d.matches}function Z_(n,r,s,l){const d=n.queries.getByIndex(s),p=d.matches;if(null!==p){const E=H0(n,r,d,s);for(let S=0;S<p.length;S+=2){const O=p[S];if(O>0)l.push(E[S/2]);else{const U=p[S+1],J=r[-O];for(let ve=10;ve<J.length;ve++){const tt=J[ve];tt[17]===tt[3]&&Z_(tt[1],tt,U,l)}if(null!==J[9]){const ve=J[9];for(let tt=0;tt<ve.length;tt++){const mt=ve[tt];Z_(mt[1],mt,U,l)}}}}}return l}function z0(n){const r=x(),s=c(),l=Sa();$s(l+1);const d=Z0(s,l);if(n.dirty&&function fo(n){return 4==(4&n[2])}(r)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const p=d.crossesNgTemplate?Z_(s,r,l,[]):H0(s,r,d,l);n.reset(p,Dv),n.notifyOnChanges()}return!0}return!1}function G0(n,r,s){const l=c();l.firstCreatePass&&(K0(l,new j0(n,r,s),-1),2==(2&r)&&(l.staticViewQueries=!0)),Y0(l,x(),r)}function W0(n,r,s,l){const d=c();if(d.firstCreatePass){const p=T();K0(d,new j0(r,s,l),p.index),function DI(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(d,n),2==(2&s)&&(d.staticContentQueries=!0)}Y0(d,x(),s)}function q0(){return function II(n,r){return n[19].queries[r].queryList}(x(),Sa())}function Y0(n,r,s){const l=new z_(4==(4&s));_h(n,r,l,l.destroy),null===r[19]&&(r[19]=new q_),r[19].queries.push(new W_(l))}function K0(n,r,s){null===n.queries&&(n.queries=new Y_),n.queries.track(new K_(r,s))}function Z0(n,r){return n.queries.getByIndex(r)}function zy(...n){}const gE=new br("Application Initializer");let Gy=(()=>{class n{constructor(s){this.appInits=s,this.resolve=zy,this.reject=zy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Dc(p))s.push(p);else if(Hh(p)){const E=new Promise((S,O)=>{p.subscribe({complete:S,error:O})});s.push(E)}}Promise.all(s).then(()=>{l()}).catch(d=>{this.reject(d)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(xt(gE,8))},n.\u0275prov=bt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mE=new br("AppId",{providedIn:"root",factory:function yE(){return`${t0()}${t0()}${t0()}`}});function t0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vE=new br("Platform Initializer"),HI=new br("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_E=new br("appBootstrapListener");let zI=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=bt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Wy=new br("LocaleId",{providedIn:"root",factory:()=>qt(Wy,Nt.Optional|Nt.SkipSelf)||function GI(){return typeof $localize<"u"&&$localize.locale||Ac}()}),WI=new br("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let YI=(()=>{class n{compileModuleSync(s){return new h(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),p=Ka(Lr(s).declarations).reduce((E,S)=>{const O=Nn(S);return O&&E.push(new vc(O)),E},[]);return new qI(l,p)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=bt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XI=(()=>Promise.resolve(0))();function n0(n){typeof Zone>"u"?XI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ja{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new uu(!1),this.onMicrotaskEmpty=new uu(!1),this.onStable=new uu(!1),this.onError=new uu(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&s,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function QI(){let n=ln.requestAnimationFrame,r=ln.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function tD(n){const r=()=>{!function eD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ln,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,o0(n),n.isCheckStableRunning=!0,r0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),o0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,d,p,E,S)=>{try{return DE(n),s.invokeTask(d,p,E,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&r(),bE(n)}},onInvoke:(s,l,d,p,E,S,O)=>{try{return DE(n),s.invoke(d,p,E,S,O)}finally{n.shouldCoalesceRunChangeDetection&&r(),bE(n)}},onHasTask:(s,l,d,p)=>{s.hasTask(d,p),l===d&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,o0(n),r0(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(s,l,d,p)=>(s.handleError(d,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ja.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(Ja.isInAngularZone())throw new be(909,!1)}run(r,s,l){return this._inner.run(r,s,l)}runTask(r,s,l,d){const p=this._inner,E=p.scheduleEventTask("NgZoneEvent: "+d,r,JI,zy,zy);try{return p.runTask(E,s,l)}finally{p.cancelTask(E)}}runGuarded(r,s,l){return this._inner.runGuarded(r,s,l)}runOutsideAngular(r){return this._outer.run(r)}}const JI={};function r0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function o0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function DE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function bE(n){n._nesting--,r0(n)}class nD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new uu,this.onMicrotaskEmpty=new uu,this.onStable=new uu,this.onError=new uu}run(r,s,l){return r.apply(s,l)}runGuarded(r,s,l){return r.apply(s,l)}runOutsideAngular(r){return r()}runTask(r,s,l,d){return r.apply(s,l)}}const wE=new br(""),CE=new br("");let s0,rD=(()=>{class n{constructor(s,l,d){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,s0||(function iD(n){s0=n}(d),d.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ja.assertNotInAngularZone(),n0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())n0(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==p),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:p,updateCb:d})}whenStable(s,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,d){return[]}}return n.\u0275fac=function(s){return new(s||n)(xt(Ja),xt(SE),xt(CE))},n.\u0275prov=bt({token:n,factory:n.\u0275fac}),n})(),SE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){var d,p;return null!==(d=null===(p=s0)||void 0===p?void 0:p.findTestabilityInTree(this,s,l))&&void 0!==d?d:null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=bt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Oc=null;const TE=new br("AllowMultipleToken"),a0=new br("PlatformDestroyListeners");class aD{constructor(r,s){this.name=r,this.token=s}}function ME(n,r,s=[]){const l=`Platform: ${r}`,d=new br(l);return(p=[])=>{let E=l0();if(!E||E.injector.get(TE,!1)){const S=[...s,...p,{provide:d,useValue:!0}];n?n(S):function lD(n){if(Oc&&!Oc.get(TE,!1))throw new be(400,!1);Oc=n;const r=n.get(RE);(function AE(n){const r=n.get(vE,null);r&&r.forEach(s=>s())})(n)}(function xE(n=[],r){return Zl.create({name:r,providers:[{provide:rh,useValue:"platform"},{provide:a0,useValue:new Set([()=>Oc=null])},...n]})}(S,l))}return function cD(n){const r=l0();if(!r)throw new be(401,!1);return r}()}}function l0(){var n,r;return null!==(n=null===(r=Oc)||void 0===r?void 0:r.get(RE))&&void 0!==n?n:null}let RE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const d=function PE(n,r){let s;return s="noop"===n?new nD:("zone.js"===n?void 0:n)||new Ja(r),s}(null==l?void 0:l.ngZone,function OE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:Ja,useValue:d}];return d.run(()=>{const E=Zl.create({providers:p,parent:this.injector,name:s.moduleType.name}),S=s.create(E),O=S.injector.get(sc,null);if(!O)throw new be(402,!1);return d.runOutsideAngular(()=>{const U=d.onError.subscribe({next:J=>{O.handleError(J)}});S.onDestroy(()=>{Yy(this._modules,S),U.unsubscribe()})}),function kE(n,r,s){try{const l=s();return Dc(l)?l.catch(d=>{throw r.runOutsideAngular(()=>n.handleError(d)),d}):l}catch(l){throw r.runOutsideAngular(()=>n.handleError(l)),l}}(O,d,()=>{const U=S.injector.get(Gy);return U.runInitializers(),U.donePromise.then(()=>(function Hu(n){Je(n,"Expected localeId to be defined"),"string"==typeof n&&(yy=n.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Wy,Ac)||Ac),this._moduleDoBootstrap(S),S))})})}bootstrapModule(s,l=[]){const d=NE({},l);return function oD(n,r,s){const l=new h(s);return Promise.resolve(l)}(0,0,s).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(s){const l=s.injector.get(qy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new be(-403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(a0,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(xt(Zl))},n.\u0275prov=bt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function NE(n,r){return Array.isArray(r)?r.reduce(NE,n):{...n,...r}}let qy=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,l,d){this._zone=s,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new N.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),E=new N.y(S=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{Ja.assertNotInAngularZone(),n0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{Ja.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{O.unsubscribe(),U.unsubscribe()}});this.isStable=(0,pe.T)(p,E.pipe((0,ue.B)()))}bootstrap(s,l){const d=s instanceof oh;if(!this._injector.get(Gy).done)throw!d&&rr(s),new be(405,false);let E;E=d?s:this._injector.get(Wl).resolveComponentFactory(s),this.componentTypes.push(E.componentType);const S=function sD(n){return n.isBoundToModule}(E)?void 0:this._injector.get(i),U=E.create(Zl.NULL,[],l||E.selector,S),J=U.location.nativeElement,ve=U.injector.get(wE,null);return null==ve||ve.registerApplication(J),U.onDestroy(()=>{this.detachView(U.hostView),Yy(this.components,U),null==ve||ve.unregisterApplication(J)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;Yy(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(_E,[]);l.push(...this._bootstrapListeners),l.forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Yy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new be(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(xt(Ja),xt(zl),xt(sc))},n.\u0275prov=bt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yy(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}function hD(){return!1}function fD(){}let pD=(()=>{class n{}return n.__NG_ELEMENT_ID__=gD,n})();function gD(n){return function mD(n,r,s){if(ss(n)&&!s){const l=si(n.index,r);return new Lu(l,l)}return 47&n.type?new Lu(r[16],r):null}(T(),x(),16==(16&n))}class VE{constructor(){}supports(r){return kh(r)}create(r){return new DD(r)}}const ID=(n,r)=>r;class DD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||ID}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,l=this._removalsHead,d=0,p=null;for(;s||l;){const E=!l||s&&s.currentIndex<jE(l,d,p)?s:l,S=jE(E,d,p),O=E.currentIndex;if(E===l)d--,l=l._nextRemoved;else if(s=s._next,null==E.previousIndex)d++;else{p||(p=[]);const U=S-d,J=O-d;if(U!=J){for(let tt=0;tt<U;tt++){const mt=tt<p.length?p[tt]:p[tt]=0,Ft=mt+tt;J<=Ft&&Ft<U&&(p[tt]=mt+1)}p[E.previousIndex]=J-U}}S!==O&&r(E,S,O)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!kh(r))throw new be(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let d,p,E,s=this._itHead,l=!1;if(Array.isArray(r)){this.length=r.length;for(let S=0;S<this.length;S++)p=r[S],E=this._trackByFn(S,p),null!==s&&Object.is(s.trackById,E)?(l&&(s=this._verifyReinsertion(s,p,E,S)),Object.is(s.item,p)||this._addIdentityChange(s,p)):(s=this._mismatch(s,p,E,S),l=!0),s=s._next}else d=0,function El(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[eu()]();let l;for(;!(l=s.next()).done;)r(l.value)}}(r,S=>{E=this._trackByFn(d,S),null!==s&&Object.is(s.trackById,E)?(l&&(s=this._verifyReinsertion(s,S,E,d)),Object.is(s.item,S)||this._addIdentityChange(s,S)):(s=this._mismatch(s,S,E,d),l=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,l,d){let p;return null===r?p=this._itTail:(p=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,p,d)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,p,d)):r=this._addAfter(new bD(s,l),p,d),r}_verifyReinsertion(r,s,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?r=this._reinsertAfter(p,r._prev,d):r.currentIndex!=d&&(r.currentIndex=d,this._addToMoves(r,d)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const d=r._prevRemoved,p=r._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(r,s,l),this._addToMoves(r,l),r}_moveAfter(r,s,l){return this._unlink(r),this._insertAfter(r,s,l),this._addToMoves(r,l),r}_addAfter(r,s,l){return this._insertAfter(r,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,l){const d=null===s?this._itHead:s._next;return r._next=d,r._prev=s,null===d?this._itTail=r:d._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new UE),this._linkedRecords.put(r),r.currentIndex=l,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,l=r._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class bD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,r))return l;return null}remove(r){const s=r._prevDup,l=r._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class UE{constructor(){this.map=new Map}put(r){const s=r.trackById;let l=this.map.get(s);l||(l=new wD,this.map.set(s,l)),l.add(r)}get(r,s){const d=this.map.get(r);return d?d.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jE(n,r,s){const l=n.previousIndex;if(null===l)return l;let d=0;return s&&l<s.length&&(d=s[l]),l+r+d}class HE{constructor(){}supports(r){return r instanceof Map||pd(r)}create(){return new CD}}class CD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||pd(r)))throw new be(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(l,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const p=this._getOrCreateRecordForKey(d,l);s=this._insertBeforeOrAppend(s,p)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const l=r._prev;return s._next=r,s._prev=l,r._prev=s,l&&(l._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const d=this._records.get(r);this._maybeAddToChanges(d,s);const p=d._prev,E=d._next;return p&&(p._next=E),E&&(E._prev=p),d._next=null,d._prev=null,d}const l=new SD(r);return this._records.set(r,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(l=>s(r[l],l))}}class SD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zE(){return new f0([new VE])}let f0=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const d=l.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||zE()),deps:[[n,new R,new gi]]}}find(s){const l=this.factories.find(d=>d.supports(s));if(null!=l)return l;throw new be(901,!1)}}return n.\u0275prov=bt({token:n,providedIn:"root",factory:zE}),n})();function GE(){return new p0([new HE])}let p0=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const d=l.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||GE()),deps:[[n,new R,new gi]]}}find(s){const l=this.factories.find(d=>d.supports(s));if(l)return l;throw new be(901,!1)}}return n.\u0275prov=bt({token:n,providedIn:"root",factory:GE}),n})();const MD=ME(null,"core",[]);let xD=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(xt(qy))},n.\u0275mod=jr({type:n}),n.\u0275inj=Gt({}),n})();function RD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(zt,rt,k)=>{"use strict";k.d(rt,{Fj:()=>We,u5:()=>Xo,JU:()=>qe,a5:()=>Wn,JJ:()=>Vn,JL:()=>ln,F:()=>ke,On:()=>yi,wV:()=>ri,UX:()=>So,_Y:()=>Kr});var a=k(4650),B=k(6895),N=k(8996),pe=k(9751),ue=k(4742),ye=k(8421),le=k(7669),Ie=k(5403),Le=k(3268),ce=k(1810),fe=k(4004);let Ce=(()=>{class x{constructor(m,f){this._renderer=m,this._elementRef=f,this.onChange=T=>{},this.onTouched=()=>{}}setProperty(m,f){this._renderer.setProperty(this._elementRef.nativeElement,m,f)}registerOnTouched(m){this.onTouched=m}registerOnChange(m){this.onChange=m}setDisabledState(m){this.setProperty("disabled",m)}}return x.\u0275fac=function(m){return new(m||x)(a.Y36(a.Qsj),a.Y36(a.SBq))},x.\u0275dir=a.lG2({type:x}),x})(),Fe=(()=>{class x extends Ce{}return x.\u0275fac=function(){let c;return function(f){return(c||(c=a.n5z(x)))(f||x)}}(),x.\u0275dir=a.lG2({type:x,features:[a.qOj]}),x})();const qe=new a.OlP("NgValueAccessor"),de={provide:qe,useExisting:(0,a.Gpc)(()=>We),multi:!0},Ye=new a.OlP("CompositionEventMode");let We=(()=>{class x extends Ce{constructor(m,f,T){super(m,f),this._compositionMode=T,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ne(){const x=(0,B.q)()?(0,B.q)().getUserAgent():"";return/android (\d+)/.test(x.toLowerCase())}())}writeValue(m){this.setProperty("value",null==m?"":m)}_handleInput(m){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(m)}_compositionStart(){this._composing=!0}_compositionEnd(m){this._composing=!1,this._compositionMode&&this.onChange(m)}}return x.\u0275fac=function(m){return new(m||x)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ye,8))},x.\u0275dir=a.lG2({type:x,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(m,f){1&m&&a.NdJ("input",function(G){return f._handleInput(G.target.value)})("blur",function(){return f.onTouched()})("compositionstart",function(){return f._compositionStart()})("compositionend",function(G){return f._compositionEnd(G.target.value)})},features:[a._Bn([de]),a.qOj]}),x})();const Q=new a.OlP("NgValidators"),te=new a.OlP("NgAsyncValidators");function Je(x){return null!=x}function Ue(x){return(0,a.QGY)(x)?(0,N.D)(x):x}function st(x){let c={};return x.forEach(m=>{c=null!=m?{...c,...m}:c}),0===Object.keys(c).length?null:c}function Ze(x,c){return c.map(m=>m(x))}function bt(x){return x.map(c=>function _t(x){return!x.validate}(c)?c:m=>c.validate(m))}function Gt(x){return null!=x?function Ot(x){if(!x)return null;const c=x.filter(Je);return 0==c.length?null:function(m){return st(Ze(m,c))}}(bt(x)):null}function nn(x){return null!=x?function wt(x){if(!x)return null;const c=x.filter(Je);return 0==c.length?null:function(m){return function ae(...x){const c=(0,le.jO)(x),{args:m,keys:f}=(0,ue.D)(x),T=new pe.y(G=>{const{length:ot}=m;if(!ot)return void G.complete();const Lt=new Array(ot);let Xt=ot,Tn=ot;for(let Xn=0;Xn<ot;Xn++){let lr=!1;(0,ye.Xf)(m[Xn]).subscribe((0,Ie.x)(G,Cr=>{lr||(lr=!0,Tn--),Lt[Xn]=Cr},()=>Xt--,void 0,()=>{(!Xt||!lr)&&(Tn||G.next(f?(0,ce.n)(f,Lt):Lt),G.complete())}))}});return c?T.pipe((0,Le.Z)(c)):T}(Ze(m,c).map(Ue)).pipe((0,fe.U)(st))}}(bt(x)):null}function wn(x,c){return null===x?[c]:Array.isArray(x)?[...x,c]:[x,c]}function Fn(x){return x?Array.isArray(x)?x:[x]:[]}function Jn(x,c){return Array.isArray(x)?x.includes(c):x===c}function ur(x,c){const m=Fn(c);return Fn(x).forEach(T=>{Jn(m,T)||m.push(T)}),m}function Ln(x,c){return Fn(c).filter(m=>!Jn(x,m))}class qn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(c){this._rawValidators=c||[],this._composedValidatorFn=Gt(this._rawValidators)}_setAsyncValidators(c){this._rawAsyncValidators=c||[],this._composedAsyncValidatorFn=nn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(c){this._onDestroyCallbacks.push(c)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(c=>c()),this._onDestroyCallbacks=[]}reset(c){this.control&&this.control.reset(c)}hasError(c,m){return!!this.control&&this.control.hasError(c,m)}getError(c,m){return this.control?this.control.getError(c,m):null}}class Nt extends qn{get formDirective(){return null}get path(){return null}}class Wn extends qn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gn{constructor(c){this._cd=c}get isTouched(){var c,m;return!(null===(c=this._cd)||void 0===c||null===(m=c.control)||void 0===m||!m.touched)}get isUntouched(){var c,m;return!(null===(c=this._cd)||void 0===c||null===(m=c.control)||void 0===m||!m.untouched)}get isPristine(){var c,m;return!(null===(c=this._cd)||void 0===c||null===(m=c.control)||void 0===m||!m.pristine)}get isDirty(){var c,m;return!(null===(c=this._cd)||void 0===c||null===(m=c.control)||void 0===m||!m.dirty)}get isValid(){var c,m;return!(null===(c=this._cd)||void 0===c||null===(m=c.control)||void 0===m||!m.valid)}get isInvalid(){var c,m;return!(null===(c=this._cd)||void 0===c||null===(m=c.control)||void 0===m||!m.invalid)}get isPending(){var c,m;return!(null===(c=this._cd)||void 0===c||null===(m=c.control)||void 0===m||!m.pending)}get isSubmitted(){var c;return!(null===(c=this._cd)||void 0===c||!c.submitted)}}let Vn=(()=>{class x extends Gn{constructor(m){super(m)}}return x.\u0275fac=function(m){return new(m||x)(a.Y36(Wn,2))},x.\u0275dir=a.lG2({type:x,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(m,f){2&m&&a.ekj("ng-untouched",f.isUntouched)("ng-touched",f.isTouched)("ng-pristine",f.isPristine)("ng-dirty",f.isDirty)("ng-valid",f.isValid)("ng-invalid",f.isInvalid)("ng-pending",f.isPending)},features:[a.qOj]}),x})(),ln=(()=>{class x extends Gn{constructor(m){super(m)}}return x.\u0275fac=function(m){return new(m||x)(a.Y36(Nt,10))},x.\u0275dir=a.lG2({type:x,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(m,f){2&m&&a.ekj("ng-untouched",f.isUntouched)("ng-touched",f.isTouched)("ng-pristine",f.isPristine)("ng-dirty",f.isDirty)("ng-valid",f.isValid)("ng-invalid",f.isInvalid)("ng-pending",f.isPending)("ng-submitted",f.isSubmitted)},features:[a.qOj]}),x})();const Rn="VALID",Ae="INVALID",_e="PENDING",$e="DISABLED";function he(x){return(Tt(x)?x.validators:x)||null}function ge(x,c){return(Tt(c)?c.asyncValidators:x)||null}function Tt(x){return null!=x&&!Array.isArray(x)&&"object"==typeof x}class Re{constructor(c,m){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(c),this._assignAsyncValidators(m)}get validator(){return this._composedValidatorFn}set validator(c){this._rawValidators=this._composedValidatorFn=c}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(c){this._rawAsyncValidators=this._composedAsyncValidatorFn=c}get parent(){return this._parent}get valid(){return this.status===Rn}get invalid(){return this.status===Ae}get pending(){return this.status==_e}get disabled(){return this.status===$e}get enabled(){return this.status!==$e}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(c){this._assignValidators(c)}setAsyncValidators(c){this._assignAsyncValidators(c)}addValidators(c){this.setValidators(ur(c,this._rawValidators))}addAsyncValidators(c){this.setAsyncValidators(ur(c,this._rawAsyncValidators))}removeValidators(c){this.setValidators(Ln(c,this._rawValidators))}removeAsyncValidators(c){this.setAsyncValidators(Ln(c,this._rawAsyncValidators))}hasValidator(c){return Jn(this._rawValidators,c)}hasAsyncValidator(c){return Jn(this._rawAsyncValidators,c)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(c={}){this.touched=!0,this._parent&&!c.onlySelf&&this._parent.markAsTouched(c)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(c=>c.markAllAsTouched())}markAsUntouched(c={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(m=>{m.markAsUntouched({onlySelf:!0})}),this._parent&&!c.onlySelf&&this._parent._updateTouched(c)}markAsDirty(c={}){this.pristine=!1,this._parent&&!c.onlySelf&&this._parent.markAsDirty(c)}markAsPristine(c={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(m=>{m.markAsPristine({onlySelf:!0})}),this._parent&&!c.onlySelf&&this._parent._updatePristine(c)}markAsPending(c={}){this.status=_e,!1!==c.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!c.onlySelf&&this._parent.markAsPending(c)}disable(c={}){const m=this._parentMarkedDirty(c.onlySelf);this.status=$e,this.errors=null,this._forEachChild(f=>{f.disable({...c,onlySelf:!0})}),this._updateValue(),!1!==c.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...c,skipPristineCheck:m}),this._onDisabledChange.forEach(f=>f(!0))}enable(c={}){const m=this._parentMarkedDirty(c.onlySelf);this.status=Rn,this._forEachChild(f=>{f.enable({...c,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:c.emitEvent}),this._updateAncestors({...c,skipPristineCheck:m}),this._onDisabledChange.forEach(f=>f(!1))}_updateAncestors(c){this._parent&&!c.onlySelf&&(this._parent.updateValueAndValidity(c),c.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(c){this._parent=c}getRawValue(){return this.value}updateValueAndValidity(c={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rn||this.status===_e)&&this._runAsyncValidator(c.emitEvent)),!1!==c.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!c.onlySelf&&this._parent.updateValueAndValidity(c)}_updateTreeValidity(c={emitEvent:!0}){this._forEachChild(m=>m._updateTreeValidity(c)),this.updateValueAndValidity({onlySelf:!0,emitEvent:c.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$e:Rn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(c){if(this.asyncValidator){this.status=_e,this._hasOwnPendingAsyncValidator=!0;const m=Ue(this.asyncValidator(this));this._asyncValidationSubscription=m.subscribe(f=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(f,{emitEvent:c})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(c,m={}){this.errors=c,this._updateControlsErrors(!1!==m.emitEvent)}get(c){let m=c;return null==m||(Array.isArray(m)||(m=m.split(".")),0===m.length)?null:m.reduce((f,T)=>f&&f._find(T),this)}getError(c,m){const f=m?this.get(m):this;return f&&f.errors?f.errors[c]:null}hasError(c,m){return!!this.getError(c,m)}get root(){let c=this;for(;c._parent;)c=c._parent;return c}_updateControlsErrors(c){this.status=this._calculateStatus(),c&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(c)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?$e:this.errors?Ae:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_e)?_e:this._anyControlsHaveStatus(Ae)?Ae:Rn}_anyControlsHaveStatus(c){return this._anyControls(m=>m.status===c)}_anyControlsDirty(){return this._anyControls(c=>c.dirty)}_anyControlsTouched(){return this._anyControls(c=>c.touched)}_updatePristine(c={}){this.pristine=!this._anyControlsDirty(),this._parent&&!c.onlySelf&&this._parent._updatePristine(c)}_updateTouched(c={}){this.touched=this._anyControlsTouched(),this._parent&&!c.onlySelf&&this._parent._updateTouched(c)}_registerOnCollectionChange(c){this._onCollectionChange=c}_setUpdateStrategy(c){Tt(c)&&null!=c.updateOn&&(this._updateOn=c.updateOn)}_parentMarkedDirty(c){return!c&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(c){return null}_assignValidators(c){this._rawValidators=Array.isArray(c)?c.slice():c,this._composedValidatorFn=function X(x){return Array.isArray(x)?Gt(x):x||null}(this._rawValidators)}_assignAsyncValidators(c){this._rawAsyncValidators=Array.isArray(c)?c.slice():c,this._composedAsyncValidatorFn=function ut(x){return Array.isArray(x)?nn(x):x||null}(this._rawAsyncValidators)}}class oe extends Re{constructor(c,m,f){super(he(m),ge(f,m)),this.controls=c,this._initObservables(),this._setUpdateStrategy(m),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(c,m){return this.controls[c]?this.controls[c]:(this.controls[c]=m,m.setParent(this),m._registerOnCollectionChange(this._onCollectionChange),m)}addControl(c,m,f={}){this.registerControl(c,m),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}removeControl(c,m={}){this.controls[c]&&this.controls[c]._registerOnCollectionChange(()=>{}),delete this.controls[c],this.updateValueAndValidity({emitEvent:m.emitEvent}),this._onCollectionChange()}setControl(c,m,f={}){this.controls[c]&&this.controls[c]._registerOnCollectionChange(()=>{}),delete this.controls[c],m&&this.registerControl(c,m),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}contains(c){return this.controls.hasOwnProperty(c)&&this.controls[c].enabled}setValue(c,m={}){(function Oe(x,c,m){x._forEachChild((f,T)=>{if(void 0===m[T])throw new a.vHH(1002,"")})})(this,0,c),Object.keys(c).forEach(f=>{(function en(x,c,m){const f=x.controls;if(!(c?Object.keys(f):f).length)throw new a.vHH(1e3,"");if(!f[m])throw new a.vHH(1001,"")})(this,!0,f),this.controls[f].setValue(c[f],{onlySelf:!0,emitEvent:m.emitEvent})}),this.updateValueAndValidity(m)}patchValue(c,m={}){null!=c&&(Object.keys(c).forEach(f=>{const T=this.controls[f];T&&T.patchValue(c[f],{onlySelf:!0,emitEvent:m.emitEvent})}),this.updateValueAndValidity(m))}reset(c={},m={}){this._forEachChild((f,T)=>{f.reset(c[T],{onlySelf:!0,emitEvent:m.emitEvent})}),this._updatePristine(m),this._updateTouched(m),this.updateValueAndValidity(m)}getRawValue(){return this._reduceChildren({},(c,m,f)=>(c[f]=m.getRawValue(),c))}_syncPendingControls(){let c=this._reduceChildren(!1,(m,f)=>!!f._syncPendingControls()||m);return c&&this.updateValueAndValidity({onlySelf:!0}),c}_forEachChild(c){Object.keys(this.controls).forEach(m=>{const f=this.controls[m];f&&c(f,m)})}_setUpControls(){this._forEachChild(c=>{c.setParent(this),c._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(c){for(const[m,f]of Object.entries(this.controls))if(this.contains(m)&&c(f))return!0;return!1}_reduceValue(){return this._reduceChildren({},(m,f,T)=>((f.enabled||this.disabled)&&(m[T]=f.value),m))}_reduceChildren(c,m){let f=c;return this._forEachChild((T,G)=>{f=m(f,T,G)}),f}_allControlsDisabled(){for(const c of Object.keys(this.controls))if(this.controls[c].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(c){return this.controls.hasOwnProperty(c)?this.controls[c]:null}}const hr=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>mr}),mr="always";function Tr(x,c,m=mr){var f,T;oi(x,c),c.valueAccessor.writeValue(x.value),(x.disabled||"always"===m)&&(null===(f=(T=c.valueAccessor).setDisabledState)||void 0===f||f.call(T,x.disabled)),function Si(x,c){c.valueAccessor.registerOnChange(m=>{x._pendingValue=m,x._pendingChange=!0,x._pendingDirty=!0,"change"===x.updateOn&&Zn(x,c)})}(x,c),function Ar(x,c){const m=(f,T)=>{c.valueAccessor.writeValue(f),T&&c.viewToModelUpdate(f)};x.registerOnChange(m),c._registerOnDestroy(()=>{x._unregisterOnChange(m)})}(x,c),function Nn(x,c){c.valueAccessor.registerOnTouched(()=>{x._pendingTouched=!0,"blur"===x.updateOn&&x._pendingChange&&Zn(x,c),"submit"!==x.updateOn&&x.markAsTouched()})}(x,c),function eo(x,c){if(c.valueAccessor.setDisabledState){const m=f=>{c.valueAccessor.setDisabledState(f)};x.registerOnDisabledChange(m),c._registerOnDestroy(()=>{x._unregisterOnDisabledChange(m)})}}(x,c)}function jr(x,c){x.forEach(m=>{m.registerOnValidatorChange&&m.registerOnValidatorChange(c)})}function oi(x,c){const m=function Sn(x){return x._rawValidators}(x);null!==c.validator?x.setValidators(wn(m,c.validator)):"function"==typeof m&&x.setValidators([m]);const f=function Ht(x){return x._rawAsyncValidators}(x);null!==c.asyncValidator?x.setAsyncValidators(wn(f,c.asyncValidator)):"function"==typeof f&&x.setAsyncValidators([f]);const T=()=>x.updateValueAndValidity();jr(c._rawValidators,T),jr(c._rawAsyncValidators,T)}function Zn(x,c){x._pendingDirty&&x.markAsDirty(),x.setValue(x._pendingValue,{emitModelToViewChange:!1}),c.viewToModelUpdate(x._pendingValue),x._pendingChange=!1}const Be={provide:Nt,useExisting:(0,a.Gpc)(()=>ke)},ee=(()=>Promise.resolve())();let ke=(()=>{class x extends Nt{constructor(m,f,T){super(),this.callSetDisabledState=T,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new oe({},Gt(m),nn(f))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(m){ee.then(()=>{const f=this._findContainer(m.path);m.control=f.registerControl(m.name,m.control),Tr(m.control,m,this.callSetDisabledState),m.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(m)})}getControl(m){return this.form.get(m.path)}removeControl(m){ee.then(()=>{const f=this._findContainer(m.path);f&&f.removeControl(m.name),this._directives.delete(m)})}addFormGroup(m){ee.then(()=>{const f=this._findContainer(m.path),T=new oe({});(function rr(x,c){oi(x,c)})(T,m),f.registerControl(m.name,T),T.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(m){ee.then(()=>{const f=this._findContainer(m.path);f&&f.removeControl(m.name)})}getFormGroup(m){return this.form.get(m.path)}updateModel(m,f){ee.then(()=>{this.form.get(m.path).setValue(f)})}setValue(m){this.control.setValue(m)}onSubmit(m){var f;return this.submitted=!0,function F(x,c){x._syncPendingControls(),c.forEach(m=>{const f=m.control;"submit"===f.updateOn&&f._pendingChange&&(m.viewToModelUpdate(f._pendingValue),f._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(m),"dialog"===(null==m||null===(f=m.target)||void 0===f?void 0:f.method)}onReset(){this.resetForm()}resetForm(m){this.form.reset(m),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(m){return m.pop(),m.length?this.form.get(m):this.form}}return x.\u0275fac=function(m){return new(m||x)(a.Y36(Q,10),a.Y36(te,10),a.Y36(hr,8))},x.\u0275dir=a.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(m,f){1&m&&a.NdJ("submit",function(G){return f.onSubmit(G)})("reset",function(){return f.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Be]),a.qOj]}),x})();function Ke(x,c){const m=x.indexOf(c);m>-1&&x.splice(m,1)}function pt(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}const Dt=class extends Re{constructor(c=null,m,f){super(he(m),ge(f,m)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(c),this._setUpdateStrategy(m),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tt(m)&&(m.nonNullable||m.initialValueIsDefault)&&(this.defaultValue=pt(c)?c.value:c)}setValue(c,m={}){this.value=this._pendingValue=c,this._onChange.length&&!1!==m.emitModelToViewChange&&this._onChange.forEach(f=>f(this.value,!1!==m.emitViewToModelChange)),this.updateValueAndValidity(m)}patchValue(c,m={}){this.setValue(c,m)}reset(c=this.defaultValue,m={}){this._applyFormState(c),this.markAsPristine(m),this.markAsUntouched(m),this.setValue(this.value,m),this._pendingChange=!1}_updateValue(){}_anyControls(c){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(c){this._onChange.push(c)}_unregisterOnChange(c){Ke(this._onChange,c)}registerOnDisabledChange(c){this._onDisabledChange.push(c)}_unregisterOnDisabledChange(c){Ke(this._onDisabledChange,c)}_forEachChild(c){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(c){pt(c)?(this.value=this._pendingValue=c.value,c.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=c}},to={provide:Wn,useExisting:(0,a.Gpc)(()=>yi)},Ti=(()=>Promise.resolve())();let yi=(()=>{class x extends Wn{constructor(m,f,T,G,ot,Lt){super(),this._changeDetectorRef=ot,this.callSetDisabledState=Lt,this.control=new Dt,this._registered=!1,this.update=new a.vpe,this._parent=m,this._setValidators(f),this._setAsyncValidators(T),this.valueAccessor=function j(x,c){if(!c)return null;let m,f,T;return Array.isArray(c),c.forEach(G=>{G.constructor===We?m=G:function et(x){return Object.getPrototypeOf(x.constructor)===Fe}(G)?f=G:T=G}),T||f||m||null}(0,G)}ngOnChanges(m){if(this._checkForErrors(),!this._registered||"name"in m){if(this._registered&&(this._checkName(),this.formDirective)){const f=m.name.previousValue;this.formDirective.removeControl({name:f,path:this._getPath(f)})}this._setUpControl()}"isDisabled"in m&&this._updateDisabled(m),function Qr(x,c){if(!x.hasOwnProperty("model"))return!1;const m=x.model;return!!m.isFirstChange()||!Object.is(c,m.currentValue)}(m,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(m){this.viewModel=m,this.update.emit(m)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Tr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(m){Ti.then(()=>{var f;this.control.setValue(m,{emitViewToModelChange:!1}),null===(f=this._changeDetectorRef)||void 0===f||f.markForCheck()})}_updateDisabled(m){const f=m.isDisabled.currentValue,T=0!==f&&(0,a.D6c)(f);Ti.then(()=>{var G;T&&!this.control.disabled?this.control.disable():!T&&this.control.disabled&&this.control.enable(),null===(G=this._changeDetectorRef)||void 0===G||G.markForCheck()})}_getPath(m){return this._parent?function ui(x,c){return[...c.path,x]}(m,this._parent):[m]}}return x.\u0275fac=function(m){return new(m||x)(a.Y36(Nt,9),a.Y36(Q,10),a.Y36(te,10),a.Y36(qe,10),a.Y36(a.sBO,8),a.Y36(hr,8))},x.\u0275dir=a.lG2({type:x,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([to]),a.qOj,a.TTD]}),x})(),Kr=(()=>{class x{}return x.\u0275fac=function(m){return new(m||x)},x.\u0275dir=a.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),x})();const ks={provide:qe,useExisting:(0,a.Gpc)(()=>ri),multi:!0};let ri=(()=>{class x extends Fe{writeValue(m){this.setProperty("value",null==m?"":m)}registerOnChange(m){this.onChange=f=>{m(""==f?null:parseFloat(f))}}}return x.\u0275fac=function(){let c;return function(f){return(c||(c=a.n5z(x)))(f||x)}}(),x.\u0275dir=a.lG2({type:x,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(m,f){1&m&&a.NdJ("input",function(G){return f.onChange(G.target.value)})("blur",function(){return f.onTouched()})},features:[a._Bn([ks]),a.qOj]}),x})(),ss=(()=>{class x{}return x.\u0275fac=function(m){return new(m||x)},x.\u0275mod=a.oAB({type:x}),x.\u0275inj=a.cJS({}),x})();const Ai=new a.OlP("NgModelWithFormControlWarning");let Zo=(()=>{class x{}return x.\u0275fac=function(m){return new(m||x)},x.\u0275mod=a.oAB({type:x}),x.\u0275inj=a.cJS({imports:[ss]}),x})(),Xo=(()=>{class x{static withConfig(m){var f;return{ngModule:x,providers:[{provide:hr,useValue:null!==(f=m.callSetDisabledState)&&void 0!==f?f:mr}]}}}return x.\u0275fac=function(m){return new(m||x)},x.\u0275mod=a.oAB({type:x}),x.\u0275inj=a.cJS({imports:[Zo]}),x})(),So=(()=>{class x{static withConfig(m){var f,T;return{ngModule:x,providers:[{provide:Ai,useValue:null!==(f=m.warnOnNgModelWithFormControl)&&void 0!==f?f:"always"},{provide:hr,useValue:null!==(T=m.callSetDisabledState)&&void 0!==T?T:mr}]}}}return x.\u0275fac=function(m){return new(m||x)},x.\u0275mod=a.oAB({type:x}),x.\u0275inj=a.cJS({imports:[Zo]}),x})()},1481:(zt,rt,k)=>{"use strict";k.d(rt,{Dx:()=>Ir,b2:()=>qn,q6:()=>Fn});var a=k(6895),B=k(4650);class N extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pe extends N{static makeCurrent(){(0,a.HT)(new pe)}onAndCancel(Re,oe,lt){return Re.addEventListener(oe,lt,!1),()=>{Re.removeEventListener(oe,lt,!1)}}dispatchEvent(Re,oe){Re.dispatchEvent(oe)}remove(Re){Re.parentNode&&Re.parentNode.removeChild(Re)}createElement(Re,oe){return(oe=oe||this.getDefaultDocument()).createElement(Re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Re){return Re.nodeType===Node.ELEMENT_NODE}isShadowRoot(Re){return Re instanceof DocumentFragment}getGlobalEventTarget(Re,oe){return"window"===oe?window:"document"===oe?Re:"body"===oe?Re.body:null}getBaseHref(Re){const oe=function ye(){return ue=ue||document.querySelector("base"),ue?ue.getAttribute("href"):null}();return null==oe?null:function Ie(Oe){le=le||document.createElement("a"),le.setAttribute("href",Oe);const Re=le.pathname;return"/"===Re.charAt(0)?Re:`/${Re}`}(oe)}resetBaseElement(){ue=null}getUserAgent(){return window.navigator.userAgent}getCookie(Re){return(0,a.Mx)(document.cookie,Re)}}let le,ue=null;const Le=new B.OlP("TRANSITION_ID"),ae=[{provide:B.ip1,useFactory:function ce(Oe,Re,oe){return()=>{oe.get(B.CZH).donePromise.then(()=>{const lt=(0,a.q)(),At=Re.querySelectorAll(`style[ng-transition="${Oe}"]`);for(let Mt=0;Mt<At.length;Mt++)lt.remove(At[Mt])})}},deps:[Le,a.K0,B.zs3],multi:!0}];let Ce=(()=>{class Oe{build(){return new XMLHttpRequest}}return Oe.\u0275fac=function(oe){return new(oe||Oe)},Oe.\u0275prov=B.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const Fe=new B.OlP("EventManagerPlugins");let qe=(()=>{class Oe{constructor(oe,lt){this._zone=lt,this._eventNameToPlugin=new Map,oe.forEach(At=>At.manager=this),this._plugins=oe.slice().reverse()}addEventListener(oe,lt,At){return this._findPluginFor(lt).addEventListener(oe,lt,At)}addGlobalEventListener(oe,lt,At){return this._findPluginFor(lt).addGlobalEventListener(oe,lt,At)}getZone(){return this._zone}_findPluginFor(oe){const lt=this._eventNameToPlugin.get(oe);if(lt)return lt;const At=this._plugins;for(let Mt=0;Mt<At.length;Mt++){const sn=At[Mt];if(sn.supports(oe))return this._eventNameToPlugin.set(oe,sn),sn}throw new Error(`No event manager plugin found for event ${oe}`)}}return Oe.\u0275fac=function(oe){return new(oe||Oe)(B.LFG(Fe),B.LFG(B.R0b))},Oe.\u0275prov=B.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();class dt{constructor(Re){this._doc=Re}addGlobalEventListener(Re,oe,lt){const At=(0,a.q)().getGlobalEventTarget(this._doc,Re);if(!At)throw new Error(`Unsupported event target ${At} for event ${oe}`);return this.addEventListener(At,oe,lt)}}let be=(()=>{class Oe{constructor(){this._stylesSet=new Set}addStyles(oe){const lt=new Set;oe.forEach(At=>{this._stylesSet.has(At)||(this._stylesSet.add(At),lt.add(At))}),this.onStylesAdded(lt)}onStylesAdded(oe){}getAllStyles(){return Array.from(this._stylesSet)}}return Oe.\u0275fac=function(oe){return new(oe||Oe)},Oe.\u0275prov=B.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),de=(()=>{class Oe extends be{constructor(oe){super(),this._doc=oe,this._hostNodes=new Map,this._hostNodes.set(oe.head,[])}_addStylesToHost(oe,lt,At){oe.forEach(Mt=>{const sn=this._doc.createElement("style");sn.textContent=Mt,At.push(lt.appendChild(sn))})}addHost(oe){const lt=[];this._addStylesToHost(this._stylesSet,oe,lt),this._hostNodes.set(oe,lt)}removeHost(oe){const lt=this._hostNodes.get(oe);lt&&lt.forEach(ne),this._hostNodes.delete(oe)}onStylesAdded(oe){this._hostNodes.forEach((lt,At)=>{this._addStylesToHost(oe,At,lt)})}ngOnDestroy(){this._hostNodes.forEach(oe=>oe.forEach(ne))}}return Oe.\u0275fac=function(oe){return new(oe||Oe)(B.LFG(a.K0))},Oe.\u0275prov=B.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();function ne(Oe){(0,a.q)().remove(Oe)}const Ye={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},We=/%COMP%/g;function Pe(Oe,Re){return Re.flat(100).map(oe=>oe.replace(We,Oe))}function Ve(Oe){return Re=>{if("__ngUnwrap__"===Re)return Oe;!1===Oe(Re)&&(Re.preventDefault(),Re.returnValue=!1)}}let ze=(()=>{class Oe{constructor(oe,lt,At){this.eventManager=oe,this.sharedStylesHost=lt,this.appId=At,this.rendererByCompId=new Map,this.defaultRenderer=new Qe(oe)}createRenderer(oe,lt){if(!oe||!lt)return this.defaultRenderer;switch(lt.encapsulation){case B.ifc.Emulated:{let At=this.rendererByCompId.get(lt.id);return At||(At=new xe(this.eventManager,this.sharedStylesHost,lt,this.appId),this.rendererByCompId.set(lt.id,At)),At.applyToHost(oe),At}case B.ifc.ShadowDom:return new Me(this.eventManager,this.sharedStylesHost,oe,lt);default:if(!this.rendererByCompId.has(lt.id)){const At=Pe(lt.id,lt.styles);this.sharedStylesHost.addStyles(At),this.rendererByCompId.set(lt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Oe.\u0275fac=function(oe){return new(oe||Oe)(B.LFG(qe),B.LFG(de),B.LFG(B.AFp))},Oe.\u0275prov=B.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();class Qe{constructor(Re){this.eventManager=Re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Re,oe){return oe?document.createElementNS(Ye[oe]||oe,Re):document.createElement(Re)}createComment(Re){return document.createComment(Re)}createText(Re){return document.createTextNode(Re)}appendChild(Re,oe){(at(Re)?Re.content:Re).appendChild(oe)}insertBefore(Re,oe,lt){Re&&(at(Re)?Re.content:Re).insertBefore(oe,lt)}removeChild(Re,oe){Re&&Re.removeChild(oe)}selectRootElement(Re,oe){let lt="string"==typeof Re?document.querySelector(Re):Re;if(!lt)throw new Error(`The selector "${Re}" did not match any elements`);return oe||(lt.textContent=""),lt}parentNode(Re){return Re.parentNode}nextSibling(Re){return Re.nextSibling}setAttribute(Re,oe,lt,At){if(At){oe=At+":"+oe;const Mt=Ye[At];Mt?Re.setAttributeNS(Mt,oe,lt):Re.setAttribute(oe,lt)}else Re.setAttribute(oe,lt)}removeAttribute(Re,oe,lt){if(lt){const At=Ye[lt];At?Re.removeAttributeNS(At,oe):Re.removeAttribute(`${lt}:${oe}`)}else Re.removeAttribute(oe)}addClass(Re,oe){Re.classList.add(oe)}removeClass(Re,oe){Re.classList.remove(oe)}setStyle(Re,oe,lt,At){At&(B.JOm.DashCase|B.JOm.Important)?Re.style.setProperty(oe,lt,At&B.JOm.Important?"important":""):Re.style[oe]=lt}removeStyle(Re,oe,lt){lt&B.JOm.DashCase?Re.style.removeProperty(oe):Re.style[oe]=""}setProperty(Re,oe,lt){Re[oe]=lt}setValue(Re,oe){Re.nodeValue=oe}listen(Re,oe,lt){return"string"==typeof Re?this.eventManager.addGlobalEventListener(Re,oe,Ve(lt)):this.eventManager.addEventListener(Re,oe,Ve(lt))}}function at(Oe){return"TEMPLATE"===Oe.tagName&&void 0!==Oe.content}class xe extends Qe{constructor(Re,oe,lt,At){super(Re),this.component=lt;const Mt=Pe(At+"-"+lt.id,lt.styles);oe.addStyles(Mt),this.contentAttr=function te(Oe){return"_ngcontent-%COMP%".replace(We,Oe)}(At+"-"+lt.id),this.hostAttr=function je(Oe){return"_nghost-%COMP%".replace(We,Oe)}(At+"-"+lt.id)}applyToHost(Re){super.setAttribute(Re,this.hostAttr,"")}createElement(Re,oe){const lt=super.createElement(Re,oe);return super.setAttribute(lt,this.contentAttr,""),lt}}class Me extends Qe{constructor(Re,oe,lt,At){super(Re),this.sharedStylesHost=oe,this.hostEl=lt,this.shadowRoot=lt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Mt=Pe(At.id,At.styles);for(let sn=0;sn<Mt.length;sn++){const hr=document.createElement("style");hr.textContent=Mt[sn],this.shadowRoot.appendChild(hr)}}nodeOrShadowRoot(Re){return Re===this.hostEl?this.shadowRoot:Re}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Re,oe){return super.appendChild(this.nodeOrShadowRoot(Re),oe)}insertBefore(Re,oe,lt){return super.insertBefore(this.nodeOrShadowRoot(Re),oe,lt)}removeChild(Re,oe){return super.removeChild(this.nodeOrShadowRoot(Re),oe)}parentNode(Re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Re)))}}let Se=(()=>{class Oe extends dt{constructor(oe){super(oe)}supports(oe){return!0}addEventListener(oe,lt,At){return oe.addEventListener(lt,At,!1),()=>this.removeEventListener(oe,lt,At)}removeEventListener(oe,lt,At){return oe.removeEventListener(lt,At)}}return Oe.\u0275fac=function(oe){return new(oe||Oe)(B.LFG(a.K0))},Oe.\u0275prov=B.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const Je=["alt","control","meta","shift"],Ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},st={alt:Oe=>Oe.altKey,control:Oe=>Oe.ctrlKey,meta:Oe=>Oe.metaKey,shift:Oe=>Oe.shiftKey};let Ze=(()=>{class Oe extends dt{constructor(oe){super(oe)}supports(oe){return null!=Oe.parseEventName(oe)}addEventListener(oe,lt,At){const Mt=Oe.parseEventName(lt),sn=Oe.eventCallback(Mt.fullKey,At,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(oe,Mt.domEventName,sn))}static parseEventName(oe){const lt=oe.toLowerCase().split("."),At=lt.shift();if(0===lt.length||"keydown"!==At&&"keyup"!==At)return null;const Mt=Oe._normalizeKey(lt.pop());let sn="",hr=lt.indexOf("code");if(hr>-1&&(lt.splice(hr,1),sn="code."),Je.forEach(ui=>{const Tr=lt.indexOf(ui);Tr>-1&&(lt.splice(Tr,1),sn+=ui+".")}),sn+=Mt,0!=lt.length||0===Mt.length)return null;const mr={};return mr.domEventName=At,mr.fullKey=sn,mr}static matchEventFullKeyCode(oe,lt){let At=Ue[oe.key]||oe.key,Mt="";return lt.indexOf("code.")>-1&&(At=oe.code,Mt="code."),!(null==At||!At)&&(At=At.toLowerCase()," "===At?At="space":"."===At&&(At="dot"),Je.forEach(sn=>{sn!==At&&(0,st[sn])(oe)&&(Mt+=sn+".")}),Mt+=At,Mt===lt)}static eventCallback(oe,lt,At){return Mt=>{Oe.matchEventFullKeyCode(Mt,oe)&&At.runGuarded(()=>lt(Mt))}}static _normalizeKey(oe){return"esc"===oe?"escape":oe}}return Oe.\u0275fac=function(oe){return new(oe||Oe)(B.LFG(a.K0))},Oe.\u0275prov=B.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const Fn=(0,B.eFA)(B._c5,"browser",[{provide:B.Lbi,useValue:a.bD},{provide:B.g9A,useValue:function nn(){pe.makeCurrent()},multi:!0},{provide:a.K0,useFactory:function Sn(){return(0,B.RDi)(document),document},deps:[]}]),Jn=new B.OlP(""),ur=[{provide:B.rWj,useClass:class fe{addToWindow(Re){B.dqk.getAngularTestability=(lt,At=!0)=>{const Mt=Re.findTestabilityInTree(lt,At);if(null==Mt)throw new Error("Could not find testability for element.");return Mt},B.dqk.getAllAngularTestabilities=()=>Re.getAllTestabilities(),B.dqk.getAllAngularRootElements=()=>Re.getAllRootElements(),B.dqk.frameworkStabilizers||(B.dqk.frameworkStabilizers=[]),B.dqk.frameworkStabilizers.push(lt=>{const At=B.dqk.getAllAngularTestabilities();let Mt=At.length,sn=!1;const hr=function(mr){sn=sn||mr,Mt--,0==Mt&&lt(sn)};At.forEach(function(mr){mr.whenStable(hr)})})}findTestabilityInTree(Re,oe,lt){if(null==oe)return null;const At=Re.getTestability(oe);return null!=At?At:lt?(0,a.q)().isShadowRoot(oe)?this.findTestabilityInTree(Re,oe.host,!0):this.findTestabilityInTree(Re,oe.parentElement,!0):null}},deps:[]},{provide:B.lri,useClass:B.dDg,deps:[B.R0b,B.eoX,B.rWj]},{provide:B.dDg,useClass:B.dDg,deps:[B.R0b,B.eoX,B.rWj]}],Ln=[{provide:B.zSh,useValue:"root"},{provide:B.qLn,useFactory:function wn(){return new B.qLn},deps:[]},{provide:Fe,useClass:Se,multi:!0,deps:[a.K0,B.R0b,B.Lbi]},{provide:Fe,useClass:Ze,multi:!0,deps:[a.K0]},{provide:ze,useClass:ze,deps:[qe,de,B.AFp]},{provide:B.FYo,useExisting:ze},{provide:be,useExisting:de},{provide:de,useClass:de,deps:[a.K0]},{provide:qe,useClass:qe,deps:[Fe,B.R0b]},{provide:a.JF,useClass:Ce,deps:[]},[]];let qn=(()=>{class Oe{constructor(oe){}static withServerTransition(oe){return{ngModule:Oe,providers:[{provide:B.AFp,useValue:oe.appId},{provide:Le,useExisting:B.AFp},ae]}}}return Oe.\u0275fac=function(oe){return new(oe||Oe)(B.LFG(Jn,12))},Oe.\u0275mod=B.oAB({type:Oe}),Oe.\u0275inj=B.cJS({providers:[...Ln,...ur],imports:[a.ez,B.hGG]}),Oe})(),Ir=(()=>{class Oe{constructor(oe){this._doc=oe}getTitle(){return this._doc.title}setTitle(oe){this._doc.title=oe||""}}return Oe.\u0275fac=function(oe){return new(oe||Oe)(B.LFG(a.K0))},Oe.\u0275prov=B.Yz7({token:Oe,factory:function(oe){let lt=null;return lt=oe?new oe:function gr(){return new Ir((0,B.LFG)(a.K0))}(),lt},providedIn:"root"}),Oe})();typeof window<"u"&&window},2435:(zt,rt,k)=>{"use strict";k.d(rt,{gz:()=>ci,y6:()=>co,OD:()=>Dt,eC:()=>Ht,wm:()=>rl,wN:()=>ms,F0:()=>ei,rH:()=>pa,Od:()=>Xi,Bz:()=>Qi,Hx:()=>un});var a=k(4650),B=k(8996),N=k(9646),pe=k(1135),ue=k(6805),ye=k(9751),le=k(4742),Ie=k(4671),Le=k(3268),ce=k(7669),ae=k(1810),fe=k(5403),Ce=k(9672);function Fe(...I){const D=(0,ce.yG)(I),_=(0,ce.jO)(I),{args:w,keys:L}=(0,le.D)(I);if(0===w.length)return(0,B.D)([],D);const W=new ye.y(function qe(I,D,_=Ie.y){return w=>{dt(D,()=>{const{length:L}=I,W=new Array(L);let K=L,Ge=L;for(let It=0;It<L;It++)dt(D,()=>{const Wt=(0,B.D)(I[It],D);let mn=!1;Wt.subscribe((0,fe.x)(w,pn=>{W[It]=pn,mn||(mn=!0,Ge--),Ge||w.next(_(W.slice()))},()=>{--K||w.complete()}))},w)},w)}}(w,D,L?K=>(0,ae.n)(L,K):Ie.y));return _?W.pipe((0,Le.Z)(_)):W}function dt(I,D,_){I?(0,Ce.f)(_,I,D):D()}var be=k(7272),de=k(8421);function ne(I){return new ye.y(D=>{(0,de.Xf)(I()).subscribe(D)})}var Ye=k(9635),We=k(576);function Xe(I,D){const _=(0,We.m)(I)?I:()=>I,w=L=>L.error(_());return new ye.y(D?L=>D.schedule(w,0,L):w)}var De=k(515),we=k(727),Q=k(4482);function te(){return(0,Q.e)((I,D)=>{let _=null;I._refCount++;const w=(0,fe.x)(D,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(_=null);const L=I._connection,W=_;_=null,L&&(!W||L===W)&&L.unsubscribe(),D.unsubscribe()});I.subscribe(w),w.closed||(_=I.connect())})}class je extends ye.y{constructor(D,_){super(),this.source=D,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,Q.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,null==D||D.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new we.w0;const _=this.getSubject();D.add(this.source.subscribe((0,fe.x)(_,void 0,()=>{this._teardown(),_.complete()},w=>{this._teardown(),_.error(w)},()=>this._teardown()))),D.closed&&(this._connection=null,D=we.w0.EMPTY)}return D}refCount(){return te()(this)}}var Pe=k(7579),Ve=k(6895),ze=k(4004),Qe=k(3900),He=k(5698),it=k(8675),at=k(9300),xe=k(5577),Me=k(590);function Se(I,D){return(0,We.m)(D)?(0,xe.z)(I,D,1):(0,xe.z)(I,1)}var Je=k(8505);function Ue(I){return(0,Q.e)((D,_)=>{let W,w=null,L=!1;w=D.subscribe((0,fe.x)(_,void 0,void 0,K=>{W=(0,de.Xf)(I(K,Ue(I)(D))),w?(w.unsubscribe(),w=null,W.subscribe(_)):L=!0})),L&&(w.unsubscribe(),w=null,W.subscribe(_))})}var st=k(5026);function Ze(I){return I<=0?()=>De.E:(0,Q.e)((D,_)=>{let w=[];D.subscribe((0,fe.x)(_,L=>{w.push(L),I<w.length&&w.shift()},()=>{for(const L of w)_.next(L);_.complete()},void 0,()=>{w=null}))})}var _t=k(8068),bt=k(6590);function Ot(I,D){const _=arguments.length>=2;return w=>w.pipe(I?(0,at.h)((L,W)=>I(L,W,w)):Ie.y,Ze(1),_?(0,bt.d)(D):(0,_t.T)(()=>new ue.K))}function nn(I){return(0,Q.e)((D,_)=>{try{D.subscribe(_)}finally{_.add(I)}})}var wn=k(8189),Sn=k(1481);const Ht="primary",Fn=Symbol("RouteTitle");class Jn{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_[0]:_}return null}getAll(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function ur(I){return new Jn(I)}function Ln(I,D,_){const w=_.path.split("/");if(w.length>I.length||"full"===_.pathMatch&&(D.hasChildren()||w.length<I.length))return null;const L={};for(let W=0;W<w.length;W++){const K=w[W],Ge=I[W];if(K.startsWith(":"))L[K.substring(1)]=Ge;else if(K!==Ge.path)return null}return{consumed:I.slice(0,w.length),posParams:L}}function Nt(I,D){const _=I?Object.keys(I):void 0,w=D?Object.keys(D):void 0;if(!_||!w||_.length!=w.length)return!1;let L;for(let W=0;W<_.length;W++)if(L=_[W],!Wn(I[L],D[L]))return!1;return!0}function Wn(I,D){if(Array.isArray(I)&&Array.isArray(D)){if(I.length!==D.length)return!1;const _=[...I].sort(),w=[...D].sort();return _.every((L,W)=>w[W]===L)}return I===D}function Gn(I){return Array.prototype.concat.apply([],I)}function gr(I){return I.length>0?I[I.length-1]:null}function Vn(I,D){for(const _ in I)I.hasOwnProperty(_)&&D(I[_],_)}function ln(I){return(0,a.CqO)(I)?I:(0,a.QGY)(I)?(0,B.D)(Promise.resolve(I)):(0,N.of)(I)}const Qt=!1,gn={exact:function Rt(I,D,_){if(!Et(I.segments,D.segments)||!Fr(I.segments,D.segments,_)||I.numberOfChildren!==D.numberOfChildren)return!1;for(const w in D.children)if(!I.children[w]||!Rt(I.children[w],D.children[w],_))return!1;return!0},subset:Rr},Hn={exact:function cr(I,D){return Nt(I,D)},subset:function dr(I,D){return Object.keys(D).length<=Object.keys(I).length&&Object.keys(D).every(_=>Wn(I[_],D[_]))},ignored:()=>!0};function rn(I,D,_){return gn[_.paths](I.root,D.root,_.matrixParams)&&Hn[_.queryParams](I.queryParams,D.queryParams)&&!("exact"===_.fragment&&I.fragment!==D.fragment)}function Rr(I,D,_){return kn(I,D,D.segments,_)}function kn(I,D,_,w){if(I.segments.length>_.length){const L=I.segments.slice(0,_.length);return!(!Et(L,_)||D.hasChildren()||!Fr(L,_,w))}if(I.segments.length===_.length){if(!Et(I.segments,_)||!Fr(I.segments,_,w))return!1;for(const L in D.children)if(!I.children[L]||!Rr(I.children[L],D.children[L],w))return!1;return!0}{const L=_.slice(0,I.segments.length),W=_.slice(I.segments.length);return!!(Et(I.segments,L)&&Fr(I.segments,L,w)&&I.children[Ht])&&kn(I.children[Ht],D,W,w)}}function Fr(I,D,_){return D.every((w,L)=>Hn[_](I[L].parameters,w.parameters))}class xn{constructor(D=new In([],{}),_={},w=null){this.root=D,this.queryParams=_,this.fragment=w}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ur(this.queryParams)),this._queryParamMap}toString(){return Rn.serialize(this)}}class In{constructor(D,_){this.segments=D,this.children=_,this.parent=null,Vn(_,(w,L)=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ae(this)}}class or{constructor(D,_){this.path=D,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=ur(this.parameters)),this._parameterMap}toString(){return en(this)}}function Et(I,D){return I.length===D.length&&I.every((_,w)=>_.path===D[w].path)}let un=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=a.Yz7({token:I,factory:function(){return new dn},providedIn:"root"}),I})();class dn{parse(D){const _=new mr(D);return new xn(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(D){const _=`/${_e(D.root,!0)}`,w=function Re(I){const D=Object.keys(I).map(_=>{const w=I[_];return Array.isArray(w)?w.map(L=>`${he(_)}=${he(L)}`).join("&"):`${he(_)}=${he(w)}`}).filter(_=>!!_);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${_}${w}${"string"==typeof D.fragment?`#${function X(I){return encodeURI(I)}(D.fragment)}`:""}`}}const Rn=new dn;function Ae(I){return I.segments.map(D=>en(D)).join("/")}function _e(I,D){if(!I.hasChildren())return Ae(I);if(D){const _=I.children[Ht]?_e(I.children[Ht],!1):"",w=[];return Vn(I.children,(L,W)=>{W!==Ht&&w.push(`${W}:${_e(L,!1)}`)}),w.length>0?`${_}(${w.join("//")})`:_}{const _=function qt(I,D){let _=[];return Vn(I.children,(w,L)=>{L===Ht&&(_=_.concat(D(w,L)))}),Vn(I.children,(w,L)=>{L!==Ht&&(_=_.concat(D(w,L)))}),_}(I,(w,L)=>L===Ht?[_e(I.children[Ht],!1)]:[`${L}:${_e(w,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[Ht]?`${Ae(I)}/${_[0]}`:`${Ae(I)}/(${_.join("//")})`}}function $e(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function he(I){return $e(I).replace(/%3B/gi,";")}function ge(I){return $e(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ut(I){return decodeURIComponent(I)}function Tt(I){return ut(I.replace(/\+/g,"%20"))}function en(I){return`${ge(I.path)}${function Oe(I){return Object.keys(I).map(D=>`;${ge(D)}=${ge(I[D])}`).join("")}(I.parameters)}`}const oe=/^[^\/()?;=#]+/;function lt(I){const D=I.match(oe);return D?D[0]:""}const At=/^[^=?&#]+/,sn=/^[^&#]+/;class mr{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new In([],{}):new In([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(D.length>0||Object.keys(_).length>0)&&(w[Ht]=new In(D,_)),w}parseSegment(){const D=lt(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new a.vHH(4009,Qt);return this.capture(D),new or(ut(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const _=lt(this.remaining);if(!_)return;this.capture(_);let w="";if(this.consumeOptional("=")){const L=lt(this.remaining);L&&(w=L,this.capture(w))}D[ut(_)]=ut(w)}parseQueryParam(D){const _=function Mt(I){const D=I.match(At);return D?D[0]:""}(this.remaining);if(!_)return;this.capture(_);let w="";if(this.consumeOptional("=")){const K=function hr(I){const D=I.match(sn);return D?D[0]:""}(this.remaining);K&&(w=K,this.capture(w))}const L=Tt(_),W=Tt(w);if(D.hasOwnProperty(L)){let K=D[L];Array.isArray(K)||(K=[K],D[L]=K),K.push(W)}else D[L]=W}parseParens(D){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=lt(this.remaining),L=this.remaining[w.length];if("/"!==L&&")"!==L&&";"!==L)throw new a.vHH(4010,Qt);let W;w.indexOf(":")>-1?(W=w.slice(0,w.indexOf(":")),this.capture(W),this.capture(":")):D&&(W=Ht);const K=this.parseChildren();_[W]=1===Object.keys(K).length?K[Ht]:new In([],K),this.consumeOptional("//")}return _}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new a.vHH(4011,Qt)}}function ui(I){return I.segments.length>0?new In([],{[Ht]:I}):I}function Tr(I){const D={};for(const w of Object.keys(I.children)){const W=Tr(I.children[w]);(W.segments.length>0||W.hasChildren())&&(D[w]=W)}return function Kn(I){if(1===I.numberOfChildren&&I.children[Ht]){const D=I.children[Ht];return new In(I.segments.concat(D.segments),D.children)}return I}(new In(I.segments,D))}function jr(I){return I instanceof xn}function Nn(I,D,_,w,L){var W;if(0===_.length)return rr(D.root,D.root,D.root,w,L);const K=function Jt(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new Vr(!0,0,I);let D=0,_=!1;const w=I.reduce((L,W,K)=>{if("object"==typeof W&&null!=W){if(W.outlets){const Ge={};return Vn(W.outlets,(It,Wt)=>{Ge[Wt]="string"==typeof It?It.split("/"):It}),[...L,{outlets:Ge}]}if(W.segmentPath)return[...L,W.segmentPath]}return"string"!=typeof W?[...L,W]:0===K?(W.split("/").forEach((Ge,It)=>{0==It&&"."===Ge||(0==It&&""===Ge?_=!0:".."===Ge?D++:""!=Ge&&L.push(Ge))}),L):[...L,W]},[]);return new Vr(_,D,w)}(_);return K.toRoot()?rr(D.root,D.root,new In([],{}),w,L):function Ge(Wt){var mn;const pn=function Yr(I,D,_,w){if(I.isAbsolute)return new _n(D.root,!0,0);if(-1===w)return new _n(_,_===D.root,0);return function Qr(I,D,_){let w=I,L=D,W=_;for(;W>L;){if(W-=L,w=w.parent,!w)throw new a.vHH(4005,!1);L=w.segments.length}return new _n(w,!1,L-W)}(_,w+(Zn(I.commands[0])?0:1),I.numberOfDoubleDots)}(K,D,null===(mn=I.snapshot)||void 0===mn?void 0:mn._urlSegment,Wt),wr=pn.processChildren?j(pn.segmentGroup,pn.index,K.commands):F(pn.segmentGroup,pn.index,K.commands);return rr(D.root,pn.segmentGroup,wr,w,L)}(null===(W=I.snapshot)||void 0===W?void 0:W._lastPathIndex)}function Zn(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Ar(I){return"object"==typeof I&&null!=I&&I.outlets}function rr(I,D,_,w,L){let K,W={};w&&Vn(w,(It,Wt)=>{W[Wt]=Array.isArray(It)?It.map(mn=>`${mn}`):`${It}`}),K=I===D?_:Lr(I,D,_);const Ge=ui(Tr(K));return new xn(Ge,W,L)}function Lr(I,D,_){const w={};return Vn(I.children,(L,W)=>{w[W]=L===D?_:Lr(L,D,_)}),new In(I.segments,w)}class Vr{constructor(D,_,w){if(this.isAbsolute=D,this.numberOfDoubleDots=_,this.commands=w,D&&w.length>0&&Zn(w[0]))throw new a.vHH(4003,!1);const L=w.find(Ar);if(L&&L!==gr(w))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _n{constructor(D,_,w){this.segmentGroup=D,this.processChildren=_,this.index=w}}function F(I,D,_){if(I||(I=new In([],{})),0===I.segments.length&&I.hasChildren())return j(I,D,_);const w=function ie(I,D,_){let w=0,L=D;const W={match:!1,pathIndex:0,commandIndex:0};for(;L<I.segments.length;){if(w>=_.length)return W;const K=I.segments[L],Ge=_[w];if(Ar(Ge))break;const It=`${Ge}`,Wt=w<_.length-1?_[w+1]:null;if(L>0&&void 0===It)break;if(It&&Wt&&"object"==typeof Wt&&void 0===Wt.outlets){if(!ke(It,Wt,K))return W;w+=2}else{if(!ke(It,{},K))return W;w++}L++}return{match:!0,pathIndex:L,commandIndex:w}}(I,D,_),L=_.slice(w.commandIndex);if(w.match&&w.pathIndex<I.segments.length){const W=new In(I.segments.slice(0,w.pathIndex),{});return W.children[Ht]=new In(I.segments.slice(w.pathIndex),I.children),j(W,0,L)}return w.match&&0===L.length?new In(I.segments,{}):w.match&&!I.hasChildren()?me(I,D,_):w.match?j(I,0,L):me(I,D,_)}function j(I,D,_){if(0===_.length)return new In(I.segments,{});{const w=function et(I){return Ar(I[0])?I[0].outlets:{[Ht]:I}}(_),L={};return!w[Ht]&&I.children[Ht]&&1===I.numberOfChildren&&0===I.children[Ht].segments.length?j(I.children[Ht],D,_):(Vn(w,(W,K)=>{"string"==typeof W&&(W=[W]),null!==W&&(L[K]=F(I.children[K],D,W))}),Vn(I.children,(W,K)=>{void 0===w[K]&&(L[K]=W)}),new In(I.segments,L))}}function me(I,D,_){const w=I.segments.slice(0,D);let L=0;for(;L<_.length;){const W=_[L];if(Ar(W)){const It=Be(W.outlets);return new In(w,It)}if(0===L&&Zn(_[0])){w.push(new or(I.segments[D].path,ee(_[0]))),L++;continue}const K=Ar(W)?W.outlets[Ht]:`${W}`,Ge=L<_.length-1?_[L+1]:null;K&&Ge&&Zn(Ge)?(w.push(new or(K,ee(Ge))),L+=2):(w.push(new or(K,{})),L++)}return new In(w,{})}function Be(I){const D={};return Vn(I,(_,w)=>{"string"==typeof _&&(_=[_]),null!==_&&(D[w]=me(new In([],{}),0,_))}),D}function ee(I){const D={};return Vn(I,(_,w)=>D[w]=`${_}`),D}function ke(I,D,_){return I==_.path&&Nt(D,_.parameters)}const Ke="imperative";class pt{constructor(D,_){this.id=D,this.url=_}}class Dt extends pt{constructor(D,_,w="imperative",L=null){super(D,_),this.type=0,this.navigationTrigger=w,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bt extends pt{constructor(D,_,w){super(D,_),this.urlAfterRedirects=w,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class on extends pt{constructor(D,_,w,L){super(D,_),this.reason=w,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class an extends pt{constructor(D,_,w,L){super(D,_),this.reason=w,this.code=L,this.type=16}}class er extends pt{constructor(D,_,w,L){super(D,_),this.error=w,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ni extends pt{constructor(D,_,w,L){super(D,_),this.urlAfterRedirects=w,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tr extends pt{constructor(D,_,w,L){super(D,_),this.urlAfterRedirects=w,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dr extends pt{constructor(D,_,w,L,W){super(D,_),this.urlAfterRedirects=w,this.state=L,this.shouldActivate=W,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Yi extends pt{constructor(D,_,w,L){super(D,_),this.urlAfterRedirects=w,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _o extends pt{constructor(D,_,w,L){super(D,_),this.urlAfterRedirects=w,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class to{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ti{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yi{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kr{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ks{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ii{constructor(D,_,w){this.routerEvent=D,this.position=_,this.anchor=w,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let as=(()=>{class I{createUrlTree(_,w,L,W,K,Ge){return Nn(_||w.root,L,W,K,Ge)}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac}),I})(),Ss=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=a.Yz7({token:I,factory:function(D){return as.\u0275fac(D)},providedIn:"root"}),I})();class Eo{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const _=this.pathFromRoot(D);return _.length>1?_[_.length-2]:null}children(D){const _=Ai(D,this._root);return _?_.children.map(w=>w.value):[]}firstChild(D){const _=Ai(D,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(D){const _=ao(D,this._root);return _.length<2?[]:_[_.length-2].children.map(L=>L.value).filter(L=>L!==D)}pathFromRoot(D){return ao(D,this._root).map(_=>_.value)}}function Ai(I,D){if(I===D.value)return D;for(const _ of D.children){const w=Ai(I,_);if(w)return w}return null}function ao(I,D){if(I===D.value)return[D];for(const _ of D.children){const w=ao(I,_);if(w.length)return w.unshift(D),w}return[]}class Mi{constructor(D,_){this.value=D,this.children=_}toString(){return`TreeNode(${this.value})`}}function no(I){const D={};return I&&I.children.forEach(_=>D[_.value.outlet]=_),D}class qo extends Eo{constructor(D,_){super(D),this.snapshot=_,Po(this,D)}toString(){return this.snapshot.toString()}}function ps(I,D){const _=function Io(I,D){const K=new Ki([],{},{},"",{},Ht,D,null,I.root,-1,{});return new Ts("",new Mi(K,[]))}(I,D),w=new pe.X([new or("",{})]),L=new pe.X({}),W=new pe.X({}),K=new pe.X({}),Ge=new pe.X(""),It=new ci(w,L,K,Ge,W,Ht,D,_.root);return It.snapshot=_.root,new qo(new Mi(It,[]),_)}class ci{constructor(D,_,w,L,W,K,Ge,It){var Wt,mn;this.url=D,this.params=_,this.queryParams=w,this.fragment=L,this.data=W,this.outlet=K,this.component=Ge,this.title=null!==(Wt=null===(mn=this.data)||void 0===mn?void 0:mn.pipe((0,ze.U)(pn=>pn[Fn])))&&void 0!==Wt?Wt:(0,N.of)(void 0),this._futureSnapshot=It}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ze.U)(D=>ur(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ze.U)(D=>ur(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yo(I,D="emptyOnly"){const _=I.pathFromRoot;let w=0;if("always"!==D)for(w=_.length-1;w>=1;){const L=_[w],W=_[w-1];if(L.routeConfig&&""===L.routeConfig.path)w--;else{if(W.component)break;w--}}return function Ui(I){return I.reduce((D,_)=>{var w;return{params:{...D.params,..._.params},data:{...D.data,..._.data},resolve:{..._.data,...D.resolve,...null===(w=_.routeConfig)||void 0===w?void 0:w.data,..._._resolvedData}}},{params:{},data:{},resolve:{}})}(_.slice(w))}class Ki{get title(){var D;return null===(D=this.data)||void 0===D?void 0:D[Fn]}constructor(D,_,w,L,W,K,Ge,It,Wt,mn,pn){this.url=D,this.params=_,this.queryParams=w,this.fragment=L,this.data=W,this.outlet=K,this.component=Ge,this.routeConfig=It,this._urlSegment=Wt,this._lastPathIndex=mn,this._resolve=pn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ur(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ur(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ts extends Eo{constructor(D,_){super(_),this.url=D,Po(this,_)}toString(){return Di(this._root)}}function Po(I,D){D.value._routerState=I,D.children.forEach(_=>Po(I,_))}function Di(I){const D=I.children.length>0?` { ${I.children.map(Di).join(", ")} } `:"";return`${I.value}${D}`}function Pi(I){if(I.snapshot){const D=I.snapshot,_=I._futureSnapshot;I.snapshot=_,Nt(D.queryParams,_.queryParams)||I.queryParams.next(_.queryParams),D.fragment!==_.fragment&&I.fragment.next(_.fragment),Nt(D.params,_.params)||I.params.next(_.params),function qn(I,D){if(I.length!==D.length)return!1;for(let _=0;_<I.length;++_)if(!Nt(I[_],D[_]))return!1;return!0}(D.url,_.url)||I.url.next(_.url),Nt(D.data,_.data)||I.data.next(_.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function bi(I,D){const _=Nt(I.params,D.params)&&function xt(I,D){return Et(I,D)&&I.every((_,w)=>Nt(_.parameters,D[w].parameters))}(I.url,D.url);return _&&!(!I.parent!=!D.parent)&&(!I.parent||bi(I.parent,D.parent))}function uo(I,D,_){if(_&&I.shouldReuseRoute(D.value,_.value.snapshot)){const w=_.value;w._futureSnapshot=D.value;const L=function As(I,D,_){return D.children.map(w=>{for(const L of _.children)if(I.shouldReuseRoute(w.value,L.value.snapshot))return uo(I,w,L);return uo(I,w)})}(I,D,_);return new Mi(w,L)}{if(I.shouldAttach(D.value)){const W=I.retrieve(D.value);if(null!==W){const K=W.route;return K.value._futureSnapshot=D.value,K.children=D.children.map(Ge=>uo(I,Ge)),K}}const w=function ar(I){return new ci(new pe.X(I.url),new pe.X(I.params),new pe.X(I.queryParams),new pe.X(I.fragment),new pe.X(I.data),I.outlet,I.component,I)}(D.value),L=D.children.map(W=>uo(I,W));return new Mi(w,L)}}const xi="ngNavigationCancelingError";function ki(I,D){const{redirectTo:_,navigationBehaviorOptions:w}=jr(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,L=ji(!1,0,D);return L.url=_,L.navigationBehaviorOptions=w,L}function ji(I,D,_){const w=new Error("NavigationCancelingError: "+(I||""));return w[xi]=!0,w.cancellationCode=D,_&&(w.url=_),w}function ko(I){return Ri(I)&&jr(I.url)}function Ri(I){return I&&I[xi]}class Hi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new co,this.attachRef=null}}let co=(()=>{class I{constructor(){this.contexts=new Map}onChildOutletCreated(_,w){const L=this.getOrCreateContext(_);L.outlet=w,this.contexts.set(_,L)}onChildOutletDestroyed(_){const w=this.getContext(_);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let w=this.getContext(_);return w||(w=new Hi,this.contexts.set(_,w)),w}getContext(_){return this.contexts.get(_)||null}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const Do=!1;let Ko=(()=>{class I{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ht,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(co),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb)}ngOnChanges(_){if(_.name){const{firstChange:w,previousValue:L}=_.name;if(w)return;this.isTrackedInParentContexts(L)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(L)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(_){var w;return(null===(w=this.parentContexts.getContext(_))||void 0===w?void 0:w.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);null!=_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,Do);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,Do);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,Do);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,w){this.activated=_,this._activatedRoute=w,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,w){if(this.isActivated)throw new a.vHH(4013,Do);this._activatedRoute=_;const L=this.location,K=_.snapshot.component,Ge=this.parentContexts.getOrCreateContext(this.name).children,It=new Ni(_,Ge,L.injector);if(w&&function Hr(I){return!!I.resolveComponentFactory}(w)){const Wt=w.resolveComponentFactory(K);this.activated=L.createComponent(Wt,L.length,It)}else this.activated=L.createComponent(K,{index:L.length,injector:It,environmentInjector:null!=w?w:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275dir=a.lG2({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),I})();class Ni{constructor(D,_,w){this.route=D,this.childContexts=_,this.parent=w}get(D,_){return D===ci?this.route:D===co?this.childContexts:this.parent.get(D,_)}}let $r=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275cmp=a.Xpm({type:I,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(_,w){1&_&&a._UZ(0,"router-outlet")},dependencies:[Ko],encapsulation:2}),I})();function bo(I,D){var _;return I.providers&&!I._injector&&(I._injector=(0,a.MMx)(I.providers,D,`Route: ${I.path}`)),null!==(_=I._injector)&&void 0!==_?_:D}function fo(I){const D=I.children&&I.children.map(fo),_=D?{...I,children:D}:{...I};return!_.component&&!_.loadComponent&&(D||_.loadChildren)&&_.outlet&&_.outlet!==Ht&&(_.component=$r),_}function ai(I){return I.outlet||Ht}function Xs(I,D){const _=I.filter(w=>ai(w)===D);return _.push(...I.filter(w=>ai(w)!==D)),_}function vi(I){var D;if(!I)return null;if(null!==(D=I.routeConfig)&&void 0!==D&&D._injector)return I.routeConfig._injector;for(let _=I.parent;_;_=_.parent){const w=_.routeConfig;if(null!=w&&w._loadedInjector)return w._loadedInjector;if(null!=w&&w._injector)return w._injector}return null}class Fo{constructor(D,_,w,L){this.routeReuseStrategy=D,this.futureState=_,this.currState=w,this.forwardEvent=L}activate(D){const _=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,w,D),Pi(this.futureState.root),this.activateChildRoutes(_,w,D)}deactivateChildRoutes(D,_,w){const L=no(_);D.children.forEach(W=>{const K=W.value.outlet;this.deactivateRoutes(W,L[K],w),delete L[K]}),Vn(L,(W,K)=>{this.deactivateRouteAndItsChildren(W,w)})}deactivateRoutes(D,_,w){const L=D.value,W=_?_.value:null;if(L===W)if(L.component){const K=w.getContext(L.outlet);K&&this.deactivateChildRoutes(D,_,K.children)}else this.deactivateChildRoutes(D,_,w);else W&&this.deactivateRouteAndItsChildren(_,w)}deactivateRouteAndItsChildren(D,_){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,_):this.deactivateRouteAndOutlet(D,_)}detachAndStoreRouteSubtree(D,_){const w=_.getContext(D.value.outlet),L=w&&D.value.component?w.children:_,W=no(D);for(const K of Object.keys(W))this.deactivateRouteAndItsChildren(W[K],L);if(w&&w.outlet){const K=w.outlet.detach(),Ge=w.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:K,route:D,contexts:Ge})}}deactivateRouteAndOutlet(D,_){const w=_.getContext(D.value.outlet),L=w&&D.value.component?w.children:_,W=no(D);for(const K of Object.keys(W))this.deactivateRouteAndItsChildren(W[K],L);w&&w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated(),w.attachRef=null,w.resolver=null,w.route=null)}activateChildRoutes(D,_,w){const L=no(_);D.children.forEach(W=>{this.activateRoutes(W,L[W.value.outlet],w),this.forwardEvent(new ri(W.value.snapshot))}),D.children.length&&this.forwardEvent(new Kr(D.value.snapshot))}activateRoutes(D,_,w){const L=D.value,W=_?_.value:null;if(Pi(L),L===W)if(L.component){const Ge=w.getOrCreateContext(L.outlet);this.activateChildRoutes(D,_,Ge.children)}else this.activateChildRoutes(D,_,w);else if(L.component){const Ge=w.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const It=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),Ge.children.onOutletReAttached(It.contexts),Ge.attachRef=It.componentRef,Ge.route=It.route.value,Ge.outlet&&Ge.outlet.attach(It.componentRef,It.route.value),Pi(It.route.value),this.activateChildRoutes(D,null,Ge.children)}else{var K;const It=vi(L.snapshot),Wt=null!==(K=null==It?void 0:It.get(a._Vd))&&void 0!==K?K:null;Ge.attachRef=null,Ge.route=L,Ge.resolver=Wt,Ge.injector=It,Ge.outlet&&Ge.outlet.activateWith(L,Ge.injector),this.activateChildRoutes(D,null,Ge.children)}}else this.activateChildRoutes(D,null,w)}}class Un{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class Lo{constructor(D,_){this.component=D,this.route=_}}function Ns(I,D,_){const w=I._root;return io(w,D?D._root:null,_,[w.value])}function Bo(I,D){const _=Symbol(),w=D.get(I,_);return w===_?"function"!=typeof I||(0,a.Z0I)(I)?D.get(I):I:w}function io(I,D,_,w,L={canDeactivateChecks:[],canActivateChecks:[]}){const W=no(D);return I.children.forEach(K=>{(function Fs(I,D,_,w,L={canDeactivateChecks:[],canActivateChecks:[]}){const W=I.value,K=D?D.value:null,Ge=_?_.getContext(I.value.outlet):null;if(K&&W.routeConfig===K.routeConfig){const It=function Xo(I,D,_){if("function"==typeof _)return _(I,D);switch(_){case"pathParamsChange":return!Et(I.url,D.url);case"pathParamsOrQueryParamsChange":return!Et(I.url,D.url)||!Nt(I.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bi(I,D)||!Nt(I.queryParams,D.queryParams);default:return!bi(I,D)}}(K,W,W.routeConfig.runGuardsAndResolvers);It?L.canActivateChecks.push(new Un(w)):(W.data=K.data,W._resolvedData=K._resolvedData),io(I,D,W.component?Ge?Ge.children:null:_,w,L),It&&Ge&&Ge.outlet&&Ge.outlet.isActivated&&L.canDeactivateChecks.push(new Lo(Ge.outlet.component,K))}else K&&So(D,Ge,L),L.canActivateChecks.push(new Un(w)),io(I,null,W.component?Ge?Ge.children:null:_,w,L)})(K,W[K.value.outlet],_,w.concat([K.value]),L),delete W[K.value.outlet]}),Vn(W,(K,Ge)=>So(K,_.getContext(Ge),L)),L}function So(I,D,_){const w=no(I),L=I.value;Vn(w,(W,K)=>{So(W,L.component?D?D.children.getContext(K):null:D,_)}),_.canDeactivateChecks.push(new Lo(L.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,L))}function x(I){return"function"==typeof I}function Tn(I){return I instanceof ue.K||"EmptyError"===(null==I?void 0:I.name)}const Xn=Symbol("INITIAL_VALUE");function lr(){return(0,Qe.w)(I=>Fe(I.map(D=>D.pipe((0,He.q)(1),(0,it.O)(Xn)))).pipe((0,ze.U)(D=>{for(const _ of D)if(!0!==_){if(_===Xn)return Xn;if(!1===_||_ instanceof xn)return _}return!0}),(0,at.h)(D=>D!==Xn),(0,He.q)(1)))}function Ha(I){return(0,Ye.z)((0,Je.b)(D=>{if(jr(D))throw ki(0,D)}),(0,ze.U)(D=>!0===D))}const Vo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Sa(I,D,_,w,L){const W=$s(I,D,_);return W.matched?function ls(I,D,_,w){const L=D.canMatch;if(!L||0===L.length)return(0,N.of)(!0);const W=L.map(K=>{const Ge=Bo(K,I);return ln(function ot(I){return I&&x(I.canMatch)}(Ge)?Ge.canMatch(D,_):I.runInContext(()=>Ge(D,_)))});return(0,N.of)(W).pipe(lr(),Ha())}(w=bo(D,w),D,_).pipe((0,ze.U)(K=>!0===K?W:{...Vo})):(0,N.of)(W)}function $s(I,D,_){var w;if(""===D.path)return"full"===D.pathMatch&&(I.hasChildren()||_.length>0)?{...Vo}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const W=(D.matcher||Ln)(_,I,D);if(!W)return{...Vo};const K={};Vn(W.posParams,(It,Wt)=>{K[Wt]=It.path});const Ge=W.consumed.length>0?{...K,...W.consumed[W.consumed.length-1].parameters}:K;return{matched:!0,consumedSegments:W.consumed,remainingSegments:_.slice(W.consumed.length),parameters:Ge,positionalParamSegments:null!==(w=W.posParams)&&void 0!==w?w:{}}}function xs(I,D,_,w){if(_.length>0&&function Aa(I,D,_){return _.some(w=>da(I,D,w)&&ai(w)!==Ht)}(I,_,w)){const W=new In(D,function Js(I,D,_,w){const L={};L[Ht]=w,w._sourceSegment=I,w._segmentIndexShift=D.length;for(const W of _)if(""===W.path&&ai(W)!==Ht){const K=new In([],{});K._sourceSegment=I,K._segmentIndexShift=D.length,L[ai(W)]=K}return L}(I,D,w,new In(_,I.children)));return W._sourceSegment=I,W._segmentIndexShift=D.length,{segmentGroup:W,slicedSegments:[]}}if(0===_.length&&function el(I,D,_){return _.some(w=>da(I,D,w))}(I,_,w)){const W=new In(I.segments,function Ta(I,D,_,w,L){const W={};for(const K of w)if(da(I,_,K)&&!L[ai(K)]){const Ge=new In([],{});Ge._sourceSegment=I,Ge._segmentIndexShift=D.length,W[ai(K)]=Ge}return{...L,...W}}(I,D,_,w,I.children));return W._sourceSegment=I,W._segmentIndexShift=D.length,{segmentGroup:W,slicedSegments:_}}const L=new In(I.segments,I.children);return L._sourceSegment=I,L._segmentIndexShift=D.length,{segmentGroup:L,slicedSegments:_}}function da(I,D,_){return(!(I.hasChildren()||D.length>0)||"full"!==_.pathMatch)&&""===_.path}function us(I,D,_,w){return!!(ai(I)===w||w!==Ht&&da(D,_,I))&&("**"===I.path||$s(D,I,_).matched)}function za(I,D,_){return 0===D.length&&!I.children[_]}const Ma=!1;class Bs{constructor(D){this.segmentGroup=D||null}}class zi{constructor(D){this.urlTree=D}}function Gi(I){return Xe(new Bs(I))}function ir(I){return Xe(new zi(I))}class tl{constructor(D,_,w,L,W){this.injector=D,this.configLoader=_,this.urlSerializer=w,this.urlTree=L,this.config=W,this.allowRedirects=!0}apply(){const D=xs(this.urlTree.root,[],[],this.config).segmentGroup,_=new In(D.segments,D.children);return this.expandSegmentGroup(this.injector,this.config,_,Ht).pipe((0,ze.U)(W=>this.createUrlTree(Tr(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ue(W=>{if(W instanceof zi)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof Bs?this.noMatchError(W):W}))}match(D){return this.expandSegmentGroup(this.injector,this.config,D.root,Ht).pipe((0,ze.U)(L=>this.createUrlTree(Tr(L),D.queryParams,D.fragment))).pipe(Ue(L=>{throw L instanceof Bs?this.noMatchError(L):L}))}noMatchError(D){return new a.vHH(4002,Ma)}createUrlTree(D,_,w){const L=ui(D);return new xn(L,_,w)}expandSegmentGroup(D,_,w,L){return 0===w.segments.length&&w.hasChildren()?this.expandChildren(D,_,w).pipe((0,ze.U)(W=>new In([],W))):this.expandSegment(D,w,_,w.segments,L,!0)}expandChildren(D,_,w){const L=[];for(const W of Object.keys(w.children))"primary"===W?L.unshift(W):L.push(W);return(0,B.D)(L).pipe(Se(W=>{const K=w.children[W],Ge=Xs(_,W);return this.expandSegmentGroup(D,Ge,K,W).pipe((0,ze.U)(It=>({segment:It,outlet:W})))}),(0,st.R)((W,K)=>(W[K.outlet]=K.segment,W),{}),Ot())}expandSegment(D,_,w,L,W,K){return(0,B.D)(w).pipe(Se(Ge=>this.expandSegmentAgainstRoute(D,_,w,Ge,L,W,K).pipe(Ue(Wt=>{if(Wt instanceof Bs)return(0,N.of)(null);throw Wt}))),(0,Me.P)(Ge=>!!Ge),Ue((Ge,It)=>{if(Tn(Ge))return za(_,L,W)?(0,N.of)(new In([],{})):Gi(_);throw Ge}))}expandSegmentAgainstRoute(D,_,w,L,W,K,Ge){return us(L,_,W,K)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(D,_,L,W,K):Ge&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,_,w,L,W,K):Gi(_):Gi(_)}expandSegmentAgainstRouteUsingRedirect(D,_,w,L,W,K){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,w,L,K):this.expandRegularSegmentAgainstRouteUsingRedirect(D,_,w,L,W,K)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,_,w,L){const W=this.applyRedirectCommands([],w.redirectTo,{});return w.redirectTo.startsWith("/")?ir(W):this.lineralizeSegments(w,W).pipe((0,xe.z)(K=>{const Ge=new In(K,{});return this.expandSegment(D,Ge,_,K,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,_,w,L,W,K){const{matched:Ge,consumedSegments:It,remainingSegments:Wt,positionalParamSegments:mn}=$s(_,L,W);if(!Ge)return Gi(_);const pn=this.applyRedirectCommands(It,L.redirectTo,mn);return L.redirectTo.startsWith("/")?ir(pn):this.lineralizeSegments(L,pn).pipe((0,xe.z)(wr=>this.expandSegment(D,_,w,wr.concat(Wt),K,!1)))}matchSegmentAgainstRoute(D,_,w,L,W){return"**"===w.path?(D=bo(w,D),w.loadChildren?(w._loadedRoutes?(0,N.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):this.configLoader.loadChildren(D,w)).pipe((0,ze.U)(Ge=>(w._loadedRoutes=Ge.routes,w._loadedInjector=Ge.injector,new In(L,{})))):(0,N.of)(new In(L,{}))):Sa(_,w,L,D).pipe((0,Qe.w)(({matched:K,consumedSegments:Ge,remainingSegments:It})=>{var Wt;return K?(D=null!==(Wt=w._injector)&&void 0!==Wt?Wt:D,this.getChildConfig(D,w,L).pipe((0,xe.z)(pn=>{var wr;const pi=null!==(wr=pn.injector)&&void 0!==wr?wr:D,gi=pn.routes,{segmentGroup:Uo,slicedSegments:R}=xs(_,Ge,It,gi),$=new In(Uo.segments,Uo.children);if(0===R.length&&$.hasChildren())return this.expandChildren(pi,gi,$).pipe((0,ze.U)(vt=>new In(Ge,vt)));if(0===gi.length&&0===R.length)return(0,N.of)(new In(Ge,{}));const Y=ai(w)===W;return this.expandSegment(pi,$,gi,R,Y?Ht:W,!0).pipe((0,ze.U)(nt=>new In(Ge.concat(nt.segments),nt.children)))}))):Gi(_)}))}getChildConfig(D,_,w){return _.children?(0,N.of)({routes:_.children,injector:D}):_.loadChildren?void 0!==_._loadedRoutes?(0,N.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function Ls(I,D,_,w){const L=D.canLoad;if(void 0===L||0===L.length)return(0,N.of)(!0);const W=L.map(K=>{const Ge=Bo(K,I);return ln(function m(I){return I&&x(I.canLoad)}(Ge)?Ge.canLoad(D,_):I.runInContext(()=>Ge(D,_)))});return(0,N.of)(W).pipe(lr(),Ha())}(D,_,w).pipe((0,xe.z)(L=>L?this.configLoader.loadChildren(D,_).pipe((0,Je.b)(W=>{_._loadedRoutes=W.routes,_._loadedInjector=W.injector})):function Ga(I){return Xe(ji(Ma,3))}())):(0,N.of)({routes:[],injector:D})}lineralizeSegments(D,_){let w=[],L=_.root;for(;;){if(w=w.concat(L.segments),0===L.numberOfChildren)return(0,N.of)(w);if(L.numberOfChildren>1||!L.children[Ht])return Xe(new a.vHH(4e3,Ma));L=L.children[Ht]}}applyRedirectCommands(D,_,w){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),D,w)}applyRedirectCreateUrlTree(D,_,w,L){const W=this.createSegmentGroup(D,_.root,w,L);return new xn(W,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(D,_){const w={};return Vn(D,(L,W)=>{if("string"==typeof L&&L.startsWith(":")){const Ge=L.substring(1);w[W]=_[Ge]}else w[W]=L}),w}createSegmentGroup(D,_,w,L){const W=this.createSegments(D,_.segments,w,L);let K={};return Vn(_.children,(Ge,It)=>{K[It]=this.createSegmentGroup(D,Ge,w,L)}),new In(W,K)}createSegments(D,_,w,L){return _.map(W=>W.path.startsWith(":")?this.findPosParam(D,W,L):this.findOrReturn(W,w))}findPosParam(D,_,w){const L=w[_.path.substring(1)];if(!L)throw new a.vHH(4001,Ma);return L}findOrReturn(D,_){let w=0;for(const L of _){if(L.path===D.path)return _.splice(w),L;w++}return D}}class ta{}class H{constructor(D,_,w,L,W,K,Ge){this.injector=D,this.rootComponentType=_,this.config=w,this.urlTree=L,this.url=W,this.paramsInheritanceStrategy=K,this.urlSerializer=Ge}recognize(){const D=xs(this.urlTree.root,[],[],this.config.filter(_=>void 0===_.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,Ht).pipe((0,ze.U)(_=>{if(null===_)return null;const w=new Ki([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new Mi(w,_),W=new Ts(this.url,L);return this.inheritParamsAndData(W._root),W}))}inheritParamsAndData(D){const _=D.value,w=Yo(_,this.paramsInheritanceStrategy);_.params=Object.freeze(w.params),_.data=Object.freeze(w.data),D.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(D,_,w,L){return 0===w.segments.length&&w.hasChildren()?this.processChildren(D,_,w):this.processSegment(D,_,w,w.segments,L)}processChildren(D,_,w){return(0,B.D)(Object.keys(w.children)).pipe(Se(L=>{const W=w.children[L],K=Xs(_,L);return this.processSegmentGroup(D,K,W,L)}),(0,st.R)((L,W)=>L&&W?(L.push(...W),L):null),function Gt(I,D=!1){return(0,Q.e)((_,w)=>{let L=0;_.subscribe((0,fe.x)(w,W=>{const K=I(W,L++);(K||D)&&w.next(W),!K&&w.complete()}))})}(L=>null!==L),(0,bt.d)(null),Ot(),(0,ze.U)(L=>{if(null===L)return null;const W=ct(L);return function P(I){I.sort((D,_)=>D.value.outlet===Ht?-1:_.value.outlet===Ht?1:D.value.outlet.localeCompare(_.value.outlet))}(W),W}))}processSegment(D,_,w,L,W){return(0,B.D)(_).pipe(Se(K=>{var Ge;return this.processSegmentAgainstRoute(null!==(Ge=K._injector)&&void 0!==Ge?Ge:D,K,w,L,W)}),(0,Me.P)(K=>!!K),Ue(K=>{if(Tn(K))return za(w,L,W)?(0,N.of)([]):(0,N.of)(null);throw K}))}processSegmentAgainstRoute(D,_,w,L,W){if(_.redirectTo||!us(_,w,L,W))return(0,N.of)(null);let K;if("**"===_.path){var Ge,It;const Wt=L.length>0?gr(L).parameters:{},mn=nr(w)+L.length,pn=new Ki(L,Wt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,St(_),ai(_),null!==(Ge=null!==(It=_.component)&&void 0!==It?It:_._loadedComponent)&&void 0!==Ge?Ge:null,_,fn(w),mn,Dn(_));K=(0,N.of)({snapshot:pn,consumedSegments:[],remainingSegments:[]})}else K=Sa(w,_,L,D).pipe((0,ze.U)(({matched:Wt,consumedSegments:mn,remainingSegments:pn,parameters:wr})=>{var pi,gi;if(!Wt)return null;const Uo=nr(w)+mn.length;return{snapshot:new Ki(mn,wr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,St(_),ai(_),null!==(pi=null!==(gi=_.component)&&void 0!==gi?gi:_._loadedComponent)&&void 0!==pi?pi:null,_,fn(w),Uo,Dn(_)),consumedSegments:mn,remainingSegments:pn}}));return K.pipe((0,Qe.w)(Wt=>{var mn,pn;if(null===Wt)return(0,N.of)(null);const{snapshot:wr,consumedSegments:pi,remainingSegments:gi}=Wt;D=null!==(mn=_._injector)&&void 0!==mn?mn:D;const Uo=null!==(pn=_._loadedInjector)&&void 0!==pn?pn:D,R=function Z(I){return I.children?I.children:I.loadChildren?I._loadedRoutes:[]}(_),{segmentGroup:$,slicedSegments:Y}=xs(w,pi,gi,R.filter(nt=>void 0===nt.redirectTo));if(0===Y.length&&$.hasChildren())return this.processChildren(Uo,R,$).pipe((0,ze.U)(nt=>null===nt?null:[new Mi(wr,nt)]));if(0===R.length&&0===Y.length)return(0,N.of)([new Mi(wr,[])]);const Te=ai(_)===W;return this.processSegment(Uo,R,$,Y,Te?Ht:W).pipe((0,ze.U)(nt=>null===nt?null:[new Mi(wr,nt)]))}))}}function Ee(I){const D=I.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function ct(I){const D=[],_=new Set;for(const w of I){if(!Ee(w)){D.push(w);continue}const L=D.find(W=>w.value.routeConfig===W.value.routeConfig);void 0!==L?(L.children.push(...w.children),_.add(L)):D.push(w)}for(const w of _){const L=ct(w.children);D.push(new Mi(w.value,L))}return D.filter(w=>!_.has(w))}function fn(I){let D=I;for(;D._sourceSegment;)D=D._sourceSegment;return D}function nr(I){var D;let _=I,w=null!==(D=_._segmentIndexShift)&&void 0!==D?D:0;for(;_._sourceSegment;){var L;_=_._sourceSegment,w+=null!==(L=_._segmentIndexShift)&&void 0!==L?L:0}return w-1}function St(I){return I.data||{}}function Dn(I){return I.resolve||{}}function yt(I){return"string"==typeof I.title||null===I.title}function Pt(I){return(0,Qe.w)(D=>{const _=I(D);return _?(0,B.D)(_).pipe((0,ze.U)(()=>D)):(0,N.of)(D)})}const Qo=new a.OlP("ROUTES");let Us=(()=>{class I{constructor(_,w){this.injector=_,this.compiler=w,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,N.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const w=ln(_.loadComponent()).pipe((0,ze.U)(ha),(0,Je.b)(W=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=W}),nn(()=>{this.componentLoaders.delete(_)})),L=new je(w,()=>new Pe.x).pipe(te());return this.componentLoaders.set(_,L),L}loadChildren(_,w){if(this.childrenLoaders.get(w))return this.childrenLoaders.get(w);if(w._loadedRoutes)return(0,N.of)({routes:w._loadedRoutes,injector:w._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(w);const W=this.loadModuleFactoryOrRoutes(w.loadChildren).pipe((0,ze.U)(Ge=>{this.onLoadEndListener&&this.onLoadEndListener(w);let It,Wt,mn=!1;Array.isArray(Ge)?Wt=Ge:(It=Ge.create(_).injector,Wt=Gn(It.get(Qo,[],a.XFs.Self|a.XFs.Optional)));return{routes:Wt.map(fo),injector:It}}),nn(()=>{this.childrenLoaders.delete(w)})),K=new je(W,()=>new Pe.x).pipe(te());return this.childrenLoaders.set(w,K),K}loadModuleFactoryOrRoutes(_){return ln(_()).pipe((0,ze.U)(ha),(0,xe.z)(L=>L instanceof a.YKP||Array.isArray(L)?(0,N.of)(L):(0,B.D)(this.compiler.compileModuleAsync(L))))}}return I.\u0275fac=function(_){return new(_||I)(a.LFG(a.zs3),a.LFG(a.Sil))},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function ha(I){return function js(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let gs=(()=>{class I{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Pe.x,this.configLoader=(0,a.f3M)(Us),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(un),this.rootContexts=(0,a.f3M)(co),this.navigationId=0,this.afterPreactivation=()=>(0,N.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=L=>this.events.next(new Ti(L)),this.configLoader.onLoadStartListener=L=>this.events.next(new to(L))}complete(){var _;null===(_=this.transitions)||void 0===_||_.complete()}handleNavigationRequest(_){var w;const L=++this.navigationId;null===(w=this.transitions)||void 0===w||w.next({...this.transitions.value,..._,id:L})}setupNavigations(_){return this.transitions=new pe.X({id:0,targetPageId:0,currentUrlTree:_.currentUrlTree,currentRawUrl:_.currentUrlTree,extractedUrl:_.urlHandlingStrategy.extract(_.currentUrlTree),urlAfterRedirects:_.urlHandlingStrategy.extract(_.currentUrlTree),rawUrl:_.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ke,restoredState:null,currentSnapshot:_.routerState.snapshot,targetSnapshot:null,currentRouterState:_.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,at.h)(w=>0!==w.id),(0,ze.U)(w=>({...w,extractedUrl:_.urlHandlingStrategy.extract(w.rawUrl)})),(0,Qe.w)(w=>{let L=!1,W=!1;return(0,N.of)(w).pipe((0,Je.b)(K=>{this.currentNavigation={id:K.id,initialUrl:K.rawUrl,extractedUrl:K.extractedUrl,trigger:K.source,extras:K.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Qe.w)(K=>{var Ge;const It=_.browserUrlTree.toString(),Wt=!_.navigated||K.extractedUrl.toString()!==It||It!==_.currentUrlTree.toString(),mn=null!==(Ge=K.extras.onSameUrlNavigation)&&void 0!==Ge?Ge:_.onSameUrlNavigation;if(!Wt&&"reload"!==mn){const pn="";return this.events.next(new an(K.id,_.serializeUrl(w.rawUrl),pn,0)),_.rawUrlTree=K.rawUrl,K.resolve(null),De.E}if(_.urlHandlingStrategy.shouldProcessUrl(K.rawUrl))return nl(K.source)&&(_.browserUrlTree=K.extractedUrl),(0,N.of)(K).pipe((0,Qe.w)(pn=>{var wr,pi;const gi=null===(wr=this.transitions)||void 0===wr?void 0:wr.getValue();return this.events.next(new Dt(pn.id,this.urlSerializer.serialize(pn.extractedUrl),pn.source,pn.restoredState)),gi!==(null===(pi=this.transitions)||void 0===pi?void 0:pi.getValue())?De.E:Promise.resolve(pn)}),function Ml(I,D,_,w){return(0,Qe.w)(L=>function fi(I,D,_,w,L){return new tl(I,D,_,w,L).apply()}(I,D,_,L.extractedUrl,w).pipe((0,ze.U)(W=>({...L,urlAfterRedirects:W}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,_.config),(0,Je.b)(pn=>{this.currentNavigation={...this.currentNavigation,finalUrl:pn.urlAfterRedirects},w.urlAfterRedirects=pn.urlAfterRedirects}),function zr(I,D,_,w,L){return(0,xe.z)(W=>function M(I,D,_,w,L,W,K="emptyOnly"){return new H(I,D,_,w,L,K,W).recognize().pipe((0,Qe.w)(Ge=>null===Ge?function na(I){return new ye.y(D=>D.error(I))}(new ta):(0,N.of)(Ge)))}(I,D,_,W.urlAfterRedirects,w.serialize(W.urlAfterRedirects),w,L).pipe((0,ze.U)(K=>({...W,targetSnapshot:K}))))}(this.environmentInjector,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,Je.b)(pn=>{if(w.targetSnapshot=pn.targetSnapshot,"eager"===_.urlUpdateStrategy){if(!pn.extras.skipLocationChange){const pi=_.urlHandlingStrategy.merge(pn.urlAfterRedirects,pn.rawUrl);_.setBrowserUrl(pi,pn)}_.browserUrlTree=pn.urlAfterRedirects}const wr=new ni(pn.id,this.urlSerializer.serialize(pn.extractedUrl),this.urlSerializer.serialize(pn.urlAfterRedirects),pn.targetSnapshot);this.events.next(wr)}));if(Wt&&_.urlHandlingStrategy.shouldProcessUrl(_.rawUrlTree)){const{id:pn,extractedUrl:wr,source:pi,restoredState:gi,extras:Uo}=K,R=new Dt(pn,this.urlSerializer.serialize(wr),pi,gi);this.events.next(R);const $=ps(wr,this.rootComponentType).snapshot;return w={...K,targetSnapshot:$,urlAfterRedirects:wr,extras:{...Uo,skipLocationChange:!1,replaceUrl:!1}},(0,N.of)(w)}{const pn="";return this.events.next(new an(K.id,_.serializeUrl(w.extractedUrl),pn,1)),_.rawUrlTree=K.rawUrl,K.resolve(null),De.E}}),(0,Je.b)(K=>{const Ge=new tr(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects),K.targetSnapshot);this.events.next(Ge)}),(0,ze.U)(K=>w={...K,guards:Ns(K.targetSnapshot,K.currentSnapshot,this.rootContexts)}),function Cr(I,D){return(0,xe.z)(_=>{const{targetSnapshot:w,currentSnapshot:L,guards:{canActivateChecks:W,canDeactivateChecks:K}}=_;return 0===K.length&&0===W.length?(0,N.of)({..._,guardsResult:!0}):function Or(I,D,_,w){return(0,B.D)(I).pipe((0,xe.z)(L=>function Ms(I,D,_,w,L){const W=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,N.of)(!0);const K=W.map(Ge=>{var It;const Wt=null!==(It=vi(D))&&void 0!==It?It:L,mn=Bo(Ge,Wt);return ln(function G(I){return I&&x(I.canDeactivate)}(mn)?mn.canDeactivate(I,D,_,w):Wt.runInContext(()=>mn(I,D,_,w))).pipe((0,Me.P)())});return(0,N.of)(K).pipe(lr())}(L.component,L.route,_,D,w)),(0,Me.P)(L=>!0!==L,!0))}(K,w,L,I).pipe((0,xe.z)(Ge=>Ge&&function c(I){return"boolean"==typeof I}(Ge)?function Br(I,D,_,w){return(0,B.D)(D).pipe(Se(L=>(0,be.z)(function Zi(I,D){return null!==I&&D&&D(new yi(I)),(0,N.of)(!0)}(L.route.parent,w),function hi(I,D){return null!==I&&D&&D(new ks(I)),(0,N.of)(!0)}(L.route,w),function Qs(I,D,_){const w=D[D.length-1],W=D.slice(0,D.length-1).reverse().map(K=>function $o(I){const D=I.routeConfig?I.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:I,guards:D}:null}(K)).filter(K=>null!==K).map(K=>ne(()=>{const Ge=K.guards.map(It=>{var Wt;const mn=null!==(Wt=vi(K.node))&&void 0!==Wt?Wt:_,pn=Bo(It,mn);return ln(function T(I){return I&&x(I.canActivateChild)}(pn)?pn.canActivateChild(w,I):mn.runInContext(()=>pn(w,I))).pipe((0,Me.P)())});return(0,N.of)(Ge).pipe(lr())}));return(0,N.of)(W).pipe(lr())}(I,L.path,_),function Fi(I,D,_){const w=D.routeConfig?D.routeConfig.canActivate:null;if(!w||0===w.length)return(0,N.of)(!0);const L=w.map(W=>ne(()=>{var K;const Ge=null!==(K=vi(D))&&void 0!==K?K:_,It=Bo(W,Ge);return ln(function f(I){return I&&x(I.canActivate)}(It)?It.canActivate(D,I):Ge.runInContext(()=>It(D,I))).pipe((0,Me.P)())}));return(0,N.of)(L).pipe(lr())}(I,L.route,_))),(0,Me.P)(L=>!0!==L,!0))}(w,W,I,D):(0,N.of)(Ge)),(0,ze.U)(Ge=>({..._,guardsResult:Ge})))})}(this.environmentInjector,K=>this.events.next(K)),(0,Je.b)(K=>{if(w.guardsResult=K.guardsResult,jr(K.guardsResult))throw ki(0,K.guardsResult);const Ge=new Dr(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects),K.targetSnapshot,!!K.guardsResult);this.events.next(Ge)}),(0,at.h)(K=>!!K.guardsResult||(_.restoreHistory(K),this.cancelNavigationTransition(K,"",3),!1)),Pt(K=>{if(K.guards.canActivateChecks.length)return(0,N.of)(K).pipe((0,Je.b)(Ge=>{const It=new Yi(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),this.urlSerializer.serialize(Ge.urlAfterRedirects),Ge.targetSnapshot);this.events.next(It)}),(0,Qe.w)(Ge=>{let It=!1;return(0,N.of)(Ge).pipe(function zn(I,D){return(0,xe.z)(_=>{const{targetSnapshot:w,guards:{canActivateChecks:L}}=_;if(!L.length)return(0,N.of)(_);let W=0;return(0,B.D)(L).pipe(Se(K=>function Zt(I,D,_,w){const L=I.routeConfig,W=I._resolve;return void 0!==(null==L?void 0:L.title)&&!yt(L)&&(W[Fn]=L.title),function hn(I,D,_,w){const L=function To(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}(I);if(0===L.length)return(0,N.of)({});const W={};return(0,B.D)(L).pipe((0,xe.z)(K=>function Yt(I,D,_,w){var L;const W=null!==(L=vi(D))&&void 0!==L?L:w,K=Bo(I,W);return ln(K.resolve?K.resolve(D,_):W.runInContext(()=>K(D,_)))}(I[K],D,_,w).pipe((0,Me.P)(),(0,Je.b)(Ge=>{W[K]=Ge}))),Ze(1),function wt(I){return(0,ze.U)(()=>I)}(W),Ue(K=>Tn(K)?De.E:Xe(K)))}(W,I,D,w).pipe((0,ze.U)(K=>(I._resolvedData=K,I.data=Yo(I,_).resolve,L&&yt(L)&&(I.data[Fn]=L.title),null)))}(K.route,w,I,D)),(0,Je.b)(()=>W++),Ze(1),(0,xe.z)(K=>W===L.length?(0,N.of)(_):De.E))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,Je.b)({next:()=>It=!0,complete:()=>{It||(_.restoreHistory(Ge),this.cancelNavigationTransition(Ge,"",2))}}))}),(0,Je.b)(Ge=>{const It=new _o(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),this.urlSerializer.serialize(Ge.urlAfterRedirects),Ge.targetSnapshot);this.events.next(It)}))}),Pt(K=>{const Ge=It=>{var Wt;const mn=[];null!==(Wt=It.routeConfig)&&void 0!==Wt&&Wt.loadComponent&&!It.routeConfig._loadedComponent&&mn.push(this.configLoader.loadComponent(It.routeConfig).pipe((0,Je.b)(pn=>{It.component=pn}),(0,ze.U)(()=>{})));for(const pn of It.children)mn.push(...Ge(pn));return mn};return Fe(Ge(K.targetSnapshot.root)).pipe((0,bt.d)(),(0,He.q)(1))}),Pt(()=>this.afterPreactivation()),(0,ze.U)(K=>{const Ge=function lo(I,D,_){const w=uo(I,D._root,_?_._root:void 0);return new qo(w,D)}(_.routeReuseStrategy,K.targetSnapshot,K.currentRouterState);return w={...K,targetRouterState:Ge}}),(0,Je.b)(K=>{_.currentUrlTree=K.urlAfterRedirects,_.rawUrlTree=_.urlHandlingStrategy.merge(K.urlAfterRedirects,K.rawUrl),_.routerState=K.targetRouterState,"deferred"===_.urlUpdateStrategy&&(K.extras.skipLocationChange||_.setBrowserUrl(_.rawUrlTree,K),_.browserUrlTree=K.urlAfterRedirects)}),((I,D,_)=>(0,ze.U)(w=>(new Fo(D,w.targetRouterState,w.currentRouterState,_).activate(I),w)))(this.rootContexts,_.routeReuseStrategy,K=>this.events.next(K)),(0,Je.b)({next:K=>{var Ge;L=!0,this.lastSuccessfulNavigation=this.currentNavigation,_.navigated=!0,this.events.next(new Bt(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(_.currentUrlTree))),null===(Ge=_.titleStrategy)||void 0===Ge||Ge.updateTitle(K.targetRouterState.snapshot),K.resolve(!0)},complete:()=>{L=!0}}),nn(()=>{var K;L||W||this.cancelNavigationTransition(w,"",1),(null===(K=this.currentNavigation)||void 0===K?void 0:K.id)===w.id&&(this.currentNavigation=null)}),Ue(K=>{if(W=!0,Ri(K)){ko(K)||(_.navigated=!0,_.restoreHistory(w,!0));const It=new on(w.id,this.urlSerializer.serialize(w.extractedUrl),K.message,K.cancellationCode);if(this.events.next(It),ko(K)){const Wt=_.urlHandlingStrategy.merge(K.url,_.rawUrlTree),mn={skipLocationChange:w.extras.skipLocationChange,replaceUrl:"eager"===_.urlUpdateStrategy||nl(w.source)};_.scheduleNavigation(Wt,Ke,null,mn,{resolve:w.resolve,reject:w.reject,promise:w.promise})}else w.resolve(!1)}else{var Ge;_.restoreHistory(w,!0);const It=new er(w.id,this.urlSerializer.serialize(w.extractedUrl),K,null!==(Ge=w.targetSnapshot)&&void 0!==Ge?Ge:void 0);this.events.next(It);try{w.resolve(_.errorHandler(K))}catch(Wt){w.reject(Wt)}}return De.E}))}))}cancelNavigationTransition(_,w,L){const W=new on(_.id,this.urlSerializer.serialize(_.extractedUrl),w,L);this.events.next(W),_.resolve(!1)}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function nl(I){return I!==Ke}let Ao=(()=>{class I{buildTitle(_){let w,L=_.root;for(;void 0!==L;){var W;w=null!==(W=this.getResolvedTitleForRoute(L))&&void 0!==W?W:w,L=L.children.find(K=>K.outlet===Ht)}return w}getResolvedTitleForRoute(_){return _.data[Fn]}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=a.Yz7({token:I,factory:function(){return(0,a.f3M)(cu)},providedIn:"root"}),I})(),cu=(()=>{class I extends Ao{constructor(_){super(),this.title=_}updateTitle(_){const w=this.buildTitle(_);void 0!==w&&this.title.setTitle(w)}}return I.\u0275fac=function(_){return new(_||I)(a.LFG(Sn.Dx))},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),ms=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=a.Yz7({token:I,factory:function(){return(0,a.f3M)(Hs)},providedIn:"root"}),I})();class jn{shouldDetach(D){return!1}store(D,_){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,_){return D.routeConfig===_.routeConfig}}let Hs=(()=>{class I extends jn{}return I.\u0275fac=function(){let D;return function(w){return(D||(D=a.n5z(I)))(w||I)}}(),I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const Gr=new a.OlP("",{providedIn:"root",factory:()=>({})});let On=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=a.Yz7({token:I,factory:function(){return(0,a.f3M)(fa)},providedIn:"root"}),I})(),fa=(()=>{class I{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,w){return _}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function xl(I){throw I}function Pr(I,D,_){return D.parse("/")}const tn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ei=(()=>{class I{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var _;return null===(_=this.location.getState())||void 0===_?void 0:_.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var _;this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(Gr,{optional:!0})||{},this.errorHandler=this.options.errorHandler||xl,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Pr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(On),this.routeReuseStrategy=(0,a.f3M)(ms),this.urlCreationStrategy=(0,a.f3M)(Ss),this.titleStrategy=(0,a.f3M)(Ao),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Gn(null!==(_=(0,a.f3M)(Qo,{optional:!0}))&&void 0!==_?_:[]),this.navigationTransitions=(0,a.f3M)(gs),this.urlSerializer=(0,a.f3M)(un),this.location=(0,a.f3M)(Ve.Ye),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ps(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ke,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const w="popstate"===_.type?"popstate":"hashchange";"popstate"===w&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,w,_.state)},0)}))}navigateToSyncWithBrowser(_,w,L){const W={replaceUrl:!0},K=null!=L&&L.navigationId?L:null;if(L){const It={...L};delete It.navigationId,delete It.\u0275routerPageId,0!==Object.keys(It).length&&(W.state=It)}const Ge=this.parseUrl(_);this.scheduleNavigation(Ge,w,K,W)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(_){this.config=_.map(fo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,w={}){const{relativeTo:L,queryParams:W,fragment:K,queryParamsHandling:Ge,preserveFragment:It}=w,Wt=It?this.currentUrlTree.fragment:K;let mn=null;switch(Ge){case"merge":mn={...this.currentUrlTree.queryParams,...W};break;case"preserve":mn=this.currentUrlTree.queryParams;break;default:mn=W||null}return null!==mn&&(mn=this.removeEmptyProps(mn)),this.urlCreationStrategy.createUrlTree(L,this.routerState,this.currentUrlTree,_,mn,null!=Wt?Wt:null)}navigateByUrl(_,w={skipLocationChange:!1}){const L=jr(_)?_:this.parseUrl(_),W=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(W,Ke,null,w)}navigate(_,w={skipLocationChange:!1}){return function zs(I){for(let D=0;D<I.length;D++){if(null==I[D])throw new a.vHH(4008,!1)}}(_),this.navigateByUrl(this.createUrlTree(_,w),w)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let w;try{w=this.urlSerializer.parse(_)}catch(L){w=this.malformedUriErrorHandler(L,this.urlSerializer,_)}return w}isActive(_,w){let L;if(L=!0===w?{...tn}:!1===w?{...Rs}:w,jr(_))return rn(this.currentUrlTree,_,L);const W=this.parseUrl(_);return rn(this.currentUrlTree,W,L)}removeEmptyProps(_){return Object.keys(_).reduce((w,L)=>{const W=_[L];return null!=W&&(w[L]=W),w},{})}scheduleNavigation(_,w,L,W,K){if(this.disposed)return Promise.resolve(!1);let Ge,It,Wt,mn;if(K?(Ge=K.resolve,It=K.reject,Wt=K.promise):Wt=new Promise((pi,gi)=>{Ge=pi,It=gi}),"computed"===this.canceledNavigationResolution)if(L&&L.\u0275routerPageId)mn=L.\u0275routerPageId;else if(W.replaceUrl||W.skipLocationChange){var pn;mn=null!==(pn=this.browserPageId)&&void 0!==pn?pn:0}else{var wr;mn=(null!==(wr=this.browserPageId)&&void 0!==wr?wr:0)+1}else mn=0;return this.navigationTransitions.handleNavigationRequest({targetPageId:mn,source:w,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:_,extras:W,resolve:Ge,reject:It,promise:Wt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Wt.catch(pi=>Promise.reject(pi))}setBrowserUrl(_,w){const L=this.urlSerializer.serialize(_),W={...w.extras.state,...this.generateNgRouterState(w.id,w.targetPageId)};this.location.isCurrentPathEqualTo(L)||w.extras.replaceUrl?this.location.replaceState(L,"",W):this.location.go(L,"",W)}restoreHistory(_,w=!1){if("computed"===this.canceledNavigationResolution){var L,W;const K=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(L=this.getCurrentNavigation())||void 0===L?void 0:L.finalUrl)||0===K?this.currentUrlTree===(null===(W=this.getCurrentNavigation())||void 0===W?void 0:W.finalUrl)&&0===K&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(K)}else"replace"===this.canceledNavigationResolution&&(w&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,w){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:w}:{navigationId:_}}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),pa=(()=>{class I{constructor(_,w,L,W,K,Ge){var It;this.router=_,this.route=w,this.tabIndexAttribute=L,this.renderer=W,this.el=K,this.locationStrategy=Ge,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Pe.x;const Wt=null===(It=K.nativeElement.tagName)||void 0===It?void 0:It.toLowerCase();this.isAnchorElement="a"===Wt||"area"===Wt,this.isAnchorElement?this.subscription=_.events.subscribe(mn=>{mn instanceof Bt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(_){this._preserveFragment=(0,a.D6c)(_)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(_){this._skipLocationChange=(0,a.D6c)(_)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(_){this._replaceUrl=(0,a.D6c)(_)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,w,L,W,K){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||w||L||W||K||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var _;null===(_=this.subscription)||void 0===_||_.unsubscribe()}updateHref(){var _;this.href=null!==this.urlTree&&this.locationStrategy?null===(_=this.locationStrategy)||void 0===_?void 0:_.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(_,w){const L=this.renderer,W=this.el.nativeElement;null!==w?L.setAttribute(W,_,w):L.removeAttribute(W,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return I.\u0275fac=function(_){return new(_||I)(a.Y36(ei),a.Y36(ci),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ve.S$))},I.\u0275dir=a.lG2({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(_,w){1&_&&a.NdJ("click",function(W){return w.onClick(W.button,W.ctrlKey,W.shiftKey,W.altKey,W.metaKey)}),2&_&&a.uIk("target",w.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),I})(),Xi=(()=>{class I{get isActive(){return this._isActive}constructor(_,w,L,W,K){this.router=_,this.element=w,this.renderer=L,this.cdr=W,this.link=K,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=_.events.subscribe(Ge=>{Ge instanceof Bt&&this.update()})}ngAfterContentInit(){(0,N.of)(this.links.changes,(0,N.of)(null)).pipe((0,wn.J)()).subscribe(_=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var _;null===(_=this.linkInputChangesSubscription)||void 0===_||_.unsubscribe();const w=[...this.links.toArray(),this.link].filter(L=>!!L).map(L=>L.onChanges);this.linkInputChangesSubscription=(0,B.D)(w).pipe((0,wn.J)()).subscribe(L=>{this._isActive!==this.isLinkActive(this.router)(L)&&this.update()})}set routerLinkActive(_){const w=Array.isArray(_)?_:_.split(" ");this.classes=w.filter(L=>!!L)}ngOnChanges(_){this.update()}ngOnDestroy(){var _;this.routerEventsSubscription.unsubscribe(),null===(_=this.linkInputChangesSubscription)||void 0===_||_.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const _=this.hasActiveLinks();this._isActive!==_&&(this._isActive=_,this.cdr.markForCheck(),this.classes.forEach(w=>{_?this.renderer.addClass(this.element.nativeElement,w):this.renderer.removeClass(this.element.nativeElement,w)}),_&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(_))})}isLinkActive(_){const w=function Gs(I){return!!I.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return L=>!!L.urlTree&&_.isActive(L.urlTree,w)}hasActiveLinks(){const _=this.isLinkActive(this.router);return this.link&&_(this.link)||this.links.some(_)}}return I.\u0275fac=function(_){return new(_||I)(a.Y36(ei),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(pa,8))},I.\u0275dir=a.lG2({type:I,selectors:[["","routerLinkActive",""]],contentQueries:function(_,w,L){if(1&_&&a.Suo(L,pa,5),2&_){let W;a.iGM(W=a.CRH())&&(w.links=W)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]}),I})();class Pa{}let rl=(()=>{class I{preload(_,w){return w().pipe(Ue(()=>(0,N.of)(null)))}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Jo=(()=>{class I{constructor(_,w,L,W,K){this.router=_,this.injector=L,this.preloadingStrategy=W,this.loader=K}setUpPreloading(){this.subscription=this.router.events.pipe((0,at.h)(_=>_ instanceof Bt),Se(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,w){const L=[];for(const It of w){var W,K;It.providers&&!It._injector&&(It._injector=(0,a.MMx)(It.providers,_,`Route: ${It.path}`));const Wt=null!==(W=It._injector)&&void 0!==W?W:_,mn=null!==(K=It._loadedInjector)&&void 0!==K?K:Wt;if(It.loadChildren&&!It._loadedRoutes&&void 0===It.canLoad||It.loadComponent&&!It._loadedComponent)L.push(this.preloadConfig(Wt,It));else if(It.children||It._loadedRoutes){var Ge;L.push(this.processRoutes(mn,null!==(Ge=It.children)&&void 0!==Ge?Ge:It._loadedRoutes))}}return(0,B.D)(L).pipe((0,wn.J)())}preloadConfig(_,w){return this.preloadingStrategy.preload(w,()=>{let L;L=w.loadChildren&&void 0===w.canLoad?this.loader.loadChildren(_,w):(0,N.of)(null);const W=L.pipe((0,xe.z)(K=>{var Ge;return null===K?(0,N.of)(void 0):(w._loadedRoutes=K.routes,w._loadedInjector=K.injector,this.processRoutes(null!==(Ge=K.injector)&&void 0!==Ge?Ge:_,K.routes))}));if(w.loadComponent&&!w._loadedComponent){const K=this.loader.loadComponent(w);return(0,B.D)([W,K]).pipe((0,wn.J)())}return W})}}return I.\u0275fac=function(_){return new(_||I)(a.LFG(ei),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(Pa),a.LFG(Us))},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const ga=new a.OlP("");let Na=(()=>{class I{constructor(_,w,L,W,K={}){this.urlSerializer=_,this.transitions=w,this.viewportScroller=L,this.zone=W,this.options=K,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},K.scrollPositionRestoration=K.scrollPositionRestoration||"disabled",K.anchorScrolling=K.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof Dt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof Bt&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof ii&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,w){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ii(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,w))})},0)})}ngOnDestroy(){var _,w;null===(_=this.routerEventsSubscription)||void 0===_||_.unsubscribe(),null===(w=this.scrollEventsSubscription)||void 0===w||w.unsubscribe()}}return I.\u0275fac=function(_){a.$Z()},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac}),I})();function gt(I,D){return{\u0275kind:I,\u0275providers:D}}function br(){const I=(0,a.f3M)(a.zs3);return D=>{var _,w;const L=I.get(a.z2F);if(D!==L.components[0])return;const W=I.get(ei),K=I.get(Rl);1===I.get(ys)&&W.initialNavigation(),null===(_=I.get(sl,null,a.XFs.Optional))||void 0===_||_.setUpPreloading(),null===(w=I.get(ga,null,a.XFs.Optional))||void 0===w||w.init(),W.resetRootComponentType(L.componentTypes[0]),K.closed||(K.next(),K.unsubscribe())}}const Rl=new a.OlP("",{factory:()=>new Pe.x}),ys=new a.OlP("",{providedIn:"root",factory:()=>1});const sl=new a.OlP("");function es(I){return gt(0,[{provide:sl,useExisting:Jo},{provide:Pa,useExisting:I}])}const ya=new a.OlP("ROUTER_FORROOT_GUARD"),vs=[Ve.Ye,{provide:un,useClass:dn},ei,co,{provide:ci,useFactory:function Os(I){return I.routerState.root},deps:[ei]},Us,[]];function La(){return new a.PXZ("Router",ei)}let Qi=(()=>{class I{constructor(_){}static forRoot(_,w){return{ngModule:I,providers:[vs,[],{provide:Qo,multi:!0,useValue:_},{provide:ya,useFactory:oo,deps:[[ei,new a.FiY,new a.tp0]]},{provide:Gr,useValue:w||{}},null!=w&&w.useHash?{provide:Ve.S$,useClass:Ve.Do}:{provide:Ve.S$,useClass:Ve.b0},{provide:ga,useFactory:()=>{const I=(0,a.f3M)(Ve.EM),D=(0,a.f3M)(a.R0b),_=(0,a.f3M)(Gr),w=(0,a.f3M)(gs),L=(0,a.f3M)(un);return _.scrollOffset&&I.setOffset(_.scrollOffset),new Na(L,w,I,D,_)}},null!=w&&w.preloadingStrategy?es(w.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:La},null!=w&&w.initialNavigation?li(w):[],[{provide:ds,useFactory:br},{provide:a.tb,multi:!0,useExisting:ds}]]}}static forChild(_){return{ngModule:I,providers:[{provide:Qo,multi:!0,useValue:_}]}}}return I.\u0275fac=function(_){return new(_||I)(a.LFG(ya,8))},I.\u0275mod=a.oAB({type:I}),I.\u0275inj=a.cJS({imports:[$r]}),I})();function oo(I){return"guarded"}function li(I){return["disabled"===I.initialNavigation?gt(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const D=(0,a.f3M)(ei);return()=>{D.setUpLocationChangeListener()}}},{provide:ys,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?gt(2,[{provide:ys,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:D=>{const _=D.get(Ve.V_,Promise.resolve());return()=>_.then(()=>new Promise(L=>{const W=D.get(ei),K=D.get(Rl);(function w(L){D.get(ei).events.pipe((0,at.h)(K=>K instanceof Bt||K instanceof on||K instanceof er),(0,ze.U)(K=>K instanceof Bt||K instanceof on&&(0===K.code||1===K.code)&&null),(0,at.h)(K=>null!==K),(0,He.q)(1)).subscribe(()=>{L()})})(()=>{L(!0)}),D.get(gs).afterPreactivation=()=>(L(!0),K.closed?(0,N.of)(void 0):K),W.initialNavigation()}))}}]).\u0275providers:[]]}const ds=new a.OlP("")},3942:(zt,rt,k)=>{"use strict";k.d(rt,{Z:()=>qe});var a=k(2090),B=k(4859),N=k(9681),pe=k(1877);class ue{constructor(be,de){this._delegate=be,this.firebase=de,(0,N._addComponent)(be,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(be,de=N._DEFAULT_ENTRY_NAME){var ne;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(be);return!Ye.isInitialized()&&"EXPLICIT"===(null===(ne=Ye.getComponent())||void 0===ne?void 0:ne.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:de})}_removeServiceInstance(be,de=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(de)}_addComponent(be){(0,N._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,N._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function Le(){const dt=function Ie(dt){const be={},de={__esModule:!0,initializeApp:function We(Q,te={}){const je=N.initializeApp(Q,te);if((0,a.r3)(be,je.name))return be[je.name];const Pe=new dt(je,de);return be[je.name]=Pe,Pe},app:Ye,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function De(Q){const te=Q.name,je=te.replace("-compat","");if(N._registerComponent(Q)&&"PUBLIC"===Q.type){const Pe=(Ve=Ye())=>{if("function"!=typeof Ve[je])throw le.create("invalid-app-argument",{appName:te});return Ve[je]()};void 0!==Q.serviceProps&&(0,a.ZB)(Pe,Q.serviceProps),de[je]=Pe,dt.prototype[je]=function(...Ve){return this._getService.bind(this,te).apply(this,Q.multipleInstances?Ve:[])}}return"PUBLIC"===Q.type?de[je]:null},removeApp:function ne(Q){delete be[Q]},useAsService:function we(Q,te){return"serverAuth"===te?null:te},modularAPIs:N}};function Ye(Q){if(!(0,a.r3)(be,Q=Q||N._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:Q});return be[Q]}return de.default=de,Object.defineProperty(de,"apps",{get:function Xe(){return Object.keys(be).map(Q=>be[Q])}}),Ye.App=dt,de}(ue);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:Le,extendNamespace:function be(de){(0,a.ZB)(dt,de)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),dt}(),ae=new pe.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=ce;!function Fe(dt){(0,N.registerVersion)("@firebase/app-compat","0.2.3",dt)}()},9681:(zt,rt,k)=>{"use strict";k.r(rt),k.d(rt,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>Sn,_DEFAULT_ENTRY_NAME:()=>Me,_addComponent:()=>st,_addOrOverwriteComponent:()=>Ze,_apps:()=>Je,_clearComponents:()=>Gt,_components:()=>Ue,_getProvider:()=>bt,_registerComponent:()=>_t,_removeServiceInstance:()=>Ot,deleteApp:()=>ur,getApp:()=>Fn,getApps:()=>Jn,initializeApp:()=>Ht,onLog:()=>Nt,registerVersion:()=>qn,setLogLevel:()=>Wn});var a=k(5861),B=k(4859),N=k(1877),pe=k(2090),ue=k(8766);class ye{constructor(Et){this.container=Et}getPlatformInfoString(){return this.container.getProviders().map(qt=>{if(function le(xt){const Et=xt.getComponent();return"VERSION"===(null==Et?void 0:Et.type)}(qt)){const un=qt.getImmediate();return`${un.library}/${un.version}`}return null}).filter(qt=>qt).join(" ")}}const Ie="@firebase/app",ce=new N.Yd("@firebase/app"),Me="[DEFAULT]",Se={[Ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,Ue=new Map;function st(xt,Et){try{xt.container.addComponent(Et)}catch(qt){ce.debug(`Component ${Et.name} failed to register with FirebaseApp ${xt.name}`,qt)}}function Ze(xt,Et){xt.container.addOrOverwriteComponent(Et)}function _t(xt){const Et=xt.name;if(Ue.has(Et))return ce.debug(`There were multiple attempts to register component ${Et}.`),!1;Ue.set(Et,xt);for(const qt of Je.values())st(qt,xt);return!0}function bt(xt,Et){const qt=xt.container.getProvider("heartbeat").getImmediate({optional:!0});return qt&&qt.triggerHeartbeat(),xt.container.getProvider(Et)}function Ot(xt,Et,qt=Me){bt(xt,Et).clearInstance(qt)}function Gt(){Ue.clear()}const nn=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wn{constructor(Et,qt,un){this._isDeleted=!1,this._options=Object.assign({},Et),this._config=Object.assign({},qt),this._name=qt.name,this._automaticDataCollectionEnabled=qt.automaticDataCollectionEnabled,this._container=un,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Et){this.checkDestroyed(),this._automaticDataCollectionEnabled=Et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Et){this._isDeleted=Et}checkDestroyed(){if(this.isDeleted)throw nn.create("app-deleted",{appName:this._name})}}const Sn="9.17.1";function Ht(xt,Et={}){let qt=xt;"object"!=typeof Et&&(Et={name:Et});const un=Object.assign({name:Me,automaticDataCollectionEnabled:!1},Et),dn=un.name;if("string"!=typeof dn||!dn)throw nn.create("bad-app-name",{appName:String(dn)});if(qt||(qt=(0,pe.aH)()),!qt)throw nn.create("no-options");const Rn=Je.get(dn);if(Rn){if((0,pe.vZ)(qt,Rn.options)&&(0,pe.vZ)(un,Rn.config))return Rn;throw nn.create("duplicate-app",{appName:dn})}const Ae=new B.H0(dn);for(const $e of Ue.values())Ae.addComponent($e);const _e=new wn(qt,un,Ae);return Je.set(dn,_e),_e}function Fn(xt=Me){const Et=Je.get(xt);if(!Et&&xt===Me)return Ht();if(!Et)throw nn.create("no-app",{appName:xt});return Et}function Jn(){return Array.from(Je.values())}function ur(xt){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,a.Z)(function*(xt){const Et=xt.name;Je.has(Et)&&(Je.delete(Et),yield Promise.all(xt.container.getProviders().map(qt=>qt.delete())),xt.isDeleted=!0)})).apply(this,arguments)}function qn(xt,Et,qt){var un;let dn=null!==(un=Se[xt])&&void 0!==un?un:xt;qt&&(dn+=`-${qt}`);const Rn=dn.match(/\s|\//),Ae=Et.match(/\s|\//);if(Rn||Ae){const _e=[`Unable to register library "${dn}" with version "${Et}":`];return Rn&&_e.push(`library name "${dn}" contains illegal characters (whitespace or "/")`),Rn&&Ae&&_e.push("and"),Ae&&_e.push(`version name "${Et}" contains illegal characters (whitespace or "/")`),void ce.warn(_e.join(" "))}_t(new B.wA(`${dn}-version`,()=>({library:dn,version:Et}),"VERSION"))}function Nt(xt,Et){if(null!==xt&&"function"!=typeof xt)throw nn.create("invalid-log-argument");(0,N.Am)(xt,Et)}function Wn(xt){(0,N.Ub)(xt)}const Ir="firebase-heartbeat-store";let Vn=null;function ln(){return Vn||(Vn=(0,ue.X3)("firebase-heartbeat-database",1,{upgrade:(xt,Et)=>{0===Et&&xt.createObjectStore(Ir)}}).catch(xt=>{throw nn.create("idb-open",{originalErrorMessage:xt.message})})),Vn}function gn(){return(gn=(0,a.Z)(function*(xt){try{return(yield ln()).transaction(Ir).objectStore(Ir).get(cr(xt))}catch(Et){if(Et instanceof pe.ZR)ce.warn(Et.message);else{const qt=nn.create("idb-get",{originalErrorMessage:null==Et?void 0:Et.message});ce.warn(qt.message)}}})).apply(this,arguments)}function Hn(xt,Et){return rn.apply(this,arguments)}function rn(){return(rn=(0,a.Z)(function*(xt,Et){try{const un=(yield ln()).transaction(Ir,"readwrite");return yield un.objectStore(Ir).put(Et,cr(xt)),un.done}catch(qt){if(qt instanceof pe.ZR)ce.warn(qt.message);else{const un=nn.create("idb-set",{originalErrorMessage:null==qt?void 0:qt.message});ce.warn(un.message)}}})).apply(this,arguments)}function cr(xt){return`${xt.name}!${xt.options.appId}`}class Rr{constructor(Et){this.container=Et,this._heartbeatsCache=null;const qt=this.container.getProvider("app").getImmediate();this._storage=new xn(qt),this._heartbeatsCachePromise=this._storage.read().then(un=>(this._heartbeatsCache=un,un))}triggerHeartbeat(){var Et=this;return(0,a.Z)(function*(){const un=Et.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dn=kn();if(null===Et._heartbeatsCache&&(Et._heartbeatsCache=yield Et._heartbeatsCachePromise),Et._heartbeatsCache.lastSentHeartbeatDate!==dn&&!Et._heartbeatsCache.heartbeats.some(Rn=>Rn.date===dn))return Et._heartbeatsCache.heartbeats.push({date:dn,agent:un}),Et._heartbeatsCache.heartbeats=Et._heartbeatsCache.heartbeats.filter(Rn=>{const Ae=new Date(Rn.date).valueOf();return Date.now()-Ae<=2592e6}),Et._storage.overwrite(Et._heartbeatsCache)})()}getHeartbeatsHeader(){var Et=this;return(0,a.Z)(function*(){if(null===Et._heartbeatsCache&&(yield Et._heartbeatsCachePromise),null===Et._heartbeatsCache||0===Et._heartbeatsCache.heartbeats.length)return"";const qt=kn(),{heartbeatsToSend:un,unsentEntries:dn}=function Fr(xt,Et=1024){const qt=[];let un=xt.slice();for(const dn of xt){const Rn=qt.find(Ae=>Ae.agent===dn.agent);if(Rn){if(Rn.dates.push(dn.date),In(qt)>Et){Rn.dates.pop();break}}else if(qt.push({agent:dn.agent,dates:[dn.date]}),In(qt)>Et){qt.pop();break}un=un.slice(1)}return{heartbeatsToSend:qt,unsentEntries:un}}(Et._heartbeatsCache.heartbeats),Rn=(0,pe.L)(JSON.stringify({version:2,heartbeats:un}));return Et._heartbeatsCache.lastSentHeartbeatDate=qt,dn.length>0?(Et._heartbeatsCache.heartbeats=dn,yield Et._storage.overwrite(Et._heartbeatsCache)):(Et._heartbeatsCache.heartbeats=[],Et._storage.overwrite(Et._heartbeatsCache)),Rn})()}}function kn(){return(new Date).toISOString().substring(0,10)}class xn{constructor(Et){this.app=Et,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Et=this;return(0,a.Z)(function*(){return(yield Et._canUseIndexedDBPromise)&&(yield function Qt(xt){return gn.apply(this,arguments)}(Et.app))||{heartbeats:[]}})()}overwrite(Et){var qt=this;return(0,a.Z)(function*(){var un;if(yield qt._canUseIndexedDBPromise){const Rn=yield qt.read();return Hn(qt.app,{lastSentHeartbeatDate:null!==(un=Et.lastSentHeartbeatDate)&&void 0!==un?un:Rn.lastSentHeartbeatDate,heartbeats:Et.heartbeats})}})()}add(Et){var qt=this;return(0,a.Z)(function*(){var un;if(yield qt._canUseIndexedDBPromise){const Rn=yield qt.read();return Hn(qt.app,{lastSentHeartbeatDate:null!==(un=Et.lastSentHeartbeatDate)&&void 0!==un?un:Rn.lastSentHeartbeatDate,heartbeats:[...Rn.heartbeats,...Et.heartbeats]})}})()}}function In(xt){return(0,pe.L)(JSON.stringify({version:2,heartbeats:xt})).length}!function or(xt){_t(new B.wA("platform-logger",Et=>new ye(Et),"PRIVATE")),_t(new B.wA("heartbeat",Et=>new Rr(Et),"PRIVATE")),qn(Ie,"0.9.3",xt),qn(Ie,"0.9.3","esm2017"),qn("fire-js","")}("")},4859:(zt,rt,k)=>{"use strict";k.d(rt,{H0:()=>Ie,wA:()=>N});var a=k(5861),B=k(2090);class N{constructor(ce,ae,fe){this.name=ce,this.instanceFactory=ae,this.type=fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const pe="[DEFAULT]";class ue{constructor(ce,ae){this.name=ce,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const ae=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(ae)){const fe=new B.BH;if(this.instancesDeferred.set(ae,fe),this.isInitialized(ae)||this.shouldAutoInitialize())try{const Ce=this.getOrInitializeService({instanceIdentifier:ae});Ce&&fe.resolve(Ce)}catch(Ce){}}return this.instancesDeferred.get(ae).promise}getImmediate(ce){var ae;const fe=this.normalizeInstanceIdentifier(null==ce?void 0:ce.identifier),Ce=null!==(ae=null==ce?void 0:ce.optional)&&void 0!==ae&&ae;if(!this.isInitialized(fe)&&!this.shouldAutoInitialize()){if(Ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:fe})}catch(Fe){if(Ce)return null;throw Fe}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function le(Le){return"EAGER"===Le.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:pe})}catch(ae){}for(const[ae,fe]of this.instancesDeferred.entries()){const Ce=this.normalizeInstanceIdentifier(ae);try{const Fe=this.getOrInitializeService({instanceIdentifier:Ce});fe.resolve(Fe)}catch(Fe){}}}}clearInstance(ce=pe){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,a.Z)(function*(){const ae=Array.from(ce.instances.values());yield Promise.all([...ae.filter(fe=>"INTERNAL"in fe).map(fe=>fe.INTERNAL.delete()),...ae.filter(fe=>"_delete"in fe).map(fe=>fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=pe){return this.instances.has(ce)}getOptions(ce=pe){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:ae={}}=ce,fe=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(fe))throw Error(`${this.name}(${fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ce=this.getOrInitializeService({instanceIdentifier:fe,options:ae});for(const[Fe,qe]of this.instancesDeferred.entries())fe===this.normalizeInstanceIdentifier(Fe)&&qe.resolve(Ce);return Ce}onInit(ce,ae){var fe;const Ce=this.normalizeInstanceIdentifier(ae),Fe=null!==(fe=this.onInitCallbacks.get(Ce))&&void 0!==fe?fe:new Set;Fe.add(ce),this.onInitCallbacks.set(Ce,Fe);const qe=this.instances.get(Ce);return qe&&ce(qe,Ce),()=>{Fe.delete(ce)}}invokeOnInitCallbacks(ce,ae){const fe=this.onInitCallbacks.get(ae);if(fe)for(const Ce of fe)try{Ce(ce,ae)}catch(Fe){}}getOrInitializeService({instanceIdentifier:ce,options:ae={}}){let fe=this.instances.get(ce);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:(Le=ce,Le===pe?void 0:Le),options:ae}),this.instances.set(ce,fe),this.instancesOptions.set(ce,ae),this.invokeOnInitCallbacks(fe,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,fe)}catch(Ce){}var Le;return fe||null}normalizeInstanceIdentifier(ce=pe){return this.component?this.component.multipleInstances?ce:pe:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ie{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const ae=this.getProvider(ce.name);if(ae.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);ae.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const ae=new ue(ce,this);return this.providers.set(ce,ae),ae}getProviders(){return Array.from(this.providers.values())}}},1877:(zt,rt,k)=>{"use strict";k.d(rt,{Am:()=>Le,Ub:()=>Ie,Yd:()=>le,in:()=>B});const a=[];var B=(()=>{return(ce=B||(B={}))[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",B;var ce})();const N={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},pe=B.INFO,ue={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ye=(ce,ae,...fe)=>{if(ae<ce.logLevel)return;const Ce=(new Date).toISOString(),Fe=ue[ae];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[Fe](`[${Ce}]  ${ce.name}:`,...fe)};class le{constructor(ae){this.name=ae,this._logLevel=pe,this._logHandler=ye,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in B))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?N[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...ae),this._logHandler(this,B.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...ae),this._logHandler(this,B.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,B.INFO,...ae),this._logHandler(this,B.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,B.WARN,...ae),this._logHandler(this,B.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...ae),this._logHandler(this,B.ERROR,...ae)}}function Ie(ce){a.forEach(ae=>{ae.setLogLevel(ce)})}function Le(ce,ae){for(const fe of a){let Ce=null;ae&&ae.level&&(Ce=N[ae.level]),fe.userLogHandler=null===ce?null:(Fe,qe,...dt)=>{const be=dt.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch(ne){return null}}).filter(de=>de).join(" ");qe>=(null!=Ce?Ce:Fe.logLevel)&&ce({level:B[qe].toLowerCase(),message:be,args:dt,type:Fe.name})}}}},259:(zt,rt,k)=>{"use strict";k.d(rt,{C6:()=>a.getApps,KN:()=>a.registerVersion,Mq:()=>a.getApp,ZF:()=>a.initializeApp});var a=k(9681);(0,a.registerVersion)("firebase","9.17.1","app")},9260:(zt,rt,k)=>{"use strict";k.d(rt,{Z:()=>a.Z});var a=k(3942);a.Z.registerVersion("firebase","9.17.1","app-compat")},9568:(zt,rt,k)=>{"use strict";k.r(rt);var a=k(5861),B=k(3942),N=k(2722),pe=k(2090),le=(k(9681),k(1877),k(4859));function Ie(){return window}function ae(){return(ae=(0,a.Z)(function*(he,X,ge){var ut;const{BuildInfo:Tt}=Ie();(0,N.ap)(X.sessionId,"AuthEvent did not contain a session ID");const en=yield de(X.sessionId),Oe={};return(0,N.aq)()?Oe.ibi=Tt.packageName:(0,N.ar)()?Oe.apn=Tt.packageName:(0,N.as)(he,"operation-not-supported-in-this-environment"),Tt.displayName&&(Oe.appDisplayName=Tt.displayName),Oe.sessionId=en,(0,N.at)(he,ge,X.type,void 0,null!==(ut=X.eventId)&&void 0!==ut?ut:void 0,Oe)})).apply(this,arguments)}function Ce(){return(Ce=(0,a.Z)(function*(he){const{BuildInfo:X}=Ie(),ge={};(0,N.aq)()?ge.iosBundleId=X.packageName:(0,N.ar)()?ge.androidPackageName=X.packageName:(0,N.as)(he,"operation-not-supported-in-this-environment"),yield(0,N.au)(he,ge)})).apply(this,arguments)}function dt(){return(dt=(0,a.Z)(function*(he,X,ge){const{cordova:ut}=Ie();let Tt=()=>{};try{yield new Promise((en,Oe)=>{let Re=null;function oe(){var Mt;en();const sn=null===(Mt=ut.plugins.browsertab)||void 0===Mt?void 0:Mt.close;"function"==typeof sn&&sn(),"function"==typeof(null==ge?void 0:ge.close)&&ge.close()}function lt(){Re||(Re=window.setTimeout(()=>{Oe((0,N.aw)(he,"redirect-cancelled-by-user"))},2e3))}function At(){"visible"===(null==document?void 0:document.visibilityState)&&lt()}X.addPassiveListener(oe),document.addEventListener("resume",lt,!1),(0,N.ar)()&&document.addEventListener("visibilitychange",At,!1),Tt=()=>{X.removePassiveListener(oe),document.removeEventListener("resume",lt,!1),document.removeEventListener("visibilitychange",At,!1),Re&&window.clearTimeout(Re)}})}finally{Tt()}})).apply(this,arguments)}function de(he){return ne.apply(this,arguments)}function ne(){return(ne=(0,a.Z)(function*(he){const X=Ye(he),ge=yield crypto.subtle.digest("SHA-256",X);return Array.from(new Uint8Array(ge)).map(Tt=>Tt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ye(he){if((0,N.ap)(/[0-9a-zA-Z]+/.test(he),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(he);const X=new ArrayBuffer(he.length),ge=new Uint8Array(X);for(let ut=0;ut<he.length;ut++)ge[ut]=he.charCodeAt(ut);return ge}class Xe extends N.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(X=>{this.resolveInialized=X})}addPassiveListener(X){this.passiveListeners.add(X)}removePassiveListener(X){this.passiveListeners.delete(X)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(X){return this.resolveInialized(),this.passiveListeners.forEach(ge=>ge(X)),super.onEvent(X)}initialized(){var X=this;return(0,a.Z)(function*(){yield X.initPromise})()}}function Q(he){return te.apply(this,arguments)}function te(){return(te=(0,a.Z)(function*(he){const X=yield Ve()._get(ze(he));return X&&(yield Ve()._remove(ze(he))),X})).apply(this,arguments)}function Pe(){const he=[],X="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ge=0;ge<20;ge++){const ut=Math.floor(Math.random()*X.length);he.push(X.charAt(ut))}return he.join("")}function Ve(){return(0,N.az)(N.b)}function ze(he){return(0,N.aA)("authEvent",he.config.apiKey,he.name)}function it(he){if(null==he||!he.includes("?"))return{};const[X,...ge]=he.split("?");return(0,pe.zd)(ge.join("?"))}const Me=class xe{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(X){var ge=this;return(0,a.Z)(function*(){const ut=X._key();let Tt=ge.eventManagers.get(ut);return Tt||(Tt=new Xe(X),ge.eventManagers.set(ut,Tt),ge.attachCallbackListeners(X,Tt)),Tt})()}_openPopup(X){(0,N.as)(X,"operation-not-supported-in-this-environment")}_openRedirect(X,ge,ut,Tt){var en=this;return(0,a.Z)(function*(){!function be(he){var X,ge,ut,Tt,en,Oe,Re,oe,lt,At;const Mt=Ie();(0,N.ax)("function"==typeof(null===(X=null==Mt?void 0:Mt.universalLinks)||void 0===X?void 0:X.subscribe),he,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.ax)(typeof(null===(ge=null==Mt?void 0:Mt.BuildInfo)||void 0===ge?void 0:ge.packageName)<"u",he,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.ax)("function"==typeof(null===(en=null===(Tt=null===(ut=null==Mt?void 0:Mt.cordova)||void 0===ut?void 0:ut.plugins)||void 0===Tt?void 0:Tt.browsertab)||void 0===en?void 0:en.openUrl),he,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(oe=null===(Re=null===(Oe=null==Mt?void 0:Mt.cordova)||void 0===Oe?void 0:Oe.plugins)||void 0===Re?void 0:Re.browsertab)||void 0===oe?void 0:oe.isAvailable),he,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(At=null===(lt=null==Mt?void 0:Mt.cordova)||void 0===lt?void 0:lt.InAppBrowser)||void 0===At?void 0:At.open),he,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(X);const Oe=yield en._initialize(X);yield Oe.initialized(),Oe.resetRedirect(),(0,N.aD)(),yield en._originValidation(X);const Re=function De(he,X,ge=null){return{type:X,eventId:ge,urlResponse:null,sessionId:Pe(),postBody:null,tenantId:he.tenantId,error:(0,N.aw)(he,"no-auth-event")}}(X,ut,Tt);yield function we(he,X){return Ve()._set(ze(he),X)}(X,Re);const oe=yield function ce(he,X,ge){return ae.apply(this,arguments)}(X,Re,ge),lt=yield function Fe(he){const{cordova:X}=Ie();return new Promise(ge=>{X.plugins.browsertab.isAvailable(ut=>{let Tt=null;ut?X.plugins.browsertab.openUrl(he):Tt=X.InAppBrowser.open(he,(0,N.av)()?"_blank":"_system","location=yes"),ge(Tt)})})}(oe);return function qe(he,X,ge){return dt.apply(this,arguments)}(X,Oe,lt)})()}_isIframeWebStorageSupported(X,ge){throw new Error("Method not implemented.")}_originValidation(X){const ge=X._key();return this.originValidationPromises[ge]||(this.originValidationPromises[ge]=function fe(he){return Ce.apply(this,arguments)}(X)),this.originValidationPromises[ge]}attachCallbackListeners(X,ge){const{universalLinks:ut,handleOpenURL:Tt,BuildInfo:en}=Ie(),Oe=setTimeout((0,a.Z)(function*(){yield Q(X),ge.onEvent(Se())}),500),Re=function(){var At=(0,a.Z)(function*(Mt){clearTimeout(Oe);const sn=yield Q(X);let hr=null;sn&&null!=Mt&&Mt.url&&(hr=function je(he,X){var ge,ut;const Tt=function He(he){const X=it(he),ge=X.link?decodeURIComponent(X.link):void 0,ut=it(ge).link,Tt=X.deep_link_id?decodeURIComponent(X.deep_link_id):void 0;return it(Tt).link||Tt||ut||ge||he}(X);if(Tt.includes("/__/auth/callback")){const en=it(Tt),Oe=en.firebaseError?function Qe(he){try{return JSON.parse(he)}catch(X){return null}}(decodeURIComponent(en.firebaseError)):null,Re=null===(ut=null===(ge=null==Oe?void 0:Oe.code)||void 0===ge?void 0:ge.split("auth/"))||void 0===ut?void 0:ut[1],oe=Re?(0,N.aw)(Re):null;return oe?{type:he.type,eventId:he.eventId,tenantId:he.tenantId,error:oe,urlResponse:null,sessionId:null,postBody:null}:{type:he.type,eventId:he.eventId,tenantId:he.tenantId,sessionId:he.sessionId,urlResponse:Tt,postBody:null}}return null}(sn,Mt.url)),ge.onEvent(hr||Se())});return function(sn){return At.apply(this,arguments)}}();typeof ut<"u"&&"function"==typeof ut.subscribe&&ut.subscribe(null,Re);const oe=Tt,lt=`${en.packageName.toLowerCase()}://`;Ie().handleOpenURL=function(){var At=(0,a.Z)(function*(Mt){if(Mt.toLowerCase().startsWith(lt)&&Re({url:Mt}),"function"==typeof oe)try{oe(Mt)}catch(sn){console.error(sn)}});return function(Mt){return At.apply(this,arguments)}}()}};function Se(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aw)("no-auth-event")}}function _t(){var he;return(null===(he=null==self?void 0:self.location)||void 0===he?void 0:he.protocol)||null}function Ot(he=(0,pe.z$)()){return!("file:"!==_t()&&"ionic:"!==_t()&&"capacitor:"!==_t()||!he.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sn(){try{const he=self.localStorage,X=N.aI();if(he)return he.setItem(X,"1"),he.removeItem(X),!function wn(he=(0,pe.z$)()){return function wt(){return(0,pe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function nn(he=(0,pe.z$)()){return/Edge\/\d+/.test(he)}(he)}()||(0,pe.hl)()}catch(he){return Ht()&&(0,pe.hl)()}return!1}function Ht(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fn(){return(function bt(){return"http:"===_t()||"https:"===_t()}()||(0,pe.ru)()||Ot())&&!function Gt(){return(0,pe.b$)()||(0,pe.UG)()}()&&Sn()&&!Ht()}function Jn(){return Ot()&&typeof document<"u"}function Ln(){return(Ln=(0,a.Z)(function*(){return!!Jn()&&new Promise(he=>{const X=setTimeout(()=>{he(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(X),he(!0)})})})).apply(this,arguments)}const Nt={LOCAL:"local",NONE:"none",SESSION:"session"},Wn=N.ax,Gn="persistence";function Ir(he){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(he){yield he._initializationPromise;const X=Qt(),ge=N.aA(Gn,he.config.apiKey,he.name);X&&X.setItem(ge,he._getPersistence())})).apply(this,arguments)}function Qt(){var he;try{return(null===(he=function qn(){return typeof window<"u"?window:null}())||void 0===he?void 0:he.sessionStorage)||null}catch(X){return null}}const gn=N.ax;class Hn{constructor(){this.browserResolver=N.az(N.k),this.cordovaResolver=N.az(Me),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(X){var ge=this;return(0,a.Z)(function*(){return yield ge.selectUnderlyingResolver(),ge.assertedUnderlyingResolver._initialize(X)})()}_openPopup(X,ge,ut,Tt){var en=this;return(0,a.Z)(function*(){return yield en.selectUnderlyingResolver(),en.assertedUnderlyingResolver._openPopup(X,ge,ut,Tt)})()}_openRedirect(X,ge,ut,Tt){var en=this;return(0,a.Z)(function*(){return yield en.selectUnderlyingResolver(),en.assertedUnderlyingResolver._openRedirect(X,ge,ut,Tt)})()}_isIframeWebStorageSupported(X,ge){this.assertedUnderlyingResolver._isIframeWebStorageSupported(X,ge)}_originValidation(X){return this.assertedUnderlyingResolver._originValidation(X)}get _shouldInitProactively(){return Jn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var X=this;return(0,a.Z)(function*(){if(X.underlyingResolver)return;const ge=yield function ur(){return Ln.apply(this,arguments)}();X.underlyingResolver=ge?X.cordovaResolver:X.browserResolver})()}}function rn(he){return he.unwrap()}function Rt(he){return Rr(he)}function Rr(he){const{_tokenResponse:X}=he instanceof pe.ZR?he.customData:he;if(!X)return null;if(!(he instanceof pe.ZR)&&"temporaryProof"in X&&"phoneNumber"in X)return N.P.credentialFromResult(he);const ge=X.providerId;if(!ge||ge===N.o.PASSWORD)return null;let ut;switch(ge){case N.o.GOOGLE:ut=N.Q;break;case N.o.FACEBOOK:ut=N.N;break;case N.o.GITHUB:ut=N.T;break;case N.o.TWITTER:ut=N.W;break;default:const{oauthIdToken:Tt,oauthAccessToken:en,oauthTokenSecret:Oe,pendingToken:Re,nonce:oe}=X;return en||Oe||Tt||Re?Re?ge.startsWith("saml.")?N.aL._create(ge,Re):N.J._fromParams({providerId:ge,signInMethod:ge,pendingToken:Re,idToken:Tt,accessToken:en}):new N.U(ge).credential({idToken:Tt,accessToken:en,rawNonce:oe}):null}return he instanceof pe.ZR?ut.credentialFromError(he):ut.credentialFromResult(he)}function kn(he,X){return X.catch(ge=>{throw ge instanceof pe.ZR&&function dr(he,X){var ge;const ut=null===(ge=X.customData)||void 0===ge?void 0:ge._tokenResponse;if("auth/multi-factor-auth-required"===(null==X?void 0:X.code))X.resolver=new In(he,N.an(he,X));else if(ut){const Tt=Rr(X),en=X;Tt&&(en.credential=Tt,en.tenantId=ut.tenantId||void 0,en.email=ut.email||void 0,en.phoneNumber=ut.phoneNumber||void 0)}}(he,ge),ge}).then(ge=>{const Tt=ge.user;return{operationType:ge.operationType,credential:Rt(ge),additionalUserInfo:N.al(ge),user:or.getOrCreate(Tt)}})}function Fr(he,X){return xn.apply(this,arguments)}function xn(){return(xn=(0,a.Z)(function*(he,X){const ge=yield X;return{verificationId:ge.verificationId,confirm:ut=>kn(he,ge.confirm(ut))}})).apply(this,arguments)}class In{constructor(X,ge){this.resolver=ge,this.auth=function cr(he){return he.wrapped()}(X)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(X){return kn(rn(this.auth),this.resolver.resolveSignIn(X))}}class or{constructor(X){this._delegate=X,this.multiFactor=N.ao(X)}static getOrCreate(X){return or.USER_MAP.has(X)||or.USER_MAP.set(X,new or(X)),or.USER_MAP.get(X)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(X){return this._delegate.getIdTokenResult(X)}getIdToken(X){return this._delegate.getIdToken(X)}linkAndRetrieveDataWithCredential(X){return this.linkWithCredential(X)}linkWithCredential(X){var ge=this;return(0,a.Z)(function*(){return kn(ge.auth,N.Z(ge._delegate,X))})()}linkWithPhoneNumber(X,ge){var ut=this;return(0,a.Z)(function*(){return Fr(ut.auth,N.l(ut._delegate,X,ge))})()}linkWithPopup(X){var ge=this;return(0,a.Z)(function*(){return kn(ge.auth,N.d(ge._delegate,X,Hn))})()}linkWithRedirect(X){var ge=this;return(0,a.Z)(function*(){return yield Ir(N.aE(ge.auth)),N.g(ge._delegate,X,Hn)})()}reauthenticateAndRetrieveDataWithCredential(X){return this.reauthenticateWithCredential(X)}reauthenticateWithCredential(X){var ge=this;return(0,a.Z)(function*(){return kn(ge.auth,N._(ge._delegate,X))})()}reauthenticateWithPhoneNumber(X,ge){return Fr(this.auth,N.r(this._delegate,X,ge))}reauthenticateWithPopup(X){return kn(this.auth,N.e(this._delegate,X,Hn))}reauthenticateWithRedirect(X){var ge=this;return(0,a.Z)(function*(){return yield Ir(N.aE(ge.auth)),N.h(ge._delegate,X,Hn)})()}sendEmailVerification(X){return N.ab(this._delegate,X)}unlink(X){var ge=this;return(0,a.Z)(function*(){return yield N.ak(ge._delegate,X),ge})()}updateEmail(X){return N.ag(this._delegate,X)}updatePassword(X){return N.ah(this._delegate,X)}updatePhoneNumber(X){return N.u(this._delegate,X)}updateProfile(X){return N.af(this._delegate,X)}verifyBeforeUpdateEmail(X,ge){return N.ac(this._delegate,X,ge)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}or.USER_MAP=new WeakMap;const xt=N.ax;let Et=(()=>{class he{constructor(ge,ut){if(this.app=ge,ut.isInitialized())return this._delegate=ut.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Tt}=ge.options;xt(Tt,"invalid-api-key",{appName:ge.name}),xt(Tt,"invalid-api-key",{appName:ge.name});const en=typeof window<"u"?Hn:void 0;this._delegate=ut.initialize({options:{persistence:un(Tt,ge.name),popupRedirectResolver:en}}),this._delegate._updateErrorMap(N.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?or.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ge){this._delegate.languageCode=ge}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ge){this._delegate.tenantId=ge}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ge,ut){N.G(this._delegate,ge,ut)}applyActionCode(ge){return N.a2(this._delegate,ge)}checkActionCode(ge){return N.a3(this._delegate,ge)}confirmPasswordReset(ge,ut){return N.a1(this._delegate,ge,ut)}createUserWithEmailAndPassword(ge,ut){var Tt=this;return(0,a.Z)(function*(){return kn(Tt._delegate,N.a5(Tt._delegate,ge,ut))})()}fetchProvidersForEmail(ge){return this.fetchSignInMethodsForEmail(ge)}fetchSignInMethodsForEmail(ge){return N.aa(this._delegate,ge)}isSignInWithEmailLink(ge){return N.a8(this._delegate,ge)}getRedirectResult(){var ge=this;return(0,a.Z)(function*(){xt(Fn(),ge._delegate,"operation-not-supported-in-this-environment");const ut=yield N.j(ge._delegate,Hn);return ut?kn(ge._delegate,Promise.resolve(ut)):{credential:null,user:null}})()}addFrameworkForLogging(ge){!function Je(he,X){(0,N.aE)(he)._logFramework(X)}(this._delegate,ge)}onAuthStateChanged(ge,ut,Tt){const{next:en,error:Oe,complete:Re}=qt(ge,ut,Tt);return this._delegate.onAuthStateChanged(en,Oe,Re)}onIdTokenChanged(ge,ut,Tt){const{next:en,error:Oe,complete:Re}=qt(ge,ut,Tt);return this._delegate.onIdTokenChanged(en,Oe,Re)}sendSignInLinkToEmail(ge,ut){return N.a7(this._delegate,ge,ut)}sendPasswordResetEmail(ge,ut){return N.a0(this._delegate,ge,ut||void 0)}setPersistence(ge){var ut=this;return(0,a.Z)(function*(){let Tt;switch(function gr(he,X){Wn(Object.values(Nt).includes(X),he,"invalid-persistence-type"),(0,pe.b$)()?Wn(X!==Nt.SESSION,he,"unsupported-persistence-type"):(0,pe.UG)()?Wn(X===Nt.NONE,he,"unsupported-persistence-type"):Ht()?Wn(X===Nt.NONE||X===Nt.LOCAL&&(0,pe.hl)(),he,"unsupported-persistence-type"):Wn(X===Nt.NONE||Sn(),he,"unsupported-persistence-type")}(ut._delegate,ge),ge){case Nt.SESSION:Tt=N.a;break;case Nt.LOCAL:Tt=(yield N.az(N.i)._isAvailable())?N.i:N.b;break;case Nt.NONE:Tt=N.L;break;default:return N.as("argument-error",{appName:ut._delegate.name})}return ut._delegate.setPersistence(Tt)})()}signInAndRetrieveDataWithCredential(ge){return this.signInWithCredential(ge)}signInAnonymously(){return kn(this._delegate,N.X(this._delegate))}signInWithCredential(ge){return kn(this._delegate,N.Y(this._delegate,ge))}signInWithCustomToken(ge){return kn(this._delegate,N.$(this._delegate,ge))}signInWithEmailAndPassword(ge,ut){return kn(this._delegate,N.a6(this._delegate,ge,ut))}signInWithEmailLink(ge,ut){return kn(this._delegate,N.a9(this._delegate,ge,ut))}signInWithPhoneNumber(ge,ut){return Fr(this._delegate,N.s(this._delegate,ge,ut))}signInWithPopup(ge){var ut=this;return(0,a.Z)(function*(){return xt(Fn(),ut._delegate,"operation-not-supported-in-this-environment"),kn(ut._delegate,N.c(ut._delegate,ge,Hn))})()}signInWithRedirect(ge){var ut=this;return(0,a.Z)(function*(){return xt(Fn(),ut._delegate,"operation-not-supported-in-this-environment"),yield Ir(ut._delegate),N.f(ut._delegate,ge,Hn)})()}updateCurrentUser(ge){return this._delegate.updateCurrentUser(ge)}verifyPasswordResetCode(ge){return N.a4(this._delegate,ge)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return he.Persistence=Nt,he})();function qt(he,X,ge){let ut=he;"function"!=typeof he&&({next:ut,error:X,complete:ge}=he);const Tt=ut;return{next:Oe=>Tt(Oe&&or.getOrCreate(Oe)),error:X,complete:ge}}function un(he,X){const ge=function ln(he,X){const ge=Qt();if(!ge)return[];const ut=N.aA(Gn,he,X);switch(ge.getItem(ut)){case Nt.NONE:return[N.L];case Nt.LOCAL:return[N.i,N.a];case Nt.SESSION:return[N.a];default:return[]}}(he,X);if(typeof self<"u"&&!ge.includes(N.i)&&ge.push(N.i),typeof window<"u")for(const ut of[N.b,N.a])ge.includes(ut)||ge.push(ut);return ge.includes(N.L)||ge.push(N.L),ge}class dn{constructor(){this.providerId="phone",this._delegate=new N.P(rn(B.Z.auth()))}static credential(X,ge){return N.P.credential(X,ge)}verifyPhoneNumber(X,ge){return this._delegate.verifyPhoneNumber(X,ge)}unwrap(){return this._delegate}}dn.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,dn.PROVIDER_ID=N.P.PROVIDER_ID;const Rn=N.ax;class Ae{constructor(X,ge,ut=B.Z.app()){var Tt;Rn(null===(Tt=ut.options)||void 0===Tt?void 0:Tt.apiKey,"invalid-api-key",{appName:ut.name}),this._delegate=new N.R(X,ge,ut.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $e(he){he.INTERNAL.registerComponent(new le.wA("auth-compat",X=>{const ge=X.getProvider("app-compat").getImmediate(),ut=X.getProvider("auth");return new Et(ge,ut)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.M,FacebookAuthProvider:N.N,GithubAuthProvider:N.T,GoogleAuthProvider:N.Q,OAuthProvider:N.U,SAMLAuthProvider:N.V,PhoneAuthProvider:dn,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:Ae,TwitterAuthProvider:N.W,Auth:Et,AuthCredential:N.H,Error:pe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),he.registerVersion("@firebase/auth-compat","0.3.3")}(B.Z)},8766:(zt,rt,k)=>{"use strict";k.d(rt,{Lj:()=>We,X3:()=>Ye});var a=k(5861);let N,pe;const le=new WeakMap,Ie=new WeakMap,Le=new WeakMap,ce=new WeakMap,ae=new WeakMap;let Fe={get(te,je,Pe){if(te instanceof IDBTransaction){if("done"===je)return Ie.get(te);if("objectStoreNames"===je)return te.objectStoreNames||Le.get(te);if("store"===je)return Pe.objectStoreNames[1]?void 0:Pe.objectStore(Pe.objectStoreNames[0])}return de(te[je])},set:(te,je,Pe)=>(te[je]=Pe,!0),has:(te,je)=>te instanceof IDBTransaction&&("done"===je||"store"===je)||je in te};function be(te){return"function"==typeof te?function dt(te){return te!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(te)?function(...je){return te.apply(ne(this),je),de(le.get(this))}:function(...je){return de(te.apply(ne(this),je))}:function(je,...Pe){const Ve=te.call(ne(this),je,...Pe);return Le.set(Ve,je.sort?je.sort():[je]),de(Ve)}}(te):(te instanceof IDBTransaction&&function Ce(te){if(Ie.has(te))return;const je=new Promise((Pe,Ve)=>{const ze=()=>{te.removeEventListener("complete",Qe),te.removeEventListener("error",He),te.removeEventListener("abort",He)},Qe=()=>{Pe(),ze()},He=()=>{Ve(te.error||new DOMException("AbortError","AbortError")),ze()};te.addEventListener("complete",Qe),te.addEventListener("error",He),te.addEventListener("abort",He)});Ie.set(te,je)}(te),((te,je)=>je.some(Pe=>te instanceof Pe))(te,function ue(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(te,Fe):te)}function de(te){if(te instanceof IDBRequest)return function fe(te){const je=new Promise((Pe,Ve)=>{const ze=()=>{te.removeEventListener("success",Qe),te.removeEventListener("error",He)},Qe=()=>{Pe(de(te.result)),ze()},He=()=>{Ve(te.error),ze()};te.addEventListener("success",Qe),te.addEventListener("error",He)});return je.then(Pe=>{Pe instanceof IDBCursor&&le.set(Pe,te)}).catch(()=>{}),ae.set(je,te),je}(te);if(ce.has(te))return ce.get(te);const je=be(te);return je!==te&&(ce.set(te,je),ae.set(je,te)),je}const ne=te=>ae.get(te);function Ye(te,je,{blocked:Pe,upgrade:Ve,blocking:ze,terminated:Qe}={}){const He=indexedDB.open(te,je),it=de(He);return Ve&&He.addEventListener("upgradeneeded",at=>{Ve(de(He.result),at.oldVersion,at.newVersion,de(He.transaction))}),Pe&&He.addEventListener("blocked",()=>Pe()),it.then(at=>{Qe&&at.addEventListener("close",()=>Qe()),ze&&at.addEventListener("versionchange",()=>ze())}).catch(()=>{}),it}function We(te,{blocked:je}={}){const Pe=indexedDB.deleteDatabase(te);return je&&Pe.addEventListener("blocked",()=>je()),de(Pe).then(()=>{})}const Xe=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],we=new Map;function Q(te,je){if(!(te instanceof IDBDatabase)||je in te||"string"!=typeof je)return;if(we.get(je))return we.get(je);const Pe=je.replace(/FromIndex$/,""),Ve=je!==Pe,ze=De.includes(Pe);if(!(Pe in(Ve?IDBIndex:IDBObjectStore).prototype)||!ze&&!Xe.includes(Pe))return;const Qe=function(){var He=(0,a.Z)(function*(it,...at){const xe=this.transaction(it,ze?"readwrite":"readonly");let Me=xe.store;return Ve&&(Me=Me.index(at.shift())),(yield Promise.all([Me[Pe](...at),ze&&xe.done]))[0]});return function(at){return He.apply(this,arguments)}}();return we.set(je,Qe),Qe}!function qe(te){Fe=te(Fe)}(te=>({...te,get:(je,Pe,Ve)=>Q(je,Pe)||te.get(je,Pe,Ve),has:(je,Pe)=>!!Q(je,Pe)||te.has(je,Pe)}))},5861:(zt,rt,k)=>{"use strict";function a(N,pe,ue,ye,le,Ie,Le){try{var ce=N[Ie](Le),ae=ce.value}catch(fe){return void ue(fe)}ce.done?pe(ae):Promise.resolve(ae).then(ye,le)}function B(N){return function(){var pe=this,ue=arguments;return new Promise(function(ye,le){var Ie=N.apply(pe,ue);function Le(ae){a(Ie,ye,le,Le,ce,"next",ae)}function ce(ae){a(Ie,ye,le,Le,ce,"throw",ae)}Le(void 0)})}}k.d(rt,{Z:()=>B})}},zt=>{zt(zt.s=9726)}]);